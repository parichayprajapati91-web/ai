{"version":3,"file":"peaks.js","sources":["node_modules/peaks.js/node_modules/eventemitter3/index.js","node_modules/peaks.js/src/cue.js","node_modules/peaks.js/node_modules/konva/lib/Global.js","node_modules/peaks.js/node_modules/konva/lib/Util.js","node_modules/peaks.js/node_modules/konva/lib/Context.js","node_modules/peaks.js/node_modules/konva/lib/Canvas.js","node_modules/peaks.js/node_modules/konva/lib/DragAndDrop.js","node_modules/peaks.js/node_modules/konva/lib/Validators.js","node_modules/peaks.js/node_modules/konva/lib/Factory.js","node_modules/peaks.js/node_modules/konva/lib/Node.js","node_modules/peaks.js/node_modules/konva/lib/Container.js","node_modules/peaks.js/node_modules/konva/lib/PointerEvents.js","node_modules/peaks.js/node_modules/konva/lib/Stage.js","node_modules/peaks.js/node_modules/konva/lib/Shape.js","node_modules/peaks.js/node_modules/konva/lib/Layer.js","node_modules/peaks.js/node_modules/konva/lib/FastLayer.js","node_modules/peaks.js/node_modules/konva/lib/Group.js","node_modules/peaks.js/node_modules/konva/lib/Animation.js","node_modules/peaks.js/node_modules/konva/lib/Tween.js","node_modules/peaks.js/node_modules/konva/lib/_CoreInternals.js","node_modules/peaks.js/node_modules/konva/lib/Core.js","node_modules/peaks.js/src/utils.js","node_modules/peaks.js/src/cue-emitter.js","node_modules/peaks.js/src/point.js","node_modules/peaks.js/src/waveform-points.js","node_modules/peaks.js/src/segment.js","node_modules/peaks.js/src/waveform-segments.js","node_modules/peaks.js/src/keyboard-handler.js","node_modules/peaks.js/src/mediaelement-player.js","node_modules/peaks.js/src/player.js","node_modules/peaks.js/node_modules/konva/lib/shapes/Line.js","node_modules/peaks.js/node_modules/konva/lib/shapes/Rect.js","node_modules/peaks.js/node_modules/konva/lib/shapes/Text.js","node_modules/peaks.js/src/default-point-marker.js","node_modules/peaks.js/src/default-segment-marker.js","node_modules/peaks.js/src/marker-factories.js","node_modules/peaks.js/src/highlight-layer.js","node_modules/peaks.js/src/point-marker.js","node_modules/peaks.js/src/points-layer.js","node_modules/peaks.js/src/playhead-layer.js","node_modules/peaks.js/src/overlay-segment-marker.js","node_modules/peaks.js/src/segment-marker.js","node_modules/peaks.js/src/waveform-shape.js","node_modules/peaks.js/src/segment-shape.js","node_modules/peaks.js/src/segments-layer.js","node_modules/peaks.js/src/waveform-axis.js","node_modules/peaks.js/src/waveform-view.js","node_modules/peaks.js/src/mouse-drag-handler.js","node_modules/peaks.js/src/seek-mouse-drag-handler.js","node_modules/peaks.js/src/waveform-overview.js","node_modules/peaks.js/src/insert-segment-mouse-drag-handler.js","node_modules/peaks.js/src/scroll-mouse-drag-handler.js","node_modules/peaks.js/src/waveform-zoomview.js","node_modules/peaks.js/src/scrollbar.js","node_modules/peaks.js/src/view-controller.js","node_modules/peaks.js/src/zoom-controller.js","node_modules/peaks.js/node_modules/waveform-data/dist/waveform-data.esm.js","node_modules/peaks.js/src/waveform-builder.js","node_modules/peaks.js/src/main.js"],"sourcesContent":["'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","/**\n * @file\n *\n * Defines the {@link Cue} class.\n *\n * @module cue\n */\n\n/**\n * A cue represents an event to be triggered at some point on the media\n * timeline.\n *\n * @class\n * @alias Cue\n *\n * @param {Number} time Cue time, in seconds.\n * @param {Number} type Cue mark type, either <code>Cue.POINT</code>,\n *   <code>Cue.SEGMENT_START</code>, or <code>Cue.SEGMENT_END</code>.\n * @param {String} id The id of the {@link Point} or {@link Segment}.\n */\n\nfunction Cue(time, type, id) {\n  this.time = time;\n  this.type = type;\n  this.id = id;\n}\n\n/**\n  * @constant\n  * @type {Number}\n  */\n\nCue.POINT = 0;\nCue.SEGMENT_START = 1;\nCue.SEGMENT_END = 2;\n\n/**\n * Callback function for use with Array.prototype.sort().\n *\n * @static\n * @param {Cue} a\n * @param {Cue} b\n * @return {Number}\n */\n\nCue.sorter = function(a, b) {\n  return a.time - b.time;\n};\n\nexport default Cue;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports._registerNode = exports.Konva = exports.glob = void 0;\nconst PI_OVER_180 = Math.PI / 180;\nfunction detectBrowser() {\n    return (typeof window !== 'undefined' &&\n        ({}.toString.call(window) === '[object Window]' ||\n            {}.toString.call(window) === '[object global]'));\n}\nexports.glob = typeof global !== 'undefined'\n    ? global\n    : typeof window !== 'undefined'\n        ? window\n        : typeof WorkerGlobalScope !== 'undefined'\n            ? self\n            : {};\nexports.Konva = {\n    _global: exports.glob,\n    version: '9.3.22',\n    isBrowser: detectBrowser(),\n    isUnminified: /param/.test(function (param) { }.toString()),\n    dblClickWindow: 400,\n    getAngle(angle) {\n        return exports.Konva.angleDeg ? angle * PI_OVER_180 : angle;\n    },\n    enableTrace: false,\n    pointerEventsEnabled: true,\n    autoDrawEnabled: true,\n    hitOnDragEnabled: false,\n    capturePointerEventsEnabled: false,\n    _mouseListenClick: false,\n    _touchListenClick: false,\n    _pointerListenClick: false,\n    _mouseInDblClickWindow: false,\n    _touchInDblClickWindow: false,\n    _pointerInDblClickWindow: false,\n    _mouseDblClickPointerId: null,\n    _touchDblClickPointerId: null,\n    _pointerDblClickPointerId: null,\n    _fixTextRendering: false,\n    pixelRatio: (typeof window !== 'undefined' && window.devicePixelRatio) || 1,\n    dragDistance: 3,\n    angleDeg: true,\n    showWarnings: true,\n    dragButtons: [0, 1],\n    isDragging() {\n        return exports.Konva['DD'].isDragging;\n    },\n    isTransforming() {\n        var _a;\n        return (_a = exports.Konva['Transformer']) === null || _a === void 0 ? void 0 : _a.isTransforming();\n    },\n    isDragReady() {\n        return !!exports.Konva['DD'].node;\n    },\n    releaseCanvasOnDestroy: true,\n    document: exports.glob.document,\n    _injectGlobal(Konva) {\n        exports.glob.Konva = Konva;\n    },\n};\nconst _registerNode = (NodeClass) => {\n    exports.Konva[NodeClass.prototype.getClassName()] = NodeClass;\n};\nexports._registerNode = _registerNode;\nexports.Konva._injectGlobal(exports.Konva);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Util = exports.Transform = void 0;\nconst Global_1 = require(\"./Global\");\nclass Transform {\n    constructor(m = [1, 0, 0, 1, 0, 0]) {\n        this.dirty = false;\n        this.m = (m && m.slice()) || [1, 0, 0, 1, 0, 0];\n    }\n    reset() {\n        this.m[0] = 1;\n        this.m[1] = 0;\n        this.m[2] = 0;\n        this.m[3] = 1;\n        this.m[4] = 0;\n        this.m[5] = 0;\n    }\n    copy() {\n        return new Transform(this.m);\n    }\n    copyInto(tr) {\n        tr.m[0] = this.m[0];\n        tr.m[1] = this.m[1];\n        tr.m[2] = this.m[2];\n        tr.m[3] = this.m[3];\n        tr.m[4] = this.m[4];\n        tr.m[5] = this.m[5];\n    }\n    point(point) {\n        const m = this.m;\n        return {\n            x: m[0] * point.x + m[2] * point.y + m[4],\n            y: m[1] * point.x + m[3] * point.y + m[5],\n        };\n    }\n    translate(x, y) {\n        this.m[4] += this.m[0] * x + this.m[2] * y;\n        this.m[5] += this.m[1] * x + this.m[3] * y;\n        return this;\n    }\n    scale(sx, sy) {\n        this.m[0] *= sx;\n        this.m[1] *= sx;\n        this.m[2] *= sy;\n        this.m[3] *= sy;\n        return this;\n    }\n    rotate(rad) {\n        const c = Math.cos(rad);\n        const s = Math.sin(rad);\n        const m11 = this.m[0] * c + this.m[2] * s;\n        const m12 = this.m[1] * c + this.m[3] * s;\n        const m21 = this.m[0] * -s + this.m[2] * c;\n        const m22 = this.m[1] * -s + this.m[3] * c;\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        return this;\n    }\n    getTranslation() {\n        return {\n            x: this.m[4],\n            y: this.m[5],\n        };\n    }\n    skew(sx, sy) {\n        const m11 = this.m[0] + this.m[2] * sy;\n        const m12 = this.m[1] + this.m[3] * sy;\n        const m21 = this.m[2] + this.m[0] * sx;\n        const m22 = this.m[3] + this.m[1] * sx;\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        return this;\n    }\n    multiply(matrix) {\n        const m11 = this.m[0] * matrix.m[0] + this.m[2] * matrix.m[1];\n        const m12 = this.m[1] * matrix.m[0] + this.m[3] * matrix.m[1];\n        const m21 = this.m[0] * matrix.m[2] + this.m[2] * matrix.m[3];\n        const m22 = this.m[1] * matrix.m[2] + this.m[3] * matrix.m[3];\n        const dx = this.m[0] * matrix.m[4] + this.m[2] * matrix.m[5] + this.m[4];\n        const dy = this.m[1] * matrix.m[4] + this.m[3] * matrix.m[5] + this.m[5];\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        this.m[4] = dx;\n        this.m[5] = dy;\n        return this;\n    }\n    invert() {\n        const d = 1 / (this.m[0] * this.m[3] - this.m[1] * this.m[2]);\n        const m0 = this.m[3] * d;\n        const m1 = -this.m[1] * d;\n        const m2 = -this.m[2] * d;\n        const m3 = this.m[0] * d;\n        const m4 = d * (this.m[2] * this.m[5] - this.m[3] * this.m[4]);\n        const m5 = d * (this.m[1] * this.m[4] - this.m[0] * this.m[5]);\n        this.m[0] = m0;\n        this.m[1] = m1;\n        this.m[2] = m2;\n        this.m[3] = m3;\n        this.m[4] = m4;\n        this.m[5] = m5;\n        return this;\n    }\n    getMatrix() {\n        return this.m;\n    }\n    decompose() {\n        const a = this.m[0];\n        const b = this.m[1];\n        const c = this.m[2];\n        const d = this.m[3];\n        const e = this.m[4];\n        const f = this.m[5];\n        const delta = a * d - b * c;\n        const result = {\n            x: e,\n            y: f,\n            rotation: 0,\n            scaleX: 0,\n            scaleY: 0,\n            skewX: 0,\n            skewY: 0,\n        };\n        if (a != 0 || b != 0) {\n            const r = Math.sqrt(a * a + b * b);\n            result.rotation = b > 0 ? Math.acos(a / r) : -Math.acos(a / r);\n            result.scaleX = r;\n            result.scaleY = delta / r;\n            result.skewX = (a * c + b * d) / delta;\n            result.skewY = 0;\n        }\n        else if (c != 0 || d != 0) {\n            const s = Math.sqrt(c * c + d * d);\n            result.rotation =\n                Math.PI / 2 - (d > 0 ? Math.acos(-c / s) : -Math.acos(c / s));\n            result.scaleX = delta / s;\n            result.scaleY = s;\n            result.skewX = 0;\n            result.skewY = (a * c + b * d) / delta;\n        }\n        else {\n        }\n        result.rotation = exports.Util._getRotation(result.rotation);\n        return result;\n    }\n}\nexports.Transform = Transform;\nconst OBJECT_ARRAY = '[object Array]', OBJECT_NUMBER = '[object Number]', OBJECT_STRING = '[object String]', OBJECT_BOOLEAN = '[object Boolean]', PI_OVER_DEG180 = Math.PI / 180, DEG180_OVER_PI = 180 / Math.PI, HASH = '#', EMPTY_STRING = '', ZERO = '0', KONVA_WARNING = 'Konva warning: ', KONVA_ERROR = 'Konva error: ', RGB_PAREN = 'rgb(', COLORS = {\n    aliceblue: [240, 248, 255],\n    antiquewhite: [250, 235, 215],\n    aqua: [0, 255, 255],\n    aquamarine: [127, 255, 212],\n    azure: [240, 255, 255],\n    beige: [245, 245, 220],\n    bisque: [255, 228, 196],\n    black: [0, 0, 0],\n    blanchedalmond: [255, 235, 205],\n    blue: [0, 0, 255],\n    blueviolet: [138, 43, 226],\n    brown: [165, 42, 42],\n    burlywood: [222, 184, 135],\n    cadetblue: [95, 158, 160],\n    chartreuse: [127, 255, 0],\n    chocolate: [210, 105, 30],\n    coral: [255, 127, 80],\n    cornflowerblue: [100, 149, 237],\n    cornsilk: [255, 248, 220],\n    crimson: [220, 20, 60],\n    cyan: [0, 255, 255],\n    darkblue: [0, 0, 139],\n    darkcyan: [0, 139, 139],\n    darkgoldenrod: [184, 132, 11],\n    darkgray: [169, 169, 169],\n    darkgreen: [0, 100, 0],\n    darkgrey: [169, 169, 169],\n    darkkhaki: [189, 183, 107],\n    darkmagenta: [139, 0, 139],\n    darkolivegreen: [85, 107, 47],\n    darkorange: [255, 140, 0],\n    darkorchid: [153, 50, 204],\n    darkred: [139, 0, 0],\n    darksalmon: [233, 150, 122],\n    darkseagreen: [143, 188, 143],\n    darkslateblue: [72, 61, 139],\n    darkslategray: [47, 79, 79],\n    darkslategrey: [47, 79, 79],\n    darkturquoise: [0, 206, 209],\n    darkviolet: [148, 0, 211],\n    deeppink: [255, 20, 147],\n    deepskyblue: [0, 191, 255],\n    dimgray: [105, 105, 105],\n    dimgrey: [105, 105, 105],\n    dodgerblue: [30, 144, 255],\n    firebrick: [178, 34, 34],\n    floralwhite: [255, 255, 240],\n    forestgreen: [34, 139, 34],\n    fuchsia: [255, 0, 255],\n    gainsboro: [220, 220, 220],\n    ghostwhite: [248, 248, 255],\n    gold: [255, 215, 0],\n    goldenrod: [218, 165, 32],\n    gray: [128, 128, 128],\n    green: [0, 128, 0],\n    greenyellow: [173, 255, 47],\n    grey: [128, 128, 128],\n    honeydew: [240, 255, 240],\n    hotpink: [255, 105, 180],\n    indianred: [205, 92, 92],\n    indigo: [75, 0, 130],\n    ivory: [255, 255, 240],\n    khaki: [240, 230, 140],\n    lavender: [230, 230, 250],\n    lavenderblush: [255, 240, 245],\n    lawngreen: [124, 252, 0],\n    lemonchiffon: [255, 250, 205],\n    lightblue: [173, 216, 230],\n    lightcoral: [240, 128, 128],\n    lightcyan: [224, 255, 255],\n    lightgoldenrodyellow: [250, 250, 210],\n    lightgray: [211, 211, 211],\n    lightgreen: [144, 238, 144],\n    lightgrey: [211, 211, 211],\n    lightpink: [255, 182, 193],\n    lightsalmon: [255, 160, 122],\n    lightseagreen: [32, 178, 170],\n    lightskyblue: [135, 206, 250],\n    lightslategray: [119, 136, 153],\n    lightslategrey: [119, 136, 153],\n    lightsteelblue: [176, 196, 222],\n    lightyellow: [255, 255, 224],\n    lime: [0, 255, 0],\n    limegreen: [50, 205, 50],\n    linen: [250, 240, 230],\n    magenta: [255, 0, 255],\n    maroon: [128, 0, 0],\n    mediumaquamarine: [102, 205, 170],\n    mediumblue: [0, 0, 205],\n    mediumorchid: [186, 85, 211],\n    mediumpurple: [147, 112, 219],\n    mediumseagreen: [60, 179, 113],\n    mediumslateblue: [123, 104, 238],\n    mediumspringgreen: [0, 250, 154],\n    mediumturquoise: [72, 209, 204],\n    mediumvioletred: [199, 21, 133],\n    midnightblue: [25, 25, 112],\n    mintcream: [245, 255, 250],\n    mistyrose: [255, 228, 225],\n    moccasin: [255, 228, 181],\n    navajowhite: [255, 222, 173],\n    navy: [0, 0, 128],\n    oldlace: [253, 245, 230],\n    olive: [128, 128, 0],\n    olivedrab: [107, 142, 35],\n    orange: [255, 165, 0],\n    orangered: [255, 69, 0],\n    orchid: [218, 112, 214],\n    palegoldenrod: [238, 232, 170],\n    palegreen: [152, 251, 152],\n    paleturquoise: [175, 238, 238],\n    palevioletred: [219, 112, 147],\n    papayawhip: [255, 239, 213],\n    peachpuff: [255, 218, 185],\n    peru: [205, 133, 63],\n    pink: [255, 192, 203],\n    plum: [221, 160, 203],\n    powderblue: [176, 224, 230],\n    purple: [128, 0, 128],\n    rebeccapurple: [102, 51, 153],\n    red: [255, 0, 0],\n    rosybrown: [188, 143, 143],\n    royalblue: [65, 105, 225],\n    saddlebrown: [139, 69, 19],\n    salmon: [250, 128, 114],\n    sandybrown: [244, 164, 96],\n    seagreen: [46, 139, 87],\n    seashell: [255, 245, 238],\n    sienna: [160, 82, 45],\n    silver: [192, 192, 192],\n    skyblue: [135, 206, 235],\n    slateblue: [106, 90, 205],\n    slategray: [119, 128, 144],\n    slategrey: [119, 128, 144],\n    snow: [255, 255, 250],\n    springgreen: [0, 255, 127],\n    steelblue: [70, 130, 180],\n    tan: [210, 180, 140],\n    teal: [0, 128, 128],\n    thistle: [216, 191, 216],\n    transparent: [255, 255, 255, 0],\n    tomato: [255, 99, 71],\n    turquoise: [64, 224, 208],\n    violet: [238, 130, 238],\n    wheat: [245, 222, 179],\n    white: [255, 255, 255],\n    whitesmoke: [245, 245, 245],\n    yellow: [255, 255, 0],\n    yellowgreen: [154, 205, 5],\n}, RGB_REGEX = /rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)/;\nlet animQueue = [];\nconst req = (typeof requestAnimationFrame !== 'undefined' && requestAnimationFrame) ||\n    function (f) {\n        setTimeout(f, 60);\n    };\nexports.Util = {\n    _isElement(obj) {\n        return !!(obj && obj.nodeType == 1);\n    },\n    _isFunction(obj) {\n        return !!(obj && obj.constructor && obj.call && obj.apply);\n    },\n    _isPlainObject(obj) {\n        return !!obj && obj.constructor === Object;\n    },\n    _isArray(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_ARRAY;\n    },\n    _isNumber(obj) {\n        return (Object.prototype.toString.call(obj) === OBJECT_NUMBER &&\n            !isNaN(obj) &&\n            isFinite(obj));\n    },\n    _isString(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_STRING;\n    },\n    _isBoolean(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_BOOLEAN;\n    },\n    isObject(val) {\n        return val instanceof Object;\n    },\n    isValidSelector(selector) {\n        if (typeof selector !== 'string') {\n            return false;\n        }\n        const firstChar = selector[0];\n        return (firstChar === '#' ||\n            firstChar === '.' ||\n            firstChar === firstChar.toUpperCase());\n    },\n    _sign(number) {\n        if (number === 0) {\n            return 1;\n        }\n        if (number > 0) {\n            return 1;\n        }\n        else {\n            return -1;\n        }\n    },\n    requestAnimFrame(callback) {\n        animQueue.push(callback);\n        if (animQueue.length === 1) {\n            req(function () {\n                const queue = animQueue;\n                animQueue = [];\n                queue.forEach(function (cb) {\n                    cb();\n                });\n            });\n        }\n    },\n    createCanvasElement() {\n        const canvas = document.createElement('canvas');\n        try {\n            canvas.style = canvas.style || {};\n        }\n        catch (e) { }\n        return canvas;\n    },\n    createImageElement() {\n        return document.createElement('img');\n    },\n    _isInDocument(el) {\n        while ((el = el.parentNode)) {\n            if (el == document) {\n                return true;\n            }\n        }\n        return false;\n    },\n    _urlToImage(url, callback) {\n        const imageObj = exports.Util.createImageElement();\n        imageObj.onload = function () {\n            callback(imageObj);\n        };\n        imageObj.src = url;\n    },\n    _rgbToHex(r, g, b) {\n        return ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n    },\n    _hexToRgb(hex) {\n        hex = hex.replace(HASH, EMPTY_STRING);\n        const bigint = parseInt(hex, 16);\n        return {\n            r: (bigint >> 16) & 255,\n            g: (bigint >> 8) & 255,\n            b: bigint & 255,\n        };\n    },\n    getRandomColor() {\n        let randColor = ((Math.random() * 0xffffff) << 0).toString(16);\n        while (randColor.length < 6) {\n            randColor = ZERO + randColor;\n        }\n        return HASH + randColor;\n    },\n    getRGB(color) {\n        let rgb;\n        if (color in COLORS) {\n            rgb = COLORS[color];\n            return {\n                r: rgb[0],\n                g: rgb[1],\n                b: rgb[2],\n            };\n        }\n        else if (color[0] === HASH) {\n            return this._hexToRgb(color.substring(1));\n        }\n        else if (color.substr(0, 4) === RGB_PAREN) {\n            rgb = RGB_REGEX.exec(color.replace(/ /g, ''));\n            return {\n                r: parseInt(rgb[1], 10),\n                g: parseInt(rgb[2], 10),\n                b: parseInt(rgb[3], 10),\n            };\n        }\n        else {\n            return {\n                r: 0,\n                g: 0,\n                b: 0,\n            };\n        }\n    },\n    colorToRGBA(str) {\n        str = str || 'black';\n        return (exports.Util._namedColorToRBA(str) ||\n            exports.Util._hex3ColorToRGBA(str) ||\n            exports.Util._hex4ColorToRGBA(str) ||\n            exports.Util._hex6ColorToRGBA(str) ||\n            exports.Util._hex8ColorToRGBA(str) ||\n            exports.Util._rgbColorToRGBA(str) ||\n            exports.Util._rgbaColorToRGBA(str) ||\n            exports.Util._hslColorToRGBA(str));\n    },\n    _namedColorToRBA(str) {\n        const c = COLORS[str.toLowerCase()];\n        if (!c) {\n            return null;\n        }\n        return {\n            r: c[0],\n            g: c[1],\n            b: c[2],\n            a: 1,\n        };\n    },\n    _rgbColorToRGBA(str) {\n        if (str.indexOf('rgb(') === 0) {\n            str = str.match(/rgb\\(([^)]+)\\)/)[1];\n            const parts = str.split(/ *, */).map(Number);\n            return {\n                r: parts[0],\n                g: parts[1],\n                b: parts[2],\n                a: 1,\n            };\n        }\n    },\n    _rgbaColorToRGBA(str) {\n        if (str.indexOf('rgba(') === 0) {\n            str = str.match(/rgba\\(([^)]+)\\)/)[1];\n            const parts = str.split(/ *, */).map((n, index) => {\n                if (n.slice(-1) === '%') {\n                    return index === 3 ? parseInt(n) / 100 : (parseInt(n) / 100) * 255;\n                }\n                return Number(n);\n            });\n            return {\n                r: parts[0],\n                g: parts[1],\n                b: parts[2],\n                a: parts[3],\n            };\n        }\n    },\n    _hex8ColorToRGBA(str) {\n        if (str[0] === '#' && str.length === 9) {\n            return {\n                r: parseInt(str.slice(1, 3), 16),\n                g: parseInt(str.slice(3, 5), 16),\n                b: parseInt(str.slice(5, 7), 16),\n                a: parseInt(str.slice(7, 9), 16) / 0xff,\n            };\n        }\n    },\n    _hex6ColorToRGBA(str) {\n        if (str[0] === '#' && str.length === 7) {\n            return {\n                r: parseInt(str.slice(1, 3), 16),\n                g: parseInt(str.slice(3, 5), 16),\n                b: parseInt(str.slice(5, 7), 16),\n                a: 1,\n            };\n        }\n    },\n    _hex4ColorToRGBA(str) {\n        if (str[0] === '#' && str.length === 5) {\n            return {\n                r: parseInt(str[1] + str[1], 16),\n                g: parseInt(str[2] + str[2], 16),\n                b: parseInt(str[3] + str[3], 16),\n                a: parseInt(str[4] + str[4], 16) / 0xff,\n            };\n        }\n    },\n    _hex3ColorToRGBA(str) {\n        if (str[0] === '#' && str.length === 4) {\n            return {\n                r: parseInt(str[1] + str[1], 16),\n                g: parseInt(str[2] + str[2], 16),\n                b: parseInt(str[3] + str[3], 16),\n                a: 1,\n            };\n        }\n    },\n    _hslColorToRGBA(str) {\n        if (/hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.test(str)) {\n            const [_, ...hsl] = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(str);\n            const h = Number(hsl[0]) / 360;\n            const s = Number(hsl[1]) / 100;\n            const l = Number(hsl[2]) / 100;\n            let t2;\n            let t3;\n            let val;\n            if (s === 0) {\n                val = l * 255;\n                return {\n                    r: Math.round(val),\n                    g: Math.round(val),\n                    b: Math.round(val),\n                    a: 1,\n                };\n            }\n            if (l < 0.5) {\n                t2 = l * (1 + s);\n            }\n            else {\n                t2 = l + s - l * s;\n            }\n            const t1 = 2 * l - t2;\n            const rgb = [0, 0, 0];\n            for (let i = 0; i < 3; i++) {\n                t3 = h + (1 / 3) * -(i - 1);\n                if (t3 < 0) {\n                    t3++;\n                }\n                if (t3 > 1) {\n                    t3--;\n                }\n                if (6 * t3 < 1) {\n                    val = t1 + (t2 - t1) * 6 * t3;\n                }\n                else if (2 * t3 < 1) {\n                    val = t2;\n                }\n                else if (3 * t3 < 2) {\n                    val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n                }\n                else {\n                    val = t1;\n                }\n                rgb[i] = val * 255;\n            }\n            return {\n                r: Math.round(rgb[0]),\n                g: Math.round(rgb[1]),\n                b: Math.round(rgb[2]),\n                a: 1,\n            };\n        }\n    },\n    haveIntersection(r1, r2) {\n        return !(r2.x > r1.x + r1.width ||\n            r2.x + r2.width < r1.x ||\n            r2.y > r1.y + r1.height ||\n            r2.y + r2.height < r1.y);\n    },\n    cloneObject(obj) {\n        const retObj = {};\n        for (const key in obj) {\n            if (this._isPlainObject(obj[key])) {\n                retObj[key] = this.cloneObject(obj[key]);\n            }\n            else if (this._isArray(obj[key])) {\n                retObj[key] = this.cloneArray(obj[key]);\n            }\n            else {\n                retObj[key] = obj[key];\n            }\n        }\n        return retObj;\n    },\n    cloneArray(arr) {\n        return arr.slice(0);\n    },\n    degToRad(deg) {\n        return deg * PI_OVER_DEG180;\n    },\n    radToDeg(rad) {\n        return rad * DEG180_OVER_PI;\n    },\n    _degToRad(deg) {\n        exports.Util.warn('Util._degToRad is removed. Please use public Util.degToRad instead.');\n        return exports.Util.degToRad(deg);\n    },\n    _radToDeg(rad) {\n        exports.Util.warn('Util._radToDeg is removed. Please use public Util.radToDeg instead.');\n        return exports.Util.radToDeg(rad);\n    },\n    _getRotation(radians) {\n        return Global_1.Konva.angleDeg ? exports.Util.radToDeg(radians) : radians;\n    },\n    _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.slice(1);\n    },\n    throw(str) {\n        throw new Error(KONVA_ERROR + str);\n    },\n    error(str) {\n        console.error(KONVA_ERROR + str);\n    },\n    warn(str) {\n        if (!Global_1.Konva.showWarnings) {\n            return;\n        }\n        console.warn(KONVA_WARNING + str);\n    },\n    each(obj, func) {\n        for (const key in obj) {\n            func(key, obj[key]);\n        }\n    },\n    _inRange(val, left, right) {\n        return left <= val && val < right;\n    },\n    _getProjectionToSegment(x1, y1, x2, y2, x3, y3) {\n        let x, y, dist;\n        const pd2 = (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2);\n        if (pd2 == 0) {\n            x = x1;\n            y = y1;\n            dist = (x3 - x2) * (x3 - x2) + (y3 - y2) * (y3 - y2);\n        }\n        else {\n            const u = ((x3 - x1) * (x2 - x1) + (y3 - y1) * (y2 - y1)) / pd2;\n            if (u < 0) {\n                x = x1;\n                y = y1;\n                dist = (x1 - x3) * (x1 - x3) + (y1 - y3) * (y1 - y3);\n            }\n            else if (u > 1.0) {\n                x = x2;\n                y = y2;\n                dist = (x2 - x3) * (x2 - x3) + (y2 - y3) * (y2 - y3);\n            }\n            else {\n                x = x1 + u * (x2 - x1);\n                y = y1 + u * (y2 - y1);\n                dist = (x - x3) * (x - x3) + (y - y3) * (y - y3);\n            }\n        }\n        return [x, y, dist];\n    },\n    _getProjectionToLine(pt, line, isClosed) {\n        const pc = exports.Util.cloneObject(pt);\n        let dist = Number.MAX_VALUE;\n        line.forEach(function (p1, i) {\n            if (!isClosed && i === line.length - 1) {\n                return;\n            }\n            const p2 = line[(i + 1) % line.length];\n            const proj = exports.Util._getProjectionToSegment(p1.x, p1.y, p2.x, p2.y, pt.x, pt.y);\n            const px = proj[0], py = proj[1], pdist = proj[2];\n            if (pdist < dist) {\n                pc.x = px;\n                pc.y = py;\n                dist = pdist;\n            }\n        });\n        return pc;\n    },\n    _prepareArrayForTween(startArray, endArray, isClosed) {\n        const start = [], end = [];\n        if (startArray.length > endArray.length) {\n            const temp = endArray;\n            endArray = startArray;\n            startArray = temp;\n        }\n        for (let n = 0; n < startArray.length; n += 2) {\n            start.push({\n                x: startArray[n],\n                y: startArray[n + 1],\n            });\n        }\n        for (let n = 0; n < endArray.length; n += 2) {\n            end.push({\n                x: endArray[n],\n                y: endArray[n + 1],\n            });\n        }\n        const newStart = [];\n        end.forEach(function (point) {\n            const pr = exports.Util._getProjectionToLine(point, start, isClosed);\n            newStart.push(pr.x);\n            newStart.push(pr.y);\n        });\n        return newStart;\n    },\n    _prepareToStringify(obj) {\n        let desc;\n        obj.visitedByCircularReferenceRemoval = true;\n        for (const key in obj) {\n            if (!(obj.hasOwnProperty(key) && obj[key] && typeof obj[key] == 'object')) {\n                continue;\n            }\n            desc = Object.getOwnPropertyDescriptor(obj, key);\n            if (obj[key].visitedByCircularReferenceRemoval ||\n                exports.Util._isElement(obj[key])) {\n                if (desc.configurable) {\n                    delete obj[key];\n                }\n                else {\n                    return null;\n                }\n            }\n            else if (exports.Util._prepareToStringify(obj[key]) === null) {\n                if (desc.configurable) {\n                    delete obj[key];\n                }\n                else {\n                    return null;\n                }\n            }\n        }\n        delete obj.visitedByCircularReferenceRemoval;\n        return obj;\n    },\n    _assign(target, source) {\n        for (const key in source) {\n            target[key] = source[key];\n        }\n        return target;\n    },\n    _getFirstPointerId(evt) {\n        if (!evt.touches) {\n            return evt.pointerId || 999;\n        }\n        else {\n            return evt.changedTouches[0].identifier;\n        }\n    },\n    releaseCanvas(...canvases) {\n        if (!Global_1.Konva.releaseCanvasOnDestroy)\n            return;\n        canvases.forEach((c) => {\n            c.width = 0;\n            c.height = 0;\n        });\n    },\n    drawRoundedRectPath(context, width, height, cornerRadius) {\n        let topLeft = 0;\n        let topRight = 0;\n        let bottomLeft = 0;\n        let bottomRight = 0;\n        if (typeof cornerRadius === 'number') {\n            topLeft =\n                topRight =\n                    bottomLeft =\n                        bottomRight =\n                            Math.min(cornerRadius, width / 2, height / 2);\n        }\n        else {\n            topLeft = Math.min(cornerRadius[0] || 0, width / 2, height / 2);\n            topRight = Math.min(cornerRadius[1] || 0, width / 2, height / 2);\n            bottomRight = Math.min(cornerRadius[2] || 0, width / 2, height / 2);\n            bottomLeft = Math.min(cornerRadius[3] || 0, width / 2, height / 2);\n        }\n        context.moveTo(topLeft, 0);\n        context.lineTo(width - topRight, 0);\n        context.arc(width - topRight, topRight, topRight, (Math.PI * 3) / 2, 0, false);\n        context.lineTo(width, height - bottomRight);\n        context.arc(width - bottomRight, height - bottomRight, bottomRight, 0, Math.PI / 2, false);\n        context.lineTo(bottomLeft, height);\n        context.arc(bottomLeft, height - bottomLeft, bottomLeft, Math.PI / 2, Math.PI, false);\n        context.lineTo(0, topLeft);\n        context.arc(topLeft, topLeft, topLeft, Math.PI, (Math.PI * 3) / 2, false);\n    },\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HitContext = exports.SceneContext = exports.Context = void 0;\nconst Util_1 = require(\"./Util\");\nconst Global_1 = require(\"./Global\");\nfunction simplifyArray(arr) {\n    const retArr = [], len = arr.length, util = Util_1.Util;\n    for (let n = 0; n < len; n++) {\n        let val = arr[n];\n        if (util._isNumber(val)) {\n            val = Math.round(val * 1000) / 1000;\n        }\n        else if (!util._isString(val)) {\n            val = val + '';\n        }\n        retArr.push(val);\n    }\n    return retArr;\n}\nconst COMMA = ',', OPEN_PAREN = '(', CLOSE_PAREN = ')', OPEN_PAREN_BRACKET = '([', CLOSE_BRACKET_PAREN = '])', SEMICOLON = ';', DOUBLE_PAREN = '()', EQUALS = '=', CONTEXT_METHODS = [\n    'arc',\n    'arcTo',\n    'beginPath',\n    'bezierCurveTo',\n    'clearRect',\n    'clip',\n    'closePath',\n    'createLinearGradient',\n    'createPattern',\n    'createRadialGradient',\n    'drawImage',\n    'ellipse',\n    'fill',\n    'fillText',\n    'getImageData',\n    'createImageData',\n    'lineTo',\n    'moveTo',\n    'putImageData',\n    'quadraticCurveTo',\n    'rect',\n    'roundRect',\n    'restore',\n    'rotate',\n    'save',\n    'scale',\n    'setLineDash',\n    'setTransform',\n    'stroke',\n    'strokeText',\n    'transform',\n    'translate',\n];\nconst CONTEXT_PROPERTIES = [\n    'fillStyle',\n    'strokeStyle',\n    'shadowColor',\n    'shadowBlur',\n    'shadowOffsetX',\n    'shadowOffsetY',\n    'letterSpacing',\n    'lineCap',\n    'lineDashOffset',\n    'lineJoin',\n    'lineWidth',\n    'miterLimit',\n    'direction',\n    'font',\n    'textAlign',\n    'textBaseline',\n    'globalAlpha',\n    'globalCompositeOperation',\n    'imageSmoothingEnabled',\n];\nconst traceArrMax = 100;\nclass Context {\n    constructor(canvas) {\n        this.canvas = canvas;\n        if (Global_1.Konva.enableTrace) {\n            this.traceArr = [];\n            this._enableTrace();\n        }\n    }\n    fillShape(shape) {\n        if (shape.fillEnabled()) {\n            this._fill(shape);\n        }\n    }\n    _fill(shape) {\n    }\n    strokeShape(shape) {\n        if (shape.hasStroke()) {\n            this._stroke(shape);\n        }\n    }\n    _stroke(shape) {\n    }\n    fillStrokeShape(shape) {\n        if (shape.attrs.fillAfterStrokeEnabled) {\n            this.strokeShape(shape);\n            this.fillShape(shape);\n        }\n        else {\n            this.fillShape(shape);\n            this.strokeShape(shape);\n        }\n    }\n    getTrace(relaxed, rounded) {\n        let traceArr = this.traceArr, len = traceArr.length, str = '', n, trace, method, args;\n        for (n = 0; n < len; n++) {\n            trace = traceArr[n];\n            method = trace.method;\n            if (method) {\n                args = trace.args;\n                str += method;\n                if (relaxed) {\n                    str += DOUBLE_PAREN;\n                }\n                else {\n                    if (Util_1.Util._isArray(args[0])) {\n                        str += OPEN_PAREN_BRACKET + args.join(COMMA) + CLOSE_BRACKET_PAREN;\n                    }\n                    else {\n                        if (rounded) {\n                            args = args.map((a) => typeof a === 'number' ? Math.floor(a) : a);\n                        }\n                        str += OPEN_PAREN + args.join(COMMA) + CLOSE_PAREN;\n                    }\n                }\n            }\n            else {\n                str += trace.property;\n                if (!relaxed) {\n                    str += EQUALS + trace.val;\n                }\n            }\n            str += SEMICOLON;\n        }\n        return str;\n    }\n    clearTrace() {\n        this.traceArr = [];\n    }\n    _trace(str) {\n        let traceArr = this.traceArr, len;\n        traceArr.push(str);\n        len = traceArr.length;\n        if (len >= traceArrMax) {\n            traceArr.shift();\n        }\n    }\n    reset() {\n        const pixelRatio = this.getCanvas().getPixelRatio();\n        this.setTransform(1 * pixelRatio, 0, 0, 1 * pixelRatio, 0, 0);\n    }\n    getCanvas() {\n        return this.canvas;\n    }\n    clear(bounds) {\n        const canvas = this.getCanvas();\n        if (bounds) {\n            this.clearRect(bounds.x || 0, bounds.y || 0, bounds.width || 0, bounds.height || 0);\n        }\n        else {\n            this.clearRect(0, 0, canvas.getWidth() / canvas.pixelRatio, canvas.getHeight() / canvas.pixelRatio);\n        }\n    }\n    _applyLineCap(shape) {\n        const lineCap = shape.attrs.lineCap;\n        if (lineCap) {\n            this.setAttr('lineCap', lineCap);\n        }\n    }\n    _applyOpacity(shape) {\n        const absOpacity = shape.getAbsoluteOpacity();\n        if (absOpacity !== 1) {\n            this.setAttr('globalAlpha', absOpacity);\n        }\n    }\n    _applyLineJoin(shape) {\n        const lineJoin = shape.attrs.lineJoin;\n        if (lineJoin) {\n            this.setAttr('lineJoin', lineJoin);\n        }\n    }\n    setAttr(attr, val) {\n        this._context[attr] = val;\n    }\n    arc(x, y, radius, startAngle, endAngle, counterClockwise) {\n        this._context.arc(x, y, radius, startAngle, endAngle, counterClockwise);\n    }\n    arcTo(x1, y1, x2, y2, radius) {\n        this._context.arcTo(x1, y1, x2, y2, radius);\n    }\n    beginPath() {\n        this._context.beginPath();\n    }\n    bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {\n        this._context.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n    }\n    clearRect(x, y, width, height) {\n        this._context.clearRect(x, y, width, height);\n    }\n    clip(...args) {\n        this._context.clip.apply(this._context, args);\n    }\n    closePath() {\n        this._context.closePath();\n    }\n    createImageData(width, height) {\n        const a = arguments;\n        if (a.length === 2) {\n            return this._context.createImageData(width, height);\n        }\n        else if (a.length === 1) {\n            return this._context.createImageData(width);\n        }\n    }\n    createLinearGradient(x0, y0, x1, y1) {\n        return this._context.createLinearGradient(x0, y0, x1, y1);\n    }\n    createPattern(image, repetition) {\n        return this._context.createPattern(image, repetition);\n    }\n    createRadialGradient(x0, y0, r0, x1, y1, r1) {\n        return this._context.createRadialGradient(x0, y0, r0, x1, y1, r1);\n    }\n    drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight) {\n        const a = arguments, _context = this._context;\n        if (a.length === 3) {\n            _context.drawImage(image, sx, sy);\n        }\n        else if (a.length === 5) {\n            _context.drawImage(image, sx, sy, sWidth, sHeight);\n        }\n        else if (a.length === 9) {\n            _context.drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);\n        }\n    }\n    ellipse(x, y, radiusX, radiusY, rotation, startAngle, endAngle, counterclockwise) {\n        this._context.ellipse(x, y, radiusX, radiusY, rotation, startAngle, endAngle, counterclockwise);\n    }\n    isPointInPath(x, y, path, fillRule) {\n        if (path) {\n            return this._context.isPointInPath(path, x, y, fillRule);\n        }\n        return this._context.isPointInPath(x, y, fillRule);\n    }\n    fill(...args) {\n        this._context.fill.apply(this._context, args);\n    }\n    fillRect(x, y, width, height) {\n        this._context.fillRect(x, y, width, height);\n    }\n    strokeRect(x, y, width, height) {\n        this._context.strokeRect(x, y, width, height);\n    }\n    fillText(text, x, y, maxWidth) {\n        if (maxWidth) {\n            this._context.fillText(text, x, y, maxWidth);\n        }\n        else {\n            this._context.fillText(text, x, y);\n        }\n    }\n    measureText(text) {\n        return this._context.measureText(text);\n    }\n    getImageData(sx, sy, sw, sh) {\n        return this._context.getImageData(sx, sy, sw, sh);\n    }\n    lineTo(x, y) {\n        this._context.lineTo(x, y);\n    }\n    moveTo(x, y) {\n        this._context.moveTo(x, y);\n    }\n    rect(x, y, width, height) {\n        this._context.rect(x, y, width, height);\n    }\n    roundRect(x, y, width, height, radii) {\n        this._context.roundRect(x, y, width, height, radii);\n    }\n    putImageData(imageData, dx, dy) {\n        this._context.putImageData(imageData, dx, dy);\n    }\n    quadraticCurveTo(cpx, cpy, x, y) {\n        this._context.quadraticCurveTo(cpx, cpy, x, y);\n    }\n    restore() {\n        this._context.restore();\n    }\n    rotate(angle) {\n        this._context.rotate(angle);\n    }\n    save() {\n        this._context.save();\n    }\n    scale(x, y) {\n        this._context.scale(x, y);\n    }\n    setLineDash(segments) {\n        if (this._context.setLineDash) {\n            this._context.setLineDash(segments);\n        }\n        else if ('mozDash' in this._context) {\n            this._context['mozDash'] = segments;\n        }\n        else if ('webkitLineDash' in this._context) {\n            this._context['webkitLineDash'] = segments;\n        }\n    }\n    getLineDash() {\n        return this._context.getLineDash();\n    }\n    setTransform(a, b, c, d, e, f) {\n        this._context.setTransform(a, b, c, d, e, f);\n    }\n    stroke(path2d) {\n        if (path2d) {\n            this._context.stroke(path2d);\n        }\n        else {\n            this._context.stroke();\n        }\n    }\n    strokeText(text, x, y, maxWidth) {\n        this._context.strokeText(text, x, y, maxWidth);\n    }\n    transform(a, b, c, d, e, f) {\n        this._context.transform(a, b, c, d, e, f);\n    }\n    translate(x, y) {\n        this._context.translate(x, y);\n    }\n    _enableTrace() {\n        let that = this, len = CONTEXT_METHODS.length, origSetter = this.setAttr, n, args;\n        const func = function (methodName) {\n            let origMethod = that[methodName], ret;\n            that[methodName] = function () {\n                args = simplifyArray(Array.prototype.slice.call(arguments, 0));\n                ret = origMethod.apply(that, arguments);\n                that._trace({\n                    method: methodName,\n                    args: args,\n                });\n                return ret;\n            };\n        };\n        for (n = 0; n < len; n++) {\n            func(CONTEXT_METHODS[n]);\n        }\n        that.setAttr = function () {\n            origSetter.apply(that, arguments);\n            const prop = arguments[0];\n            let val = arguments[1];\n            if (prop === 'shadowOffsetX' ||\n                prop === 'shadowOffsetY' ||\n                prop === 'shadowBlur') {\n                val = val / this.canvas.getPixelRatio();\n            }\n            that._trace({\n                property: prop,\n                val: val,\n            });\n        };\n    }\n    _applyGlobalCompositeOperation(node) {\n        const op = node.attrs.globalCompositeOperation;\n        const def = !op || op === 'source-over';\n        if (!def) {\n            this.setAttr('globalCompositeOperation', op);\n        }\n    }\n}\nexports.Context = Context;\nCONTEXT_PROPERTIES.forEach(function (prop) {\n    Object.defineProperty(Context.prototype, prop, {\n        get() {\n            return this._context[prop];\n        },\n        set(val) {\n            this._context[prop] = val;\n        },\n    });\n});\nclass SceneContext extends Context {\n    constructor(canvas, { willReadFrequently = false } = {}) {\n        super(canvas);\n        this._context = canvas._canvas.getContext('2d', {\n            willReadFrequently,\n        });\n    }\n    _fillColor(shape) {\n        const fill = shape.fill();\n        this.setAttr('fillStyle', fill);\n        shape._fillFunc(this);\n    }\n    _fillPattern(shape) {\n        this.setAttr('fillStyle', shape._getFillPattern());\n        shape._fillFunc(this);\n    }\n    _fillLinearGradient(shape) {\n        const grd = shape._getLinearGradient();\n        if (grd) {\n            this.setAttr('fillStyle', grd);\n            shape._fillFunc(this);\n        }\n    }\n    _fillRadialGradient(shape) {\n        const grd = shape._getRadialGradient();\n        if (grd) {\n            this.setAttr('fillStyle', grd);\n            shape._fillFunc(this);\n        }\n    }\n    _fill(shape) {\n        const hasColor = shape.fill(), fillPriority = shape.getFillPriority();\n        if (hasColor && fillPriority === 'color') {\n            this._fillColor(shape);\n            return;\n        }\n        const hasPattern = shape.getFillPatternImage();\n        if (hasPattern && fillPriority === 'pattern') {\n            this._fillPattern(shape);\n            return;\n        }\n        const hasLinearGradient = shape.getFillLinearGradientColorStops();\n        if (hasLinearGradient && fillPriority === 'linear-gradient') {\n            this._fillLinearGradient(shape);\n            return;\n        }\n        const hasRadialGradient = shape.getFillRadialGradientColorStops();\n        if (hasRadialGradient && fillPriority === 'radial-gradient') {\n            this._fillRadialGradient(shape);\n            return;\n        }\n        if (hasColor) {\n            this._fillColor(shape);\n        }\n        else if (hasPattern) {\n            this._fillPattern(shape);\n        }\n        else if (hasLinearGradient) {\n            this._fillLinearGradient(shape);\n        }\n        else if (hasRadialGradient) {\n            this._fillRadialGradient(shape);\n        }\n    }\n    _strokeLinearGradient(shape) {\n        const start = shape.getStrokeLinearGradientStartPoint(), end = shape.getStrokeLinearGradientEndPoint(), colorStops = shape.getStrokeLinearGradientColorStops(), grd = this.createLinearGradient(start.x, start.y, end.x, end.y);\n        if (colorStops) {\n            for (let n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            this.setAttr('strokeStyle', grd);\n        }\n    }\n    _stroke(shape) {\n        const dash = shape.dash(), strokeScaleEnabled = shape.getStrokeScaleEnabled();\n        if (shape.hasStroke()) {\n            if (!strokeScaleEnabled) {\n                this.save();\n                const pixelRatio = this.getCanvas().getPixelRatio();\n                this.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n            }\n            this._applyLineCap(shape);\n            if (dash && shape.dashEnabled()) {\n                this.setLineDash(dash);\n                this.setAttr('lineDashOffset', shape.dashOffset());\n            }\n            this.setAttr('lineWidth', shape.strokeWidth());\n            if (!shape.getShadowForStrokeEnabled()) {\n                this.setAttr('shadowColor', 'rgba(0,0,0,0)');\n            }\n            const hasLinearGradient = shape.getStrokeLinearGradientColorStops();\n            if (hasLinearGradient) {\n                this._strokeLinearGradient(shape);\n            }\n            else {\n                this.setAttr('strokeStyle', shape.stroke());\n            }\n            shape._strokeFunc(this);\n            if (!strokeScaleEnabled) {\n                this.restore();\n            }\n        }\n    }\n    _applyShadow(shape) {\n        var _a, _b, _c;\n        const color = (_a = shape.getShadowRGBA()) !== null && _a !== void 0 ? _a : 'black', blur = (_b = shape.getShadowBlur()) !== null && _b !== void 0 ? _b : 5, offset = (_c = shape.getShadowOffset()) !== null && _c !== void 0 ? _c : {\n            x: 0,\n            y: 0,\n        }, scale = shape.getAbsoluteScale(), ratio = this.canvas.getPixelRatio(), scaleX = scale.x * ratio, scaleY = scale.y * ratio;\n        this.setAttr('shadowColor', color);\n        this.setAttr('shadowBlur', blur * Math.min(Math.abs(scaleX), Math.abs(scaleY)));\n        this.setAttr('shadowOffsetX', offset.x * scaleX);\n        this.setAttr('shadowOffsetY', offset.y * scaleY);\n    }\n}\nexports.SceneContext = SceneContext;\nclass HitContext extends Context {\n    constructor(canvas) {\n        super(canvas);\n        this._context = canvas._canvas.getContext('2d', {\n            willReadFrequently: true,\n        });\n    }\n    _fill(shape) {\n        this.save();\n        this.setAttr('fillStyle', shape.colorKey);\n        shape._fillFuncHit(this);\n        this.restore();\n    }\n    strokeShape(shape) {\n        if (shape.hasHitStroke()) {\n            this._stroke(shape);\n        }\n    }\n    _stroke(shape) {\n        if (shape.hasHitStroke()) {\n            const strokeScaleEnabled = shape.getStrokeScaleEnabled();\n            if (!strokeScaleEnabled) {\n                this.save();\n                const pixelRatio = this.getCanvas().getPixelRatio();\n                this.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n            }\n            this._applyLineCap(shape);\n            const hitStrokeWidth = shape.hitStrokeWidth();\n            const strokeWidth = hitStrokeWidth === 'auto' ? shape.strokeWidth() : hitStrokeWidth;\n            this.setAttr('lineWidth', strokeWidth);\n            this.setAttr('strokeStyle', shape.colorKey);\n            shape._strokeFuncHit(this);\n            if (!strokeScaleEnabled) {\n                this.restore();\n            }\n        }\n    }\n}\nexports.HitContext = HitContext;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HitCanvas = exports.SceneCanvas = exports.Canvas = void 0;\nconst Util_1 = require(\"./Util\");\nconst Context_1 = require(\"./Context\");\nconst Global_1 = require(\"./Global\");\nlet _pixelRatio;\nfunction getDevicePixelRatio() {\n    if (_pixelRatio) {\n        return _pixelRatio;\n    }\n    const canvas = Util_1.Util.createCanvasElement();\n    const context = canvas.getContext('2d');\n    _pixelRatio = (function () {\n        const devicePixelRatio = Global_1.Konva._global.devicePixelRatio || 1, backingStoreRatio = context.webkitBackingStorePixelRatio ||\n            context.mozBackingStorePixelRatio ||\n            context.msBackingStorePixelRatio ||\n            context.oBackingStorePixelRatio ||\n            context.backingStorePixelRatio ||\n            1;\n        return devicePixelRatio / backingStoreRatio;\n    })();\n    Util_1.Util.releaseCanvas(canvas);\n    return _pixelRatio;\n}\nclass Canvas {\n    constructor(config) {\n        this.pixelRatio = 1;\n        this.width = 0;\n        this.height = 0;\n        this.isCache = false;\n        const conf = config || {};\n        const pixelRatio = conf.pixelRatio || Global_1.Konva.pixelRatio || getDevicePixelRatio();\n        this.pixelRatio = pixelRatio;\n        this._canvas = Util_1.Util.createCanvasElement();\n        this._canvas.style.padding = '0';\n        this._canvas.style.margin = '0';\n        this._canvas.style.border = '0';\n        this._canvas.style.background = 'transparent';\n        this._canvas.style.position = 'absolute';\n        this._canvas.style.top = '0';\n        this._canvas.style.left = '0';\n    }\n    getContext() {\n        return this.context;\n    }\n    getPixelRatio() {\n        return this.pixelRatio;\n    }\n    setPixelRatio(pixelRatio) {\n        const previousRatio = this.pixelRatio;\n        this.pixelRatio = pixelRatio;\n        this.setSize(this.getWidth() / previousRatio, this.getHeight() / previousRatio);\n    }\n    setWidth(width) {\n        this.width = this._canvas.width = width * this.pixelRatio;\n        this._canvas.style.width = width + 'px';\n        const pixelRatio = this.pixelRatio, _context = this.getContext()._context;\n        _context.scale(pixelRatio, pixelRatio);\n    }\n    setHeight(height) {\n        this.height = this._canvas.height = height * this.pixelRatio;\n        this._canvas.style.height = height + 'px';\n        const pixelRatio = this.pixelRatio, _context = this.getContext()._context;\n        _context.scale(pixelRatio, pixelRatio);\n    }\n    getWidth() {\n        return this.width;\n    }\n    getHeight() {\n        return this.height;\n    }\n    setSize(width, height) {\n        this.setWidth(width || 0);\n        this.setHeight(height || 0);\n    }\n    toDataURL(mimeType, quality) {\n        try {\n            return this._canvas.toDataURL(mimeType, quality);\n        }\n        catch (e) {\n            try {\n                return this._canvas.toDataURL();\n            }\n            catch (err) {\n                Util_1.Util.error('Unable to get data URL. ' +\n                    err.message +\n                    ' For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html.');\n                return '';\n            }\n        }\n    }\n}\nexports.Canvas = Canvas;\nclass SceneCanvas extends Canvas {\n    constructor(config = { width: 0, height: 0, willReadFrequently: false }) {\n        super(config);\n        this.context = new Context_1.SceneContext(this, {\n            willReadFrequently: config.willReadFrequently,\n        });\n        this.setSize(config.width, config.height);\n    }\n}\nexports.SceneCanvas = SceneCanvas;\nclass HitCanvas extends Canvas {\n    constructor(config = { width: 0, height: 0 }) {\n        super(config);\n        this.hitCanvas = true;\n        this.context = new Context_1.HitContext(this);\n        this.setSize(config.width, config.height);\n    }\n}\nexports.HitCanvas = HitCanvas;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DD = void 0;\nconst Global_1 = require(\"./Global\");\nconst Util_1 = require(\"./Util\");\nexports.DD = {\n    get isDragging() {\n        let flag = false;\n        exports.DD._dragElements.forEach((elem) => {\n            if (elem.dragStatus === 'dragging') {\n                flag = true;\n            }\n        });\n        return flag;\n    },\n    justDragged: false,\n    get node() {\n        let node;\n        exports.DD._dragElements.forEach((elem) => {\n            node = elem.node;\n        });\n        return node;\n    },\n    _dragElements: new Map(),\n    _drag(evt) {\n        const nodesToFireEvents = [];\n        exports.DD._dragElements.forEach((elem, key) => {\n            const { node } = elem;\n            const stage = node.getStage();\n            stage.setPointersPositions(evt);\n            if (elem.pointerId === undefined) {\n                elem.pointerId = Util_1.Util._getFirstPointerId(evt);\n            }\n            const pos = stage._changedPointerPositions.find((pos) => pos.id === elem.pointerId);\n            if (!pos) {\n                return;\n            }\n            if (elem.dragStatus !== 'dragging') {\n                const dragDistance = node.dragDistance();\n                const distance = Math.max(Math.abs(pos.x - elem.startPointerPos.x), Math.abs(pos.y - elem.startPointerPos.y));\n                if (distance < dragDistance) {\n                    return;\n                }\n                node.startDrag({ evt });\n                if (!node.isDragging()) {\n                    return;\n                }\n            }\n            node._setDragPosition(evt, elem);\n            nodesToFireEvents.push(node);\n        });\n        nodesToFireEvents.forEach((node) => {\n            node.fire('dragmove', {\n                type: 'dragmove',\n                target: node,\n                evt: evt,\n            }, true);\n        });\n    },\n    _endDragBefore(evt) {\n        const drawNodes = [];\n        exports.DD._dragElements.forEach((elem) => {\n            const { node } = elem;\n            const stage = node.getStage();\n            if (evt) {\n                stage.setPointersPositions(evt);\n            }\n            const pos = stage._changedPointerPositions.find((pos) => pos.id === elem.pointerId);\n            if (!pos) {\n                return;\n            }\n            if (elem.dragStatus === 'dragging' || elem.dragStatus === 'stopped') {\n                exports.DD.justDragged = true;\n                Global_1.Konva._mouseListenClick = false;\n                Global_1.Konva._touchListenClick = false;\n                Global_1.Konva._pointerListenClick = false;\n                elem.dragStatus = 'stopped';\n            }\n            const drawNode = elem.node.getLayer() ||\n                (elem.node instanceof Global_1.Konva['Stage'] && elem.node);\n            if (drawNode && drawNodes.indexOf(drawNode) === -1) {\n                drawNodes.push(drawNode);\n            }\n        });\n        drawNodes.forEach((drawNode) => {\n            drawNode.draw();\n        });\n    },\n    _endDragAfter(evt) {\n        exports.DD._dragElements.forEach((elem, key) => {\n            if (elem.dragStatus === 'stopped') {\n                elem.node.fire('dragend', {\n                    type: 'dragend',\n                    target: elem.node,\n                    evt: evt,\n                }, true);\n            }\n            if (elem.dragStatus !== 'dragging') {\n                exports.DD._dragElements.delete(key);\n            }\n        });\n    },\n};\nif (Global_1.Konva.isBrowser) {\n    window.addEventListener('mouseup', exports.DD._endDragBefore, true);\n    window.addEventListener('touchend', exports.DD._endDragBefore, true);\n    window.addEventListener('touchcancel', exports.DD._endDragBefore, true);\n    window.addEventListener('mousemove', exports.DD._drag);\n    window.addEventListener('touchmove', exports.DD._drag);\n    window.addEventListener('mouseup', exports.DD._endDragAfter, false);\n    window.addEventListener('touchend', exports.DD._endDragAfter, false);\n    window.addEventListener('touchcancel', exports.DD._endDragAfter, false);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RGBComponent = RGBComponent;\nexports.alphaComponent = alphaComponent;\nexports.getNumberValidator = getNumberValidator;\nexports.getNumberOrArrayOfNumbersValidator = getNumberOrArrayOfNumbersValidator;\nexports.getNumberOrAutoValidator = getNumberOrAutoValidator;\nexports.getStringValidator = getStringValidator;\nexports.getStringOrGradientValidator = getStringOrGradientValidator;\nexports.getFunctionValidator = getFunctionValidator;\nexports.getNumberArrayValidator = getNumberArrayValidator;\nexports.getBooleanValidator = getBooleanValidator;\nexports.getComponentValidator = getComponentValidator;\nconst Global_1 = require(\"./Global\");\nconst Util_1 = require(\"./Util\");\nfunction _formatValue(val) {\n    if (Util_1.Util._isString(val)) {\n        return '\"' + val + '\"';\n    }\n    if (Object.prototype.toString.call(val) === '[object Number]') {\n        return val;\n    }\n    if (Util_1.Util._isBoolean(val)) {\n        return val;\n    }\n    return Object.prototype.toString.call(val);\n}\nfunction RGBComponent(val) {\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    return Math.round(val);\n}\nfunction alphaComponent(val) {\n    if (val > 1) {\n        return 1;\n    }\n    else if (val < 0.0001) {\n        return 0.0001;\n    }\n    return val;\n}\nfunction getNumberValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util_1.Util._isNumber(val)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number.');\n            }\n            return val;\n        };\n    }\n}\nfunction getNumberOrArrayOfNumbersValidator(noOfElements) {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            let isNumber = Util_1.Util._isNumber(val);\n            let isValidArray = Util_1.Util._isArray(val) && val.length == noOfElements;\n            if (!isNumber && !isValidArray) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number or Array<number>(' +\n                    noOfElements +\n                    ')');\n            }\n            return val;\n        };\n    }\n}\nfunction getNumberOrAutoValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            const isNumber = Util_1.Util._isNumber(val);\n            const isAuto = val === 'auto';\n            if (!(isNumber || isAuto)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number or \"auto\".');\n            }\n            return val;\n        };\n    }\n}\nfunction getStringValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util_1.Util._isString(val)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a string.');\n            }\n            return val;\n        };\n    }\n}\nfunction getStringOrGradientValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            const isString = Util_1.Util._isString(val);\n            const isGradient = Object.prototype.toString.call(val) === '[object CanvasGradient]' ||\n                (val && val['addColorStop']);\n            if (!(isString || isGradient)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a string or a native gradient.');\n            }\n            return val;\n        };\n    }\n}\nfunction getFunctionValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util_1.Util._isFunction(val)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a function.');\n            }\n            return val;\n        };\n    }\n}\nfunction getNumberArrayValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            const TypedArray = Int8Array ? Object.getPrototypeOf(Int8Array) : null;\n            if (TypedArray && val instanceof TypedArray) {\n                return val;\n            }\n            if (!Util_1.Util._isArray(val)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a array of numbers.');\n            }\n            else {\n                val.forEach(function (item) {\n                    if (!Util_1.Util._isNumber(item)) {\n                        Util_1.Util.warn('\"' +\n                            attr +\n                            '\" attribute has non numeric element ' +\n                            item +\n                            '. Make sure that all elements are numbers.');\n                    }\n                });\n            }\n            return val;\n        };\n    }\n}\nfunction getBooleanValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            const isBool = val === true || val === false;\n            if (!isBool) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a boolean.');\n            }\n            return val;\n        };\n    }\n}\nfunction getComponentValidator(components) {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            if (val === undefined || val === null) {\n                return val;\n            }\n            if (!Util_1.Util.isObject(val)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be an object with properties ' +\n                    components);\n            }\n            return val;\n        };\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Factory = void 0;\nconst Util_1 = require(\"./Util\");\nconst Validators_1 = require(\"./Validators\");\nconst GET = 'get';\nconst SET = 'set';\nexports.Factory = {\n    addGetterSetter(constructor, attr, def, validator, after) {\n        exports.Factory.addGetter(constructor, attr, def);\n        exports.Factory.addSetter(constructor, attr, validator, after);\n        exports.Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    addGetter(constructor, attr, def) {\n        const method = GET + Util_1.Util._capitalize(attr);\n        constructor.prototype[method] =\n            constructor.prototype[method] ||\n                function () {\n                    const val = this.attrs[attr];\n                    return val === undefined ? def : val;\n                };\n    },\n    addSetter(constructor, attr, validator, after) {\n        const method = SET + Util_1.Util._capitalize(attr);\n        if (!constructor.prototype[method]) {\n            exports.Factory.overWriteSetter(constructor, attr, validator, after);\n        }\n    },\n    overWriteSetter(constructor, attr, validator, after) {\n        const method = SET + Util_1.Util._capitalize(attr);\n        constructor.prototype[method] = function (val) {\n            if (validator && val !== undefined && val !== null) {\n                val = validator.call(this, val, attr);\n            }\n            this._setAttr(attr, val);\n            if (after) {\n                after.call(this);\n            }\n            return this;\n        };\n    },\n    addComponentsGetterSetter(constructor, attr, components, validator, after) {\n        const len = components.length, capitalize = Util_1.Util._capitalize, getter = GET + capitalize(attr), setter = SET + capitalize(attr);\n        constructor.prototype[getter] = function () {\n            const ret = {};\n            for (let n = 0; n < len; n++) {\n                const component = components[n];\n                ret[component] = this.getAttr(attr + capitalize(component));\n            }\n            return ret;\n        };\n        const basicValidator = (0, Validators_1.getComponentValidator)(components);\n        constructor.prototype[setter] = function (val) {\n            const oldVal = this.attrs[attr];\n            if (validator) {\n                val = validator.call(this, val, attr);\n            }\n            if (basicValidator) {\n                basicValidator.call(this, val, attr);\n            }\n            for (const key in val) {\n                if (!val.hasOwnProperty(key)) {\n                    continue;\n                }\n                this._setAttr(attr + capitalize(key), val[key]);\n            }\n            if (!val) {\n                components.forEach((component) => {\n                    this._setAttr(attr + capitalize(component), undefined);\n                });\n            }\n            this._fireChangeEvent(attr, oldVal, val);\n            if (after) {\n                after.call(this);\n            }\n            return this;\n        };\n        exports.Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    addOverloadedGetterSetter(constructor, attr) {\n        const capitalizedAttr = Util_1.Util._capitalize(attr), setter = SET + capitalizedAttr, getter = GET + capitalizedAttr;\n        constructor.prototype[attr] = function () {\n            if (arguments.length) {\n                this[setter](arguments[0]);\n                return this;\n            }\n            return this[getter]();\n        };\n    },\n    addDeprecatedGetterSetter(constructor, attr, def, validator) {\n        Util_1.Util.error('Adding deprecated ' + attr);\n        const method = GET + Util_1.Util._capitalize(attr);\n        const message = attr +\n            ' property is deprecated and will be removed soon. Look at Konva change log for more information.';\n        constructor.prototype[method] = function () {\n            Util_1.Util.error(message);\n            const val = this.attrs[attr];\n            return val === undefined ? def : val;\n        };\n        exports.Factory.addSetter(constructor, attr, validator, function () {\n            Util_1.Util.error(message);\n        });\n        exports.Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    backCompat(constructor, methods) {\n        Util_1.Util.each(methods, function (oldMethodName, newMethodName) {\n            const method = constructor.prototype[newMethodName];\n            const oldGetter = GET + Util_1.Util._capitalize(oldMethodName);\n            const oldSetter = SET + Util_1.Util._capitalize(oldMethodName);\n            function deprecated() {\n                method.apply(this, arguments);\n                Util_1.Util.error('\"' +\n                    oldMethodName +\n                    '\" method is deprecated and will be removed soon. Use \"\"' +\n                    newMethodName +\n                    '\" instead.');\n            }\n            constructor.prototype[oldMethodName] = deprecated;\n            constructor.prototype[oldGetter] = deprecated;\n            constructor.prototype[oldSetter] = deprecated;\n        });\n    },\n    afterSetFilter() {\n        this._filterUpToDate = false;\n    },\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Node = void 0;\nconst Canvas_1 = require(\"./Canvas\");\nconst DragAndDrop_1 = require(\"./DragAndDrop\");\nconst Factory_1 = require(\"./Factory\");\nconst Global_1 = require(\"./Global\");\nconst Util_1 = require(\"./Util\");\nconst Validators_1 = require(\"./Validators\");\nconst ABSOLUTE_OPACITY = 'absoluteOpacity', ALL_LISTENERS = 'allEventListeners', ABSOLUTE_TRANSFORM = 'absoluteTransform', ABSOLUTE_SCALE = 'absoluteScale', CANVAS = 'canvas', CHANGE = 'Change', CHILDREN = 'children', KONVA = 'konva', LISTENING = 'listening', MOUSEENTER = 'mouseenter', MOUSELEAVE = 'mouseleave', POINTERENTER = 'pointerenter', POINTERLEAVE = 'pointerleave', TOUCHENTER = 'touchenter', TOUCHLEAVE = 'touchleave', NAME = 'name', SET = 'set', SHAPE = 'Shape', SPACE = ' ', STAGE = 'stage', TRANSFORM = 'transform', UPPER_STAGE = 'Stage', VISIBLE = 'visible', TRANSFORM_CHANGE_STR = [\n    'xChange.konva',\n    'yChange.konva',\n    'scaleXChange.konva',\n    'scaleYChange.konva',\n    'skewXChange.konva',\n    'skewYChange.konva',\n    'rotationChange.konva',\n    'offsetXChange.konva',\n    'offsetYChange.konva',\n    'transformsEnabledChange.konva',\n].join(SPACE);\nlet idCounter = 1;\nclass Node {\n    constructor(config) {\n        this._id = idCounter++;\n        this.eventListeners = {};\n        this.attrs = {};\n        this.index = 0;\n        this._allEventListeners = null;\n        this.parent = null;\n        this._cache = new Map();\n        this._attachedDepsListeners = new Map();\n        this._lastPos = null;\n        this._batchingTransformChange = false;\n        this._needClearTransformCache = false;\n        this._filterUpToDate = false;\n        this._isUnderCache = false;\n        this._dragEventId = null;\n        this._shouldFireChangeEvents = false;\n        this.setAttrs(config);\n        this._shouldFireChangeEvents = true;\n    }\n    hasChildren() {\n        return false;\n    }\n    _clearCache(attr) {\n        if ((attr === TRANSFORM || attr === ABSOLUTE_TRANSFORM) &&\n            this._cache.get(attr)) {\n            this._cache.get(attr).dirty = true;\n        }\n        else if (attr) {\n            this._cache.delete(attr);\n        }\n        else {\n            this._cache.clear();\n        }\n    }\n    _getCache(attr, privateGetter) {\n        let cache = this._cache.get(attr);\n        const isTransform = attr === TRANSFORM || attr === ABSOLUTE_TRANSFORM;\n        const invalid = cache === undefined || (isTransform && cache.dirty === true);\n        if (invalid) {\n            cache = privateGetter.call(this);\n            this._cache.set(attr, cache);\n        }\n        return cache;\n    }\n    _calculate(name, deps, getter) {\n        if (!this._attachedDepsListeners.get(name)) {\n            const depsString = deps.map((dep) => dep + 'Change.konva').join(SPACE);\n            this.on(depsString, () => {\n                this._clearCache(name);\n            });\n            this._attachedDepsListeners.set(name, true);\n        }\n        return this._getCache(name, getter);\n    }\n    _getCanvasCache() {\n        return this._cache.get(CANVAS);\n    }\n    _clearSelfAndDescendantCache(attr) {\n        this._clearCache(attr);\n        if (attr === ABSOLUTE_TRANSFORM) {\n            this.fire('absoluteTransformChange');\n        }\n    }\n    clearCache() {\n        if (this._cache.has(CANVAS)) {\n            const { scene, filter, hit, buffer } = this._cache.get(CANVAS);\n            Util_1.Util.releaseCanvas(scene, filter, hit, buffer);\n            this._cache.delete(CANVAS);\n        }\n        this._clearSelfAndDescendantCache();\n        this._requestDraw();\n        return this;\n    }\n    cache(config) {\n        const conf = config || {};\n        let rect = {};\n        if (conf.x === undefined ||\n            conf.y === undefined ||\n            conf.width === undefined ||\n            conf.height === undefined) {\n            rect = this.getClientRect({\n                skipTransform: true,\n                relativeTo: this.getParent() || undefined,\n            });\n        }\n        let width = Math.ceil(conf.width || rect.width), height = Math.ceil(conf.height || rect.height), pixelRatio = conf.pixelRatio, x = conf.x === undefined ? Math.floor(rect.x) : conf.x, y = conf.y === undefined ? Math.floor(rect.y) : conf.y, offset = conf.offset || 0, drawBorder = conf.drawBorder || false, hitCanvasPixelRatio = conf.hitCanvasPixelRatio || 1;\n        if (!width || !height) {\n            Util_1.Util.error('Can not cache the node. Width or height of the node equals 0. Caching is skipped.');\n            return;\n        }\n        const extraPaddingX = Math.abs(Math.round(rect.x) - x) > 0.5 ? 1 : 0;\n        const extraPaddingY = Math.abs(Math.round(rect.y) - y) > 0.5 ? 1 : 0;\n        width += offset * 2 + extraPaddingX;\n        height += offset * 2 + extraPaddingY;\n        x -= offset;\n        y -= offset;\n        const cachedSceneCanvas = new Canvas_1.SceneCanvas({\n            pixelRatio: pixelRatio,\n            width: width,\n            height: height,\n        }), cachedFilterCanvas = new Canvas_1.SceneCanvas({\n            pixelRatio: pixelRatio,\n            width: 0,\n            height: 0,\n            willReadFrequently: true,\n        }), cachedHitCanvas = new Canvas_1.HitCanvas({\n            pixelRatio: hitCanvasPixelRatio,\n            width: width,\n            height: height,\n        }), sceneContext = cachedSceneCanvas.getContext(), hitContext = cachedHitCanvas.getContext();\n        const bufferCanvas = new Canvas_1.SceneCanvas({\n            width: cachedSceneCanvas.width / cachedSceneCanvas.pixelRatio + Math.abs(x),\n            height: cachedSceneCanvas.height / cachedSceneCanvas.pixelRatio + Math.abs(y),\n            pixelRatio: cachedSceneCanvas.pixelRatio,\n        }), bufferContext = bufferCanvas.getContext();\n        cachedHitCanvas.isCache = true;\n        cachedSceneCanvas.isCache = true;\n        this._cache.delete(CANVAS);\n        this._filterUpToDate = false;\n        if (conf.imageSmoothingEnabled === false) {\n            cachedSceneCanvas.getContext()._context.imageSmoothingEnabled = false;\n            cachedFilterCanvas.getContext()._context.imageSmoothingEnabled = false;\n        }\n        sceneContext.save();\n        hitContext.save();\n        bufferContext.save();\n        sceneContext.translate(-x, -y);\n        hitContext.translate(-x, -y);\n        bufferContext.translate(-x, -y);\n        bufferCanvas.x = x;\n        bufferCanvas.y = y;\n        this._isUnderCache = true;\n        this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n        this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);\n        this.drawScene(cachedSceneCanvas, this, bufferCanvas);\n        this.drawHit(cachedHitCanvas, this);\n        this._isUnderCache = false;\n        sceneContext.restore();\n        hitContext.restore();\n        if (drawBorder) {\n            sceneContext.save();\n            sceneContext.beginPath();\n            sceneContext.rect(0, 0, width, height);\n            sceneContext.closePath();\n            sceneContext.setAttr('strokeStyle', 'red');\n            sceneContext.setAttr('lineWidth', 5);\n            sceneContext.stroke();\n            sceneContext.restore();\n        }\n        this._cache.set(CANVAS, {\n            scene: cachedSceneCanvas,\n            filter: cachedFilterCanvas,\n            hit: cachedHitCanvas,\n            buffer: bufferCanvas,\n            x: x,\n            y: y,\n        });\n        this._requestDraw();\n        return this;\n    }\n    isCached() {\n        return this._cache.has(CANVAS);\n    }\n    getClientRect(config) {\n        throw new Error('abstract \"getClientRect\" method call');\n    }\n    _transformedRect(rect, top) {\n        const points = [\n            { x: rect.x, y: rect.y },\n            { x: rect.x + rect.width, y: rect.y },\n            { x: rect.x + rect.width, y: rect.y + rect.height },\n            { x: rect.x, y: rect.y + rect.height },\n        ];\n        let minX = Infinity, minY = Infinity, maxX = -Infinity, maxY = -Infinity;\n        const trans = this.getAbsoluteTransform(top);\n        points.forEach(function (point) {\n            const transformed = trans.point(point);\n            if (minX === undefined) {\n                minX = maxX = transformed.x;\n                minY = maxY = transformed.y;\n            }\n            minX = Math.min(minX, transformed.x);\n            minY = Math.min(minY, transformed.y);\n            maxX = Math.max(maxX, transformed.x);\n            maxY = Math.max(maxY, transformed.y);\n        });\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n    _drawCachedSceneCanvas(context) {\n        context.save();\n        context._applyOpacity(this);\n        context._applyGlobalCompositeOperation(this);\n        const canvasCache = this._getCanvasCache();\n        context.translate(canvasCache.x, canvasCache.y);\n        const cacheCanvas = this._getCachedSceneCanvas();\n        const ratio = cacheCanvas.pixelRatio;\n        context.drawImage(cacheCanvas._canvas, 0, 0, cacheCanvas.width / ratio, cacheCanvas.height / ratio);\n        context.restore();\n    }\n    _drawCachedHitCanvas(context) {\n        const canvasCache = this._getCanvasCache(), hitCanvas = canvasCache.hit;\n        context.save();\n        context.translate(canvasCache.x, canvasCache.y);\n        context.drawImage(hitCanvas._canvas, 0, 0, hitCanvas.width / hitCanvas.pixelRatio, hitCanvas.height / hitCanvas.pixelRatio);\n        context.restore();\n    }\n    _getCachedSceneCanvas() {\n        let filters = this.filters(), cachedCanvas = this._getCanvasCache(), sceneCanvas = cachedCanvas.scene, filterCanvas = cachedCanvas.filter, filterContext = filterCanvas.getContext(), len, imageData, n, filter;\n        if (filters) {\n            if (!this._filterUpToDate) {\n                const ratio = sceneCanvas.pixelRatio;\n                filterCanvas.setSize(sceneCanvas.width / sceneCanvas.pixelRatio, sceneCanvas.height / sceneCanvas.pixelRatio);\n                try {\n                    len = filters.length;\n                    filterContext.clear();\n                    filterContext.drawImage(sceneCanvas._canvas, 0, 0, sceneCanvas.getWidth() / ratio, sceneCanvas.getHeight() / ratio);\n                    imageData = filterContext.getImageData(0, 0, filterCanvas.getWidth(), filterCanvas.getHeight());\n                    for (n = 0; n < len; n++) {\n                        filter = filters[n];\n                        if (typeof filter !== 'function') {\n                            Util_1.Util.error('Filter should be type of function, but got ' +\n                                typeof filter +\n                                ' instead. Please check correct filters');\n                            continue;\n                        }\n                        filter.call(this, imageData);\n                        filterContext.putImageData(imageData, 0, 0);\n                    }\n                }\n                catch (e) {\n                    Util_1.Util.error('Unable to apply filter. ' +\n                        e.message +\n                        ' This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.');\n                }\n                this._filterUpToDate = true;\n            }\n            return filterCanvas;\n        }\n        return sceneCanvas;\n    }\n    on(evtStr, handler) {\n        if (this._cache) {\n            this._cache.delete(ALL_LISTENERS);\n        }\n        if (arguments.length === 3) {\n            return this._delegate.apply(this, arguments);\n        }\n        const events = evtStr.split(SPACE);\n        for (let n = 0; n < events.length; n++) {\n            const event = events[n];\n            const parts = event.split('.');\n            const baseEvent = parts[0];\n            const name = parts[1] || '';\n            if (!this.eventListeners[baseEvent]) {\n                this.eventListeners[baseEvent] = [];\n            }\n            this.eventListeners[baseEvent].push({ name, handler });\n        }\n        return this;\n    }\n    off(evtStr, callback) {\n        let events = (evtStr || '').split(SPACE), len = events.length, n, t, event, parts, baseEvent, name;\n        this._cache && this._cache.delete(ALL_LISTENERS);\n        if (!evtStr) {\n            for (t in this.eventListeners) {\n                this._off(t);\n            }\n        }\n        for (n = 0; n < len; n++) {\n            event = events[n];\n            parts = event.split('.');\n            baseEvent = parts[0];\n            name = parts[1];\n            if (baseEvent) {\n                if (this.eventListeners[baseEvent]) {\n                    this._off(baseEvent, name, callback);\n                }\n            }\n            else {\n                for (t in this.eventListeners) {\n                    this._off(t, name, callback);\n                }\n            }\n        }\n        return this;\n    }\n    dispatchEvent(evt) {\n        const e = {\n            target: this,\n            type: evt.type,\n            evt: evt,\n        };\n        this.fire(evt.type, e);\n        return this;\n    }\n    addEventListener(type, handler) {\n        this.on(type, function (evt) {\n            handler.call(this, evt.evt);\n        });\n        return this;\n    }\n    removeEventListener(type) {\n        this.off(type);\n        return this;\n    }\n    _delegate(event, selector, handler) {\n        const stopNode = this;\n        this.on(event, function (evt) {\n            const targets = evt.target.findAncestors(selector, true, stopNode);\n            for (let i = 0; i < targets.length; i++) {\n                evt = Util_1.Util.cloneObject(evt);\n                evt.currentTarget = targets[i];\n                handler.call(targets[i], evt);\n            }\n        });\n    }\n    remove() {\n        if (this.isDragging()) {\n            this.stopDrag();\n        }\n        DragAndDrop_1.DD._dragElements.delete(this._id);\n        this._remove();\n        return this;\n    }\n    _clearCaches() {\n        this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n        this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n        this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);\n        this._clearSelfAndDescendantCache(STAGE);\n        this._clearSelfAndDescendantCache(VISIBLE);\n        this._clearSelfAndDescendantCache(LISTENING);\n    }\n    _remove() {\n        this._clearCaches();\n        const parent = this.getParent();\n        if (parent && parent.children) {\n            parent.children.splice(this.index, 1);\n            parent._setChildrenIndices();\n            this.parent = null;\n        }\n    }\n    destroy() {\n        this.remove();\n        this.clearCache();\n        return this;\n    }\n    getAttr(attr) {\n        const method = 'get' + Util_1.Util._capitalize(attr);\n        if (Util_1.Util._isFunction(this[method])) {\n            return this[method]();\n        }\n        return this.attrs[attr];\n    }\n    getAncestors() {\n        let parent = this.getParent(), ancestors = [];\n        while (parent) {\n            ancestors.push(parent);\n            parent = parent.getParent();\n        }\n        return ancestors;\n    }\n    getAttrs() {\n        return (this.attrs || {});\n    }\n    setAttrs(config) {\n        this._batchTransformChanges(() => {\n            let key, method;\n            if (!config) {\n                return this;\n            }\n            for (key in config) {\n                if (key === CHILDREN) {\n                    continue;\n                }\n                method = SET + Util_1.Util._capitalize(key);\n                if (Util_1.Util._isFunction(this[method])) {\n                    this[method](config[key]);\n                }\n                else {\n                    this._setAttr(key, config[key]);\n                }\n            }\n        });\n        return this;\n    }\n    isListening() {\n        return this._getCache(LISTENING, this._isListening);\n    }\n    _isListening(relativeTo) {\n        const listening = this.listening();\n        if (!listening) {\n            return false;\n        }\n        const parent = this.getParent();\n        if (parent && parent !== relativeTo && this !== relativeTo) {\n            return parent._isListening(relativeTo);\n        }\n        else {\n            return true;\n        }\n    }\n    isVisible() {\n        return this._getCache(VISIBLE, this._isVisible);\n    }\n    _isVisible(relativeTo) {\n        const visible = this.visible();\n        if (!visible) {\n            return false;\n        }\n        const parent = this.getParent();\n        if (parent && parent !== relativeTo && this !== relativeTo) {\n            return parent._isVisible(relativeTo);\n        }\n        else {\n            return true;\n        }\n    }\n    shouldDrawHit(top, skipDragCheck = false) {\n        if (top) {\n            return this._isVisible(top) && this._isListening(top);\n        }\n        const layer = this.getLayer();\n        let layerUnderDrag = false;\n        DragAndDrop_1.DD._dragElements.forEach((elem) => {\n            if (elem.dragStatus !== 'dragging') {\n                return;\n            }\n            else if (elem.node.nodeType === 'Stage') {\n                layerUnderDrag = true;\n            }\n            else if (elem.node.getLayer() === layer) {\n                layerUnderDrag = true;\n            }\n        });\n        const dragSkip = !skipDragCheck &&\n            !Global_1.Konva.hitOnDragEnabled &&\n            (layerUnderDrag || Global_1.Konva.isTransforming());\n        return this.isListening() && this.isVisible() && !dragSkip;\n    }\n    show() {\n        this.visible(true);\n        return this;\n    }\n    hide() {\n        this.visible(false);\n        return this;\n    }\n    getZIndex() {\n        return this.index || 0;\n    }\n    getAbsoluteZIndex() {\n        let depth = this.getDepth(), that = this, index = 0, nodes, len, n, child;\n        function addChildren(children) {\n            nodes = [];\n            len = children.length;\n            for (n = 0; n < len; n++) {\n                child = children[n];\n                index++;\n                if (child.nodeType !== SHAPE) {\n                    nodes = nodes.concat(child.getChildren().slice());\n                }\n                if (child._id === that._id) {\n                    n = len;\n                }\n            }\n            if (nodes.length > 0 && nodes[0].getDepth() <= depth) {\n                addChildren(nodes);\n            }\n        }\n        const stage = this.getStage();\n        if (that.nodeType !== UPPER_STAGE && stage) {\n            addChildren(stage.getChildren());\n        }\n        return index;\n    }\n    getDepth() {\n        let depth = 0, parent = this.parent;\n        while (parent) {\n            depth++;\n            parent = parent.parent;\n        }\n        return depth;\n    }\n    _batchTransformChanges(func) {\n        this._batchingTransformChange = true;\n        func();\n        this._batchingTransformChange = false;\n        if (this._needClearTransformCache) {\n            this._clearCache(TRANSFORM);\n            this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n        }\n        this._needClearTransformCache = false;\n    }\n    setPosition(pos) {\n        this._batchTransformChanges(() => {\n            this.x(pos.x);\n            this.y(pos.y);\n        });\n        return this;\n    }\n    getPosition() {\n        return {\n            x: this.x(),\n            y: this.y(),\n        };\n    }\n    getRelativePointerPosition() {\n        const stage = this.getStage();\n        if (!stage) {\n            return null;\n        }\n        const pos = stage.getPointerPosition();\n        if (!pos) {\n            return null;\n        }\n        const transform = this.getAbsoluteTransform().copy();\n        transform.invert();\n        return transform.point(pos);\n    }\n    getAbsolutePosition(top) {\n        let haveCachedParent = false;\n        let parent = this.parent;\n        while (parent) {\n            if (parent.isCached()) {\n                haveCachedParent = true;\n                break;\n            }\n            parent = parent.parent;\n        }\n        if (haveCachedParent && !top) {\n            top = true;\n        }\n        const absoluteMatrix = this.getAbsoluteTransform(top).getMatrix(), absoluteTransform = new Util_1.Transform(), offset = this.offset();\n        absoluteTransform.m = absoluteMatrix.slice();\n        absoluteTransform.translate(offset.x, offset.y);\n        return absoluteTransform.getTranslation();\n    }\n    setAbsolutePosition(pos) {\n        const { x, y, ...origTrans } = this._clearTransform();\n        this.attrs.x = x;\n        this.attrs.y = y;\n        this._clearCache(TRANSFORM);\n        const it = this._getAbsoluteTransform().copy();\n        it.invert();\n        it.translate(pos.x, pos.y);\n        pos = {\n            x: this.attrs.x + it.getTranslation().x,\n            y: this.attrs.y + it.getTranslation().y,\n        };\n        this._setTransform(origTrans);\n        this.setPosition({ x: pos.x, y: pos.y });\n        this._clearCache(TRANSFORM);\n        this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n        return this;\n    }\n    _setTransform(trans) {\n        let key;\n        for (key in trans) {\n            this.attrs[key] = trans[key];\n        }\n    }\n    _clearTransform() {\n        const trans = {\n            x: this.x(),\n            y: this.y(),\n            rotation: this.rotation(),\n            scaleX: this.scaleX(),\n            scaleY: this.scaleY(),\n            offsetX: this.offsetX(),\n            offsetY: this.offsetY(),\n            skewX: this.skewX(),\n            skewY: this.skewY(),\n        };\n        this.attrs.x = 0;\n        this.attrs.y = 0;\n        this.attrs.rotation = 0;\n        this.attrs.scaleX = 1;\n        this.attrs.scaleY = 1;\n        this.attrs.offsetX = 0;\n        this.attrs.offsetY = 0;\n        this.attrs.skewX = 0;\n        this.attrs.skewY = 0;\n        return trans;\n    }\n    move(change) {\n        let changeX = change.x, changeY = change.y, x = this.x(), y = this.y();\n        if (changeX !== undefined) {\n            x += changeX;\n        }\n        if (changeY !== undefined) {\n            y += changeY;\n        }\n        this.setPosition({ x: x, y: y });\n        return this;\n    }\n    _eachAncestorReverse(func, top) {\n        let family = [], parent = this.getParent(), len, n;\n        if (top && top._id === this._id) {\n            return;\n        }\n        family.unshift(this);\n        while (parent && (!top || parent._id !== top._id)) {\n            family.unshift(parent);\n            parent = parent.parent;\n        }\n        len = family.length;\n        for (n = 0; n < len; n++) {\n            func(family[n]);\n        }\n    }\n    rotate(theta) {\n        this.rotation(this.rotation() + theta);\n        return this;\n    }\n    moveToTop() {\n        if (!this.parent) {\n            Util_1.Util.warn('Node has no parent. moveToTop function is ignored.');\n            return false;\n        }\n        const index = this.index, len = this.parent.getChildren().length;\n        if (index < len - 1) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.push(this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    moveUp() {\n        if (!this.parent) {\n            Util_1.Util.warn('Node has no parent. moveUp function is ignored.');\n            return false;\n        }\n        const index = this.index, len = this.parent.getChildren().length;\n        if (index < len - 1) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.splice(index + 1, 0, this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    moveDown() {\n        if (!this.parent) {\n            Util_1.Util.warn('Node has no parent. moveDown function is ignored.');\n            return false;\n        }\n        const index = this.index;\n        if (index > 0) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.splice(index - 1, 0, this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    moveToBottom() {\n        if (!this.parent) {\n            Util_1.Util.warn('Node has no parent. moveToBottom function is ignored.');\n            return false;\n        }\n        const index = this.index;\n        if (index > 0) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.unshift(this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    setZIndex(zIndex) {\n        if (!this.parent) {\n            Util_1.Util.warn('Node has no parent. zIndex parameter is ignored.');\n            return this;\n        }\n        if (zIndex < 0 || zIndex >= this.parent.children.length) {\n            Util_1.Util.warn('Unexpected value ' +\n                zIndex +\n                ' for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to ' +\n                (this.parent.children.length - 1) +\n                '.');\n        }\n        const index = this.index;\n        this.parent.children.splice(index, 1);\n        this.parent.children.splice(zIndex, 0, this);\n        this.parent._setChildrenIndices();\n        return this;\n    }\n    getAbsoluteOpacity() {\n        return this._getCache(ABSOLUTE_OPACITY, this._getAbsoluteOpacity);\n    }\n    _getAbsoluteOpacity() {\n        let absOpacity = this.opacity();\n        const parent = this.getParent();\n        if (parent && !parent._isUnderCache) {\n            absOpacity *= parent.getAbsoluteOpacity();\n        }\n        return absOpacity;\n    }\n    moveTo(newContainer) {\n        if (this.getParent() !== newContainer) {\n            this._remove();\n            newContainer.add(this);\n        }\n        return this;\n    }\n    toObject() {\n        let attrs = this.getAttrs(), key, val, getter, defaultValue, nonPlainObject;\n        const obj = {\n            attrs: {},\n            className: this.getClassName(),\n        };\n        for (key in attrs) {\n            val = attrs[key];\n            nonPlainObject =\n                Util_1.Util.isObject(val) && !Util_1.Util._isPlainObject(val) && !Util_1.Util._isArray(val);\n            if (nonPlainObject) {\n                continue;\n            }\n            getter = typeof this[key] === 'function' && this[key];\n            delete attrs[key];\n            defaultValue = getter ? getter.call(this) : null;\n            attrs[key] = val;\n            if (defaultValue !== val) {\n                obj.attrs[key] = val;\n            }\n        }\n        return Util_1.Util._prepareToStringify(obj);\n    }\n    toJSON() {\n        return JSON.stringify(this.toObject());\n    }\n    getParent() {\n        return this.parent;\n    }\n    findAncestors(selector, includeSelf, stopNode) {\n        const res = [];\n        if (includeSelf && this._isMatch(selector)) {\n            res.push(this);\n        }\n        let ancestor = this.parent;\n        while (ancestor) {\n            if (ancestor === stopNode) {\n                return res;\n            }\n            if (ancestor._isMatch(selector)) {\n                res.push(ancestor);\n            }\n            ancestor = ancestor.parent;\n        }\n        return res;\n    }\n    isAncestorOf(node) {\n        return false;\n    }\n    findAncestor(selector, includeSelf, stopNode) {\n        return this.findAncestors(selector, includeSelf, stopNode)[0];\n    }\n    _isMatch(selector) {\n        if (!selector) {\n            return false;\n        }\n        if (typeof selector === 'function') {\n            return selector(this);\n        }\n        let selectorArr = selector.replace(/ /g, '').split(','), len = selectorArr.length, n, sel;\n        for (n = 0; n < len; n++) {\n            sel = selectorArr[n];\n            if (!Util_1.Util.isValidSelector(sel)) {\n                Util_1.Util.warn('Selector \"' +\n                    sel +\n                    '\" is invalid. Allowed selectors examples are \"#foo\", \".bar\" or \"Group\".');\n                Util_1.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like \"Triangle\".');\n                Util_1.Util.warn('Konva is awesome, right?');\n            }\n            if (sel.charAt(0) === '#') {\n                if (this.id() === sel.slice(1)) {\n                    return true;\n                }\n            }\n            else if (sel.charAt(0) === '.') {\n                if (this.hasName(sel.slice(1))) {\n                    return true;\n                }\n            }\n            else if (this.className === sel || this.nodeType === sel) {\n                return true;\n            }\n        }\n        return false;\n    }\n    getLayer() {\n        const parent = this.getParent();\n        return parent ? parent.getLayer() : null;\n    }\n    getStage() {\n        return this._getCache(STAGE, this._getStage);\n    }\n    _getStage() {\n        const parent = this.getParent();\n        if (parent) {\n            return parent.getStage();\n        }\n        else {\n            return null;\n        }\n    }\n    fire(eventType, evt = {}, bubble) {\n        evt.target = evt.target || this;\n        if (bubble) {\n            this._fireAndBubble(eventType, evt);\n        }\n        else {\n            this._fire(eventType, evt);\n        }\n        return this;\n    }\n    getAbsoluteTransform(top) {\n        if (top) {\n            return this._getAbsoluteTransform(top);\n        }\n        else {\n            return this._getCache(ABSOLUTE_TRANSFORM, this._getAbsoluteTransform);\n        }\n    }\n    _getAbsoluteTransform(top) {\n        let at;\n        if (top) {\n            at = new Util_1.Transform();\n            this._eachAncestorReverse(function (node) {\n                const transformsEnabled = node.transformsEnabled();\n                if (transformsEnabled === 'all') {\n                    at.multiply(node.getTransform());\n                }\n                else if (transformsEnabled === 'position') {\n                    at.translate(node.x() - node.offsetX(), node.y() - node.offsetY());\n                }\n            }, top);\n            return at;\n        }\n        else {\n            at = this._cache.get(ABSOLUTE_TRANSFORM) || new Util_1.Transform();\n            if (this.parent) {\n                this.parent.getAbsoluteTransform().copyInto(at);\n            }\n            else {\n                at.reset();\n            }\n            const transformsEnabled = this.transformsEnabled();\n            if (transformsEnabled === 'all') {\n                at.multiply(this.getTransform());\n            }\n            else if (transformsEnabled === 'position') {\n                const x = this.attrs.x || 0;\n                const y = this.attrs.y || 0;\n                const offsetX = this.attrs.offsetX || 0;\n                const offsetY = this.attrs.offsetY || 0;\n                at.translate(x - offsetX, y - offsetY);\n            }\n            at.dirty = false;\n            return at;\n        }\n    }\n    getAbsoluteScale(top) {\n        let parent = this;\n        while (parent) {\n            if (parent._isUnderCache) {\n                top = parent;\n            }\n            parent = parent.getParent();\n        }\n        const transform = this.getAbsoluteTransform(top);\n        const attrs = transform.decompose();\n        return {\n            x: attrs.scaleX,\n            y: attrs.scaleY,\n        };\n    }\n    getAbsoluteRotation() {\n        return this.getAbsoluteTransform().decompose().rotation;\n    }\n    getTransform() {\n        return this._getCache(TRANSFORM, this._getTransform);\n    }\n    _getTransform() {\n        var _a, _b;\n        const m = this._cache.get(TRANSFORM) || new Util_1.Transform();\n        m.reset();\n        const x = this.x(), y = this.y(), rotation = Global_1.Konva.getAngle(this.rotation()), scaleX = (_a = this.attrs.scaleX) !== null && _a !== void 0 ? _a : 1, scaleY = (_b = this.attrs.scaleY) !== null && _b !== void 0 ? _b : 1, skewX = this.attrs.skewX || 0, skewY = this.attrs.skewY || 0, offsetX = this.attrs.offsetX || 0, offsetY = this.attrs.offsetY || 0;\n        if (x !== 0 || y !== 0) {\n            m.translate(x, y);\n        }\n        if (rotation !== 0) {\n            m.rotate(rotation);\n        }\n        if (skewX !== 0 || skewY !== 0) {\n            m.skew(skewX, skewY);\n        }\n        if (scaleX !== 1 || scaleY !== 1) {\n            m.scale(scaleX, scaleY);\n        }\n        if (offsetX !== 0 || offsetY !== 0) {\n            m.translate(-1 * offsetX, -1 * offsetY);\n        }\n        m.dirty = false;\n        return m;\n    }\n    clone(obj) {\n        let attrs = Util_1.Util.cloneObject(this.attrs), key, allListeners, len, n, listener;\n        for (key in obj) {\n            attrs[key] = obj[key];\n        }\n        const node = new this.constructor(attrs);\n        for (key in this.eventListeners) {\n            allListeners = this.eventListeners[key];\n            len = allListeners.length;\n            for (n = 0; n < len; n++) {\n                listener = allListeners[n];\n                if (listener.name.indexOf(KONVA) < 0) {\n                    if (!node.eventListeners[key]) {\n                        node.eventListeners[key] = [];\n                    }\n                    node.eventListeners[key].push(listener);\n                }\n            }\n        }\n        return node;\n    }\n    _toKonvaCanvas(config) {\n        config = config || {};\n        const box = this.getClientRect();\n        const stage = this.getStage(), x = config.x !== undefined ? config.x : Math.floor(box.x), y = config.y !== undefined ? config.y : Math.floor(box.y), pixelRatio = config.pixelRatio || 1, canvas = new Canvas_1.SceneCanvas({\n            width: config.width || Math.ceil(box.width) || (stage ? stage.width() : 0),\n            height: config.height ||\n                Math.ceil(box.height) ||\n                (stage ? stage.height() : 0),\n            pixelRatio: pixelRatio,\n        }), context = canvas.getContext();\n        const bufferCanvas = new Canvas_1.SceneCanvas({\n            width: canvas.width / canvas.pixelRatio + Math.abs(x),\n            height: canvas.height / canvas.pixelRatio + Math.abs(y),\n            pixelRatio: canvas.pixelRatio,\n        });\n        if (config.imageSmoothingEnabled === false) {\n            context._context.imageSmoothingEnabled = false;\n        }\n        context.save();\n        if (x || y) {\n            context.translate(-1 * x, -1 * y);\n        }\n        this.drawScene(canvas, undefined, bufferCanvas);\n        context.restore();\n        return canvas;\n    }\n    toCanvas(config) {\n        return this._toKonvaCanvas(config)._canvas;\n    }\n    toDataURL(config) {\n        config = config || {};\n        const mimeType = config.mimeType || null, quality = config.quality || null;\n        const url = this._toKonvaCanvas(config).toDataURL(mimeType, quality);\n        if (config.callback) {\n            config.callback(url);\n        }\n        return url;\n    }\n    toImage(config) {\n        return new Promise((resolve, reject) => {\n            try {\n                const callback = config === null || config === void 0 ? void 0 : config.callback;\n                if (callback)\n                    delete config.callback;\n                Util_1.Util._urlToImage(this.toDataURL(config), function (img) {\n                    resolve(img);\n                    callback === null || callback === void 0 ? void 0 : callback(img);\n                });\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n    }\n    toBlob(config) {\n        return new Promise((resolve, reject) => {\n            try {\n                const callback = config === null || config === void 0 ? void 0 : config.callback;\n                if (callback)\n                    delete config.callback;\n                this.toCanvas(config).toBlob((blob) => {\n                    resolve(blob);\n                    callback === null || callback === void 0 ? void 0 : callback(blob);\n                }, config === null || config === void 0 ? void 0 : config.mimeType, config === null || config === void 0 ? void 0 : config.quality);\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n    }\n    setSize(size) {\n        this.width(size.width);\n        this.height(size.height);\n        return this;\n    }\n    getSize() {\n        return {\n            width: this.width(),\n            height: this.height(),\n        };\n    }\n    getClassName() {\n        return this.className || this.nodeType;\n    }\n    getType() {\n        return this.nodeType;\n    }\n    getDragDistance() {\n        if (this.attrs.dragDistance !== undefined) {\n            return this.attrs.dragDistance;\n        }\n        else if (this.parent) {\n            return this.parent.getDragDistance();\n        }\n        else {\n            return Global_1.Konva.dragDistance;\n        }\n    }\n    _off(type, name, callback) {\n        let evtListeners = this.eventListeners[type], i, evtName, handler;\n        for (i = 0; i < evtListeners.length; i++) {\n            evtName = evtListeners[i].name;\n            handler = evtListeners[i].handler;\n            if ((evtName !== 'konva' || name === 'konva') &&\n                (!name || evtName === name) &&\n                (!callback || callback === handler)) {\n                evtListeners.splice(i, 1);\n                if (evtListeners.length === 0) {\n                    delete this.eventListeners[type];\n                    break;\n                }\n                i--;\n            }\n        }\n    }\n    _fireChangeEvent(attr, oldVal, newVal) {\n        this._fire(attr + CHANGE, {\n            oldVal: oldVal,\n            newVal: newVal,\n        });\n    }\n    addName(name) {\n        if (!this.hasName(name)) {\n            const oldName = this.name();\n            const newName = oldName ? oldName + ' ' + name : name;\n            this.name(newName);\n        }\n        return this;\n    }\n    hasName(name) {\n        if (!name) {\n            return false;\n        }\n        const fullName = this.name();\n        if (!fullName) {\n            return false;\n        }\n        const names = (fullName || '').split(/\\s/g);\n        return names.indexOf(name) !== -1;\n    }\n    removeName(name) {\n        const names = (this.name() || '').split(/\\s/g);\n        const index = names.indexOf(name);\n        if (index !== -1) {\n            names.splice(index, 1);\n            this.name(names.join(' '));\n        }\n        return this;\n    }\n    setAttr(attr, val) {\n        const func = this[SET + Util_1.Util._capitalize(attr)];\n        if (Util_1.Util._isFunction(func)) {\n            func.call(this, val);\n        }\n        else {\n            this._setAttr(attr, val);\n        }\n        return this;\n    }\n    _requestDraw() {\n        if (Global_1.Konva.autoDrawEnabled) {\n            const drawNode = this.getLayer() || this.getStage();\n            drawNode === null || drawNode === void 0 ? void 0 : drawNode.batchDraw();\n        }\n    }\n    _setAttr(key, val) {\n        const oldVal = this.attrs[key];\n        if (oldVal === val && !Util_1.Util.isObject(val)) {\n            return;\n        }\n        if (val === undefined || val === null) {\n            delete this.attrs[key];\n        }\n        else {\n            this.attrs[key] = val;\n        }\n        if (this._shouldFireChangeEvents) {\n            this._fireChangeEvent(key, oldVal, val);\n        }\n        this._requestDraw();\n    }\n    _setComponentAttr(key, component, val) {\n        let oldVal;\n        if (val !== undefined) {\n            oldVal = this.attrs[key];\n            if (!oldVal) {\n                this.attrs[key] = this.getAttr(key);\n            }\n            this.attrs[key][component] = val;\n            this._fireChangeEvent(key, oldVal, val);\n        }\n    }\n    _fireAndBubble(eventType, evt, compareShape) {\n        if (evt && this.nodeType === SHAPE) {\n            evt.target = this;\n        }\n        const nonBubbling = [\n            MOUSEENTER,\n            MOUSELEAVE,\n            POINTERENTER,\n            POINTERLEAVE,\n            TOUCHENTER,\n            TOUCHLEAVE,\n        ];\n        const shouldStop = nonBubbling.indexOf(eventType) !== -1 &&\n            ((compareShape &&\n                (this === compareShape ||\n                    (this.isAncestorOf && this.isAncestorOf(compareShape)))) ||\n                (this.nodeType === 'Stage' && !compareShape));\n        if (!shouldStop) {\n            this._fire(eventType, evt);\n            const stopBubble = nonBubbling.indexOf(eventType) !== -1 &&\n                compareShape &&\n                compareShape.isAncestorOf &&\n                compareShape.isAncestorOf(this) &&\n                !compareShape.isAncestorOf(this.parent);\n            if (((evt && !evt.cancelBubble) || !evt) &&\n                this.parent &&\n                this.parent.isListening() &&\n                !stopBubble) {\n                if (compareShape && compareShape.parent) {\n                    this._fireAndBubble.call(this.parent, eventType, evt, compareShape);\n                }\n                else {\n                    this._fireAndBubble.call(this.parent, eventType, evt);\n                }\n            }\n        }\n    }\n    _getProtoListeners(eventType) {\n        var _a, _b, _c;\n        const allListeners = (_a = this._cache.get(ALL_LISTENERS)) !== null && _a !== void 0 ? _a : {};\n        let events = allListeners === null || allListeners === void 0 ? void 0 : allListeners[eventType];\n        if (events === undefined) {\n            events = [];\n            let obj = Object.getPrototypeOf(this);\n            while (obj) {\n                const hierarchyEvents = (_c = (_b = obj.eventListeners) === null || _b === void 0 ? void 0 : _b[eventType]) !== null && _c !== void 0 ? _c : [];\n                events.push(...hierarchyEvents);\n                obj = Object.getPrototypeOf(obj);\n            }\n            allListeners[eventType] = events;\n            this._cache.set(ALL_LISTENERS, allListeners);\n        }\n        return events;\n    }\n    _fire(eventType, evt) {\n        evt = evt || {};\n        evt.currentTarget = this;\n        evt.type = eventType;\n        const topListeners = this._getProtoListeners(eventType);\n        if (topListeners) {\n            for (let i = 0; i < topListeners.length; i++) {\n                topListeners[i].handler.call(this, evt);\n            }\n        }\n        const selfListeners = this.eventListeners[eventType];\n        if (selfListeners) {\n            for (let i = 0; i < selfListeners.length; i++) {\n                selfListeners[i].handler.call(this, evt);\n            }\n        }\n    }\n    draw() {\n        this.drawScene();\n        this.drawHit();\n        return this;\n    }\n    _createDragElement(evt) {\n        const pointerId = evt ? evt.pointerId : undefined;\n        const stage = this.getStage();\n        const ap = this.getAbsolutePosition();\n        if (!stage) {\n            return;\n        }\n        const pos = stage._getPointerById(pointerId) ||\n            stage._changedPointerPositions[0] ||\n            ap;\n        DragAndDrop_1.DD._dragElements.set(this._id, {\n            node: this,\n            startPointerPos: pos,\n            offset: {\n                x: pos.x - ap.x,\n                y: pos.y - ap.y,\n            },\n            dragStatus: 'ready',\n            pointerId,\n        });\n    }\n    startDrag(evt, bubbleEvent = true) {\n        if (!DragAndDrop_1.DD._dragElements.has(this._id)) {\n            this._createDragElement(evt);\n        }\n        const elem = DragAndDrop_1.DD._dragElements.get(this._id);\n        elem.dragStatus = 'dragging';\n        this.fire('dragstart', {\n            type: 'dragstart',\n            target: this,\n            evt: evt && evt.evt,\n        }, bubbleEvent);\n    }\n    _setDragPosition(evt, elem) {\n        const pos = this.getStage()._getPointerById(elem.pointerId);\n        if (!pos) {\n            return;\n        }\n        let newNodePos = {\n            x: pos.x - elem.offset.x,\n            y: pos.y - elem.offset.y,\n        };\n        const dbf = this.dragBoundFunc();\n        if (dbf !== undefined) {\n            const bounded = dbf.call(this, newNodePos, evt);\n            if (!bounded) {\n                Util_1.Util.warn('dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.');\n            }\n            else {\n                newNodePos = bounded;\n            }\n        }\n        if (!this._lastPos ||\n            this._lastPos.x !== newNodePos.x ||\n            this._lastPos.y !== newNodePos.y) {\n            this.setAbsolutePosition(newNodePos);\n            this._requestDraw();\n        }\n        this._lastPos = newNodePos;\n    }\n    stopDrag(evt) {\n        const elem = DragAndDrop_1.DD._dragElements.get(this._id);\n        if (elem) {\n            elem.dragStatus = 'stopped';\n        }\n        DragAndDrop_1.DD._endDragBefore(evt);\n        DragAndDrop_1.DD._endDragAfter(evt);\n    }\n    setDraggable(draggable) {\n        this._setAttr('draggable', draggable);\n        this._dragChange();\n    }\n    isDragging() {\n        const elem = DragAndDrop_1.DD._dragElements.get(this._id);\n        return elem ? elem.dragStatus === 'dragging' : false;\n    }\n    _listenDrag() {\n        this._dragCleanup();\n        this.on('mousedown.konva touchstart.konva', function (evt) {\n            const shouldCheckButton = evt.evt['button'] !== undefined;\n            const canDrag = !shouldCheckButton || Global_1.Konva.dragButtons.indexOf(evt.evt['button']) >= 0;\n            if (!canDrag) {\n                return;\n            }\n            if (this.isDragging()) {\n                return;\n            }\n            let hasDraggingChild = false;\n            DragAndDrop_1.DD._dragElements.forEach((elem) => {\n                if (this.isAncestorOf(elem.node)) {\n                    hasDraggingChild = true;\n                }\n            });\n            if (!hasDraggingChild) {\n                this._createDragElement(evt);\n            }\n        });\n    }\n    _dragChange() {\n        if (this.attrs.draggable) {\n            this._listenDrag();\n        }\n        else {\n            this._dragCleanup();\n            const stage = this.getStage();\n            if (!stage) {\n                return;\n            }\n            const dragElement = DragAndDrop_1.DD._dragElements.get(this._id);\n            const isDragging = dragElement && dragElement.dragStatus === 'dragging';\n            const isReady = dragElement && dragElement.dragStatus === 'ready';\n            if (isDragging) {\n                this.stopDrag();\n            }\n            else if (isReady) {\n                DragAndDrop_1.DD._dragElements.delete(this._id);\n            }\n        }\n    }\n    _dragCleanup() {\n        this.off('mousedown.konva');\n        this.off('touchstart.konva');\n    }\n    isClientRectOnScreen(margin = { x: 0, y: 0 }) {\n        const stage = this.getStage();\n        if (!stage) {\n            return false;\n        }\n        const screenRect = {\n            x: -margin.x,\n            y: -margin.y,\n            width: stage.width() + 2 * margin.x,\n            height: stage.height() + 2 * margin.y,\n        };\n        return Util_1.Util.haveIntersection(screenRect, this.getClientRect());\n    }\n    static create(data, container) {\n        if (Util_1.Util._isString(data)) {\n            data = JSON.parse(data);\n        }\n        return this._createNode(data, container);\n    }\n    static _createNode(obj, container) {\n        let className = Node.prototype.getClassName.call(obj), children = obj.children, no, len, n;\n        if (container) {\n            obj.attrs.container = container;\n        }\n        if (!Global_1.Konva[className]) {\n            Util_1.Util.warn('Can not find a node with class name \"' +\n                className +\n                '\". Fallback to \"Shape\".');\n            className = 'Shape';\n        }\n        const Class = Global_1.Konva[className];\n        no = new Class(obj.attrs);\n        if (children) {\n            len = children.length;\n            for (n = 0; n < len; n++) {\n                no.add(Node._createNode(children[n]));\n            }\n        }\n        return no;\n    }\n}\nexports.Node = Node;\nNode.prototype.nodeType = 'Node';\nNode.prototype._attrsAffectingSize = [];\nNode.prototype.eventListeners = {};\nNode.prototype.on.call(Node.prototype, TRANSFORM_CHANGE_STR, function () {\n    if (this._batchingTransformChange) {\n        this._needClearTransformCache = true;\n        return;\n    }\n    this._clearCache(TRANSFORM);\n    this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n});\nNode.prototype.on.call(Node.prototype, 'visibleChange.konva', function () {\n    this._clearSelfAndDescendantCache(VISIBLE);\n});\nNode.prototype.on.call(Node.prototype, 'listeningChange.konva', function () {\n    this._clearSelfAndDescendantCache(LISTENING);\n});\nNode.prototype.on.call(Node.prototype, 'opacityChange.konva', function () {\n    this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n});\nconst addGetterSetter = Factory_1.Factory.addGetterSetter;\naddGetterSetter(Node, 'zIndex');\naddGetterSetter(Node, 'absolutePosition');\naddGetterSetter(Node, 'position');\naddGetterSetter(Node, 'x', 0, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'y', 0, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'globalCompositeOperation', 'source-over', (0, Validators_1.getStringValidator)());\naddGetterSetter(Node, 'opacity', 1, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'name', '', (0, Validators_1.getStringValidator)());\naddGetterSetter(Node, 'id', '', (0, Validators_1.getStringValidator)());\naddGetterSetter(Node, 'rotation', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addComponentsGetterSetter(Node, 'scale', ['x', 'y']);\naddGetterSetter(Node, 'scaleX', 1, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'scaleY', 1, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addComponentsGetterSetter(Node, 'skew', ['x', 'y']);\naddGetterSetter(Node, 'skewX', 0, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'skewY', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addComponentsGetterSetter(Node, 'offset', ['x', 'y']);\naddGetterSetter(Node, 'offsetX', 0, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'offsetY', 0, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'dragDistance', undefined, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'width', 0, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'height', 0, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'listening', true, (0, Validators_1.getBooleanValidator)());\naddGetterSetter(Node, 'preventDefault', true, (0, Validators_1.getBooleanValidator)());\naddGetterSetter(Node, 'filters', undefined, function (val) {\n    this._filterUpToDate = false;\n    return val;\n});\naddGetterSetter(Node, 'visible', true, (0, Validators_1.getBooleanValidator)());\naddGetterSetter(Node, 'transformsEnabled', 'all', (0, Validators_1.getStringValidator)());\naddGetterSetter(Node, 'size');\naddGetterSetter(Node, 'dragBoundFunc');\naddGetterSetter(Node, 'draggable', false, (0, Validators_1.getBooleanValidator)());\nFactory_1.Factory.backCompat(Node, {\n    rotateDeg: 'rotate',\n    setRotationDeg: 'setRotation',\n    getRotationDeg: 'getRotation',\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Container = void 0;\nconst Factory_1 = require(\"./Factory\");\nconst Node_1 = require(\"./Node\");\nconst Validators_1 = require(\"./Validators\");\nclass Container extends Node_1.Node {\n    constructor() {\n        super(...arguments);\n        this.children = [];\n    }\n    getChildren(filterFunc) {\n        const children = this.children || [];\n        if (filterFunc) {\n            return children.filter(filterFunc);\n        }\n        return children;\n    }\n    hasChildren() {\n        return this.getChildren().length > 0;\n    }\n    removeChildren() {\n        this.getChildren().forEach((child) => {\n            child.parent = null;\n            child.index = 0;\n            child.remove();\n        });\n        this.children = [];\n        this._requestDraw();\n        return this;\n    }\n    destroyChildren() {\n        this.getChildren().forEach((child) => {\n            child.parent = null;\n            child.index = 0;\n            child.destroy();\n        });\n        this.children = [];\n        this._requestDraw();\n        return this;\n    }\n    add(...children) {\n        if (children.length === 0) {\n            return this;\n        }\n        if (children.length > 1) {\n            for (let i = 0; i < children.length; i++) {\n                this.add(children[i]);\n            }\n            return this;\n        }\n        const child = children[0];\n        if (child.getParent()) {\n            child.moveTo(this);\n            return this;\n        }\n        this._validateAdd(child);\n        child.index = this.getChildren().length;\n        child.parent = this;\n        child._clearCaches();\n        this.getChildren().push(child);\n        this._fire('add', {\n            child: child,\n        });\n        this._requestDraw();\n        return this;\n    }\n    destroy() {\n        if (this.hasChildren()) {\n            this.destroyChildren();\n        }\n        super.destroy();\n        return this;\n    }\n    find(selector) {\n        return this._generalFind(selector, false);\n    }\n    findOne(selector) {\n        const result = this._generalFind(selector, true);\n        return result.length > 0 ? result[0] : undefined;\n    }\n    _generalFind(selector, findOne) {\n        const retArr = [];\n        this._descendants((node) => {\n            const valid = node._isMatch(selector);\n            if (valid) {\n                retArr.push(node);\n            }\n            if (valid && findOne) {\n                return true;\n            }\n            return false;\n        });\n        return retArr;\n    }\n    _descendants(fn) {\n        let shouldStop = false;\n        const children = this.getChildren();\n        for (const child of children) {\n            shouldStop = fn(child);\n            if (shouldStop) {\n                return true;\n            }\n            if (!child.hasChildren()) {\n                continue;\n            }\n            shouldStop = child._descendants(fn);\n            if (shouldStop) {\n                return true;\n            }\n        }\n        return false;\n    }\n    toObject() {\n        const obj = Node_1.Node.prototype.toObject.call(this);\n        obj.children = [];\n        this.getChildren().forEach((child) => {\n            obj.children.push(child.toObject());\n        });\n        return obj;\n    }\n    isAncestorOf(node) {\n        let parent = node.getParent();\n        while (parent) {\n            if (parent._id === this._id) {\n                return true;\n            }\n            parent = parent.getParent();\n        }\n        return false;\n    }\n    clone(obj) {\n        const node = Node_1.Node.prototype.clone.call(this, obj);\n        this.getChildren().forEach(function (no) {\n            node.add(no.clone());\n        });\n        return node;\n    }\n    getAllIntersections(pos) {\n        const arr = [];\n        this.find('Shape').forEach((shape) => {\n            if (shape.isVisible() && shape.intersects(pos)) {\n                arr.push(shape);\n            }\n        });\n        return arr;\n    }\n    _clearSelfAndDescendantCache(attr) {\n        var _a;\n        super._clearSelfAndDescendantCache(attr);\n        if (this.isCached()) {\n            return;\n        }\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (node) {\n            node._clearSelfAndDescendantCache(attr);\n        });\n    }\n    _setChildrenIndices() {\n        var _a;\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child, n) {\n            child.index = n;\n        });\n        this._requestDraw();\n    }\n    drawScene(can, top, bufferCanvas) {\n        const layer = this.getLayer(), canvas = can || (layer && layer.getCanvas()), context = canvas && canvas.getContext(), cachedCanvas = this._getCanvasCache(), cachedSceneCanvas = cachedCanvas && cachedCanvas.scene;\n        const caching = canvas && canvas.isCache;\n        if (!this.isVisible() && !caching) {\n            return this;\n        }\n        if (cachedSceneCanvas) {\n            context.save();\n            const m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedSceneCanvas(context);\n            context.restore();\n        }\n        else {\n            this._drawChildren('drawScene', canvas, top, bufferCanvas);\n        }\n        return this;\n    }\n    drawHit(can, top) {\n        if (!this.shouldDrawHit(top)) {\n            return this;\n        }\n        const layer = this.getLayer(), canvas = can || (layer && layer.hitCanvas), context = canvas && canvas.getContext(), cachedCanvas = this._getCanvasCache(), cachedHitCanvas = cachedCanvas && cachedCanvas.hit;\n        if (cachedHitCanvas) {\n            context.save();\n            const m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedHitCanvas(context);\n            context.restore();\n        }\n        else {\n            this._drawChildren('drawHit', canvas, top);\n        }\n        return this;\n    }\n    _drawChildren(drawMethod, canvas, top, bufferCanvas) {\n        var _a;\n        const context = canvas && canvas.getContext(), clipWidth = this.clipWidth(), clipHeight = this.clipHeight(), clipFunc = this.clipFunc(), hasClip = (typeof clipWidth === 'number' && typeof clipHeight === 'number') ||\n            clipFunc;\n        const selfCache = top === this;\n        if (hasClip) {\n            context.save();\n            const transform = this.getAbsoluteTransform(top);\n            let m = transform.getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            context.beginPath();\n            let clipArgs;\n            if (clipFunc) {\n                clipArgs = clipFunc.call(this, context, this);\n            }\n            else {\n                const clipX = this.clipX();\n                const clipY = this.clipY();\n                context.rect(clipX || 0, clipY || 0, clipWidth, clipHeight);\n            }\n            context.clip.apply(context, clipArgs);\n            m = transform.copy().invert().getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n        }\n        const hasComposition = !selfCache &&\n            this.globalCompositeOperation() !== 'source-over' &&\n            drawMethod === 'drawScene';\n        if (hasComposition) {\n            context.save();\n            context._applyGlobalCompositeOperation(this);\n        }\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n            child[drawMethod](canvas, top, bufferCanvas);\n        });\n        if (hasComposition) {\n            context.restore();\n        }\n        if (hasClip) {\n            context.restore();\n        }\n    }\n    getClientRect(config = {}) {\n        var _a;\n        const skipTransform = config.skipTransform;\n        const relativeTo = config.relativeTo;\n        let minX, minY, maxX, maxY;\n        let selfRect = {\n            x: Infinity,\n            y: Infinity,\n            width: 0,\n            height: 0,\n        };\n        const that = this;\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n            if (!child.visible()) {\n                return;\n            }\n            const rect = child.getClientRect({\n                relativeTo: that,\n                skipShadow: config.skipShadow,\n                skipStroke: config.skipStroke,\n            });\n            if (rect.width === 0 && rect.height === 0) {\n                return;\n            }\n            if (minX === undefined) {\n                minX = rect.x;\n                minY = rect.y;\n                maxX = rect.x + rect.width;\n                maxY = rect.y + rect.height;\n            }\n            else {\n                minX = Math.min(minX, rect.x);\n                minY = Math.min(minY, rect.y);\n                maxX = Math.max(maxX, rect.x + rect.width);\n                maxY = Math.max(maxY, rect.y + rect.height);\n            }\n        });\n        const shapes = this.find('Shape');\n        let hasVisible = false;\n        for (let i = 0; i < shapes.length; i++) {\n            const shape = shapes[i];\n            if (shape._isVisible(this)) {\n                hasVisible = true;\n                break;\n            }\n        }\n        if (hasVisible && minX !== undefined) {\n            selfRect = {\n                x: minX,\n                y: minY,\n                width: maxX - minX,\n                height: maxY - minY,\n            };\n        }\n        else {\n            selfRect = {\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n            };\n        }\n        if (!skipTransform) {\n            return this._transformedRect(selfRect, relativeTo);\n        }\n        return selfRect;\n    }\n}\nexports.Container = Container;\nFactory_1.Factory.addComponentsGetterSetter(Container, 'clip', [\n    'x',\n    'y',\n    'width',\n    'height',\n]);\nFactory_1.Factory.addGetterSetter(Container, 'clipX', undefined, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Container, 'clipY', undefined, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Container, 'clipWidth', undefined, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Container, 'clipHeight', undefined, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Container, 'clipFunc');\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getCapturedShape = getCapturedShape;\nexports.createEvent = createEvent;\nexports.hasPointerCapture = hasPointerCapture;\nexports.setPointerCapture = setPointerCapture;\nexports.releaseCapture = releaseCapture;\nconst Global_1 = require(\"./Global\");\nconst Captures = new Map();\nconst SUPPORT_POINTER_EVENTS = Global_1.Konva._global['PointerEvent'] !== undefined;\nfunction getCapturedShape(pointerId) {\n    return Captures.get(pointerId);\n}\nfunction createEvent(evt) {\n    return {\n        evt,\n        pointerId: evt.pointerId,\n    };\n}\nfunction hasPointerCapture(pointerId, shape) {\n    return Captures.get(pointerId) === shape;\n}\nfunction setPointerCapture(pointerId, shape) {\n    releaseCapture(pointerId);\n    const stage = shape.getStage();\n    if (!stage)\n        return;\n    Captures.set(pointerId, shape);\n    if (SUPPORT_POINTER_EVENTS) {\n        shape._fire('gotpointercapture', createEvent(new PointerEvent('gotpointercapture')));\n    }\n}\nfunction releaseCapture(pointerId, target) {\n    const shape = Captures.get(pointerId);\n    if (!shape)\n        return;\n    const stage = shape.getStage();\n    if (stage && stage.content) {\n    }\n    Captures.delete(pointerId);\n    if (SUPPORT_POINTER_EVENTS) {\n        shape._fire('lostpointercapture', createEvent(new PointerEvent('lostpointercapture')));\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Stage = exports.stages = void 0;\nconst Util_1 = require(\"./Util\");\nconst Factory_1 = require(\"./Factory\");\nconst Container_1 = require(\"./Container\");\nconst Global_1 = require(\"./Global\");\nconst Canvas_1 = require(\"./Canvas\");\nconst DragAndDrop_1 = require(\"./DragAndDrop\");\nconst Global_2 = require(\"./Global\");\nconst PointerEvents = require(\"./PointerEvents\");\nconst STAGE = 'Stage', STRING = 'string', PX = 'px', MOUSEOUT = 'mouseout', MOUSELEAVE = 'mouseleave', MOUSEOVER = 'mouseover', MOUSEENTER = 'mouseenter', MOUSEMOVE = 'mousemove', MOUSEDOWN = 'mousedown', MOUSEUP = 'mouseup', POINTERMOVE = 'pointermove', POINTERDOWN = 'pointerdown', POINTERUP = 'pointerup', POINTERCANCEL = 'pointercancel', LOSTPOINTERCAPTURE = 'lostpointercapture', POINTEROUT = 'pointerout', POINTERLEAVE = 'pointerleave', POINTEROVER = 'pointerover', POINTERENTER = 'pointerenter', CONTEXTMENU = 'contextmenu', TOUCHSTART = 'touchstart', TOUCHEND = 'touchend', TOUCHMOVE = 'touchmove', TOUCHCANCEL = 'touchcancel', WHEEL = 'wheel', MAX_LAYERS_NUMBER = 5, EVENTS = [\n    [MOUSEENTER, '_pointerenter'],\n    [MOUSEDOWN, '_pointerdown'],\n    [MOUSEMOVE, '_pointermove'],\n    [MOUSEUP, '_pointerup'],\n    [MOUSELEAVE, '_pointerleave'],\n    [TOUCHSTART, '_pointerdown'],\n    [TOUCHMOVE, '_pointermove'],\n    [TOUCHEND, '_pointerup'],\n    [TOUCHCANCEL, '_pointercancel'],\n    [MOUSEOVER, '_pointerover'],\n    [WHEEL, '_wheel'],\n    [CONTEXTMENU, '_contextmenu'],\n    [POINTERDOWN, '_pointerdown'],\n    [POINTERMOVE, '_pointermove'],\n    [POINTERUP, '_pointerup'],\n    [POINTERCANCEL, '_pointercancel'],\n    [POINTERLEAVE, '_pointerleave'],\n    [LOSTPOINTERCAPTURE, '_lostpointercapture'],\n];\nconst EVENTS_MAP = {\n    mouse: {\n        [POINTEROUT]: MOUSEOUT,\n        [POINTERLEAVE]: MOUSELEAVE,\n        [POINTEROVER]: MOUSEOVER,\n        [POINTERENTER]: MOUSEENTER,\n        [POINTERMOVE]: MOUSEMOVE,\n        [POINTERDOWN]: MOUSEDOWN,\n        [POINTERUP]: MOUSEUP,\n        [POINTERCANCEL]: 'mousecancel',\n        pointerclick: 'click',\n        pointerdblclick: 'dblclick',\n    },\n    touch: {\n        [POINTEROUT]: 'touchout',\n        [POINTERLEAVE]: 'touchleave',\n        [POINTEROVER]: 'touchover',\n        [POINTERENTER]: 'touchenter',\n        [POINTERMOVE]: TOUCHMOVE,\n        [POINTERDOWN]: TOUCHSTART,\n        [POINTERUP]: TOUCHEND,\n        [POINTERCANCEL]: TOUCHCANCEL,\n        pointerclick: 'tap',\n        pointerdblclick: 'dbltap',\n    },\n    pointer: {\n        [POINTEROUT]: POINTEROUT,\n        [POINTERLEAVE]: POINTERLEAVE,\n        [POINTEROVER]: POINTEROVER,\n        [POINTERENTER]: POINTERENTER,\n        [POINTERMOVE]: POINTERMOVE,\n        [POINTERDOWN]: POINTERDOWN,\n        [POINTERUP]: POINTERUP,\n        [POINTERCANCEL]: POINTERCANCEL,\n        pointerclick: 'pointerclick',\n        pointerdblclick: 'pointerdblclick',\n    },\n};\nconst getEventType = (type) => {\n    if (type.indexOf('pointer') >= 0) {\n        return 'pointer';\n    }\n    if (type.indexOf('touch') >= 0) {\n        return 'touch';\n    }\n    return 'mouse';\n};\nconst getEventsMap = (eventType) => {\n    const type = getEventType(eventType);\n    if (type === 'pointer') {\n        return Global_1.Konva.pointerEventsEnabled && EVENTS_MAP.pointer;\n    }\n    if (type === 'touch') {\n        return EVENTS_MAP.touch;\n    }\n    if (type === 'mouse') {\n        return EVENTS_MAP.mouse;\n    }\n};\nfunction checkNoClip(attrs = {}) {\n    if (attrs.clipFunc || attrs.clipWidth || attrs.clipHeight) {\n        Util_1.Util.warn('Stage does not support clipping. Please use clip for Layers or Groups.');\n    }\n    return attrs;\n}\nconst NO_POINTERS_MESSAGE = `Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);`;\nexports.stages = [];\nclass Stage extends Container_1.Container {\n    constructor(config) {\n        super(checkNoClip(config));\n        this._pointerPositions = [];\n        this._changedPointerPositions = [];\n        this._buildDOM();\n        this._bindContentEvents();\n        exports.stages.push(this);\n        this.on('widthChange.konva heightChange.konva', this._resizeDOM);\n        this.on('visibleChange.konva', this._checkVisibility);\n        this.on('clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva', () => {\n            checkNoClip(this.attrs);\n        });\n        this._checkVisibility();\n    }\n    _validateAdd(child) {\n        const isLayer = child.getType() === 'Layer';\n        const isFastLayer = child.getType() === 'FastLayer';\n        const valid = isLayer || isFastLayer;\n        if (!valid) {\n            Util_1.Util.throw('You may only add layers to the stage.');\n        }\n    }\n    _checkVisibility() {\n        if (!this.content) {\n            return;\n        }\n        const style = this.visible() ? '' : 'none';\n        this.content.style.display = style;\n    }\n    setContainer(container) {\n        if (typeof container === STRING) {\n            let id;\n            if (container.charAt(0) === '.') {\n                const className = container.slice(1);\n                container = document.getElementsByClassName(className)[0];\n            }\n            else {\n                if (container.charAt(0) !== '#') {\n                    id = container;\n                }\n                else {\n                    id = container.slice(1);\n                }\n                container = document.getElementById(id);\n            }\n            if (!container) {\n                throw 'Can not find container in document with id ' + id;\n            }\n        }\n        this._setAttr('container', container);\n        if (this.content) {\n            if (this.content.parentElement) {\n                this.content.parentElement.removeChild(this.content);\n            }\n            container.appendChild(this.content);\n        }\n        return this;\n    }\n    shouldDrawHit() {\n        return true;\n    }\n    clear() {\n        const layers = this.children, len = layers.length;\n        for (let n = 0; n < len; n++) {\n            layers[n].clear();\n        }\n        return this;\n    }\n    clone(obj) {\n        if (!obj) {\n            obj = {};\n        }\n        obj.container =\n            typeof document !== 'undefined' && document.createElement('div');\n        return Container_1.Container.prototype.clone.call(this, obj);\n    }\n    destroy() {\n        super.destroy();\n        const content = this.content;\n        if (content && Util_1.Util._isInDocument(content)) {\n            this.container().removeChild(content);\n        }\n        const index = exports.stages.indexOf(this);\n        if (index > -1) {\n            exports.stages.splice(index, 1);\n        }\n        Util_1.Util.releaseCanvas(this.bufferCanvas._canvas, this.bufferHitCanvas._canvas);\n        return this;\n    }\n    getPointerPosition() {\n        const pos = this._pointerPositions[0] || this._changedPointerPositions[0];\n        if (!pos) {\n            Util_1.Util.warn(NO_POINTERS_MESSAGE);\n            return null;\n        }\n        return {\n            x: pos.x,\n            y: pos.y,\n        };\n    }\n    _getPointerById(id) {\n        return this._pointerPositions.find((p) => p.id === id);\n    }\n    getPointersPositions() {\n        return this._pointerPositions;\n    }\n    getStage() {\n        return this;\n    }\n    getContent() {\n        return this.content;\n    }\n    _toKonvaCanvas(config) {\n        config = config || {};\n        config.x = config.x || 0;\n        config.y = config.y || 0;\n        config.width = config.width || this.width();\n        config.height = config.height || this.height();\n        const canvas = new Canvas_1.SceneCanvas({\n            width: config.width,\n            height: config.height,\n            pixelRatio: config.pixelRatio || 1,\n        });\n        const _context = canvas.getContext()._context;\n        const layers = this.children;\n        if (config.x || config.y) {\n            _context.translate(-1 * config.x, -1 * config.y);\n        }\n        layers.forEach(function (layer) {\n            if (!layer.isVisible()) {\n                return;\n            }\n            const layerCanvas = layer._toKonvaCanvas(config);\n            _context.drawImage(layerCanvas._canvas, config.x, config.y, layerCanvas.getWidth() / layerCanvas.getPixelRatio(), layerCanvas.getHeight() / layerCanvas.getPixelRatio());\n        });\n        return canvas;\n    }\n    getIntersection(pos) {\n        if (!pos) {\n            return null;\n        }\n        const layers = this.children, len = layers.length, end = len - 1;\n        for (let n = end; n >= 0; n--) {\n            const shape = layers[n].getIntersection(pos);\n            if (shape) {\n                return shape;\n            }\n        }\n        return null;\n    }\n    _resizeDOM() {\n        const width = this.width();\n        const height = this.height();\n        if (this.content) {\n            this.content.style.width = width + PX;\n            this.content.style.height = height + PX;\n        }\n        this.bufferCanvas.setSize(width, height);\n        this.bufferHitCanvas.setSize(width, height);\n        this.children.forEach((layer) => {\n            layer.setSize({ width, height });\n            layer.draw();\n        });\n    }\n    add(layer, ...rest) {\n        if (arguments.length > 1) {\n            for (let i = 0; i < arguments.length; i++) {\n                this.add(arguments[i]);\n            }\n            return this;\n        }\n        super.add(layer);\n        const length = this.children.length;\n        if (length > MAX_LAYERS_NUMBER) {\n            Util_1.Util.warn('The stage has ' +\n                length +\n                ' layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group.');\n        }\n        layer.setSize({ width: this.width(), height: this.height() });\n        layer.draw();\n        if (Global_1.Konva.isBrowser) {\n            this.content.appendChild(layer.canvas._canvas);\n        }\n        return this;\n    }\n    getParent() {\n        return null;\n    }\n    getLayer() {\n        return null;\n    }\n    hasPointerCapture(pointerId) {\n        return PointerEvents.hasPointerCapture(pointerId, this);\n    }\n    setPointerCapture(pointerId) {\n        PointerEvents.setPointerCapture(pointerId, this);\n    }\n    releaseCapture(pointerId) {\n        PointerEvents.releaseCapture(pointerId, this);\n    }\n    getLayers() {\n        return this.children;\n    }\n    _bindContentEvents() {\n        if (!Global_1.Konva.isBrowser) {\n            return;\n        }\n        EVENTS.forEach(([event, methodName]) => {\n            this.content.addEventListener(event, (evt) => {\n                this[methodName](evt);\n            }, { passive: false });\n        });\n    }\n    _pointerenter(evt) {\n        this.setPointersPositions(evt);\n        const events = getEventsMap(evt.type);\n        if (events) {\n            this._fire(events.pointerenter, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n    }\n    _pointerover(evt) {\n        this.setPointersPositions(evt);\n        const events = getEventsMap(evt.type);\n        if (events) {\n            this._fire(events.pointerover, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n    }\n    _getTargetShape(evenType) {\n        let shape = this[evenType + 'targetShape'];\n        if (shape && !shape.getStage()) {\n            shape = null;\n        }\n        return shape;\n    }\n    _pointerleave(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        const targetShape = this._getTargetShape(eventType);\n        const eventsEnabled = !(Global_1.Konva.isDragging() || Global_1.Konva.isTransforming()) || Global_1.Konva.hitOnDragEnabled;\n        if (targetShape && eventsEnabled) {\n            targetShape._fireAndBubble(events.pointerout, { evt: evt });\n            targetShape._fireAndBubble(events.pointerleave, { evt: evt });\n            this._fire(events.pointerleave, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n            this[eventType + 'targetShape'] = null;\n        }\n        else if (eventsEnabled) {\n            this._fire(events.pointerleave, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n            this._fire(events.pointerout, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n        this.pointerPos = null;\n        this._pointerPositions = [];\n    }\n    _pointerdown(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        let triggeredOnShape = false;\n        this._changedPointerPositions.forEach((pos) => {\n            const shape = this.getIntersection(pos);\n            DragAndDrop_1.DD.justDragged = false;\n            Global_1.Konva['_' + eventType + 'ListenClick'] = true;\n            if (!shape || !shape.isListening()) {\n                this[eventType + 'ClickStartShape'] = undefined;\n                return;\n            }\n            if (Global_1.Konva.capturePointerEventsEnabled) {\n                shape.setPointerCapture(pos.id);\n            }\n            this[eventType + 'ClickStartShape'] = shape;\n            shape._fireAndBubble(events.pointerdown, {\n                evt: evt,\n                pointerId: pos.id,\n            });\n            triggeredOnShape = true;\n            const isTouch = evt.type.indexOf('touch') >= 0;\n            if (shape.preventDefault() && evt.cancelable && isTouch) {\n                evt.preventDefault();\n            }\n        });\n        if (!triggeredOnShape) {\n            this._fire(events.pointerdown, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._pointerPositions[0].id,\n            });\n        }\n    }\n    _pointermove(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        if (Global_1.Konva.isDragging() && DragAndDrop_1.DD.node.preventDefault() && evt.cancelable) {\n            evt.preventDefault();\n        }\n        this.setPointersPositions(evt);\n        const eventsEnabled = !(Global_1.Konva.isDragging() || Global_1.Konva.isTransforming()) || Global_1.Konva.hitOnDragEnabled;\n        if (!eventsEnabled) {\n            return;\n        }\n        const processedShapesIds = {};\n        let triggeredOnShape = false;\n        const targetShape = this._getTargetShape(eventType);\n        this._changedPointerPositions.forEach((pos) => {\n            const shape = (PointerEvents.getCapturedShape(pos.id) ||\n                this.getIntersection(pos));\n            const pointerId = pos.id;\n            const event = { evt: evt, pointerId };\n            const differentTarget = targetShape !== shape;\n            if (differentTarget && targetShape) {\n                targetShape._fireAndBubble(events.pointerout, { ...event }, shape);\n                targetShape._fireAndBubble(events.pointerleave, { ...event }, shape);\n            }\n            if (shape) {\n                if (processedShapesIds[shape._id]) {\n                    return;\n                }\n                processedShapesIds[shape._id] = true;\n            }\n            if (shape && shape.isListening()) {\n                triggeredOnShape = true;\n                if (differentTarget) {\n                    shape._fireAndBubble(events.pointerover, { ...event }, targetShape);\n                    shape._fireAndBubble(events.pointerenter, { ...event }, targetShape);\n                    this[eventType + 'targetShape'] = shape;\n                }\n                shape._fireAndBubble(events.pointermove, { ...event });\n            }\n            else {\n                if (targetShape) {\n                    this._fire(events.pointerover, {\n                        evt: evt,\n                        target: this,\n                        currentTarget: this,\n                        pointerId,\n                    });\n                    this[eventType + 'targetShape'] = null;\n                }\n            }\n        });\n        if (!triggeredOnShape) {\n            this._fire(events.pointermove, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._changedPointerPositions[0].id,\n            });\n        }\n    }\n    _pointerup(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        const clickStartShape = this[eventType + 'ClickStartShape'];\n        const clickEndShape = this[eventType + 'ClickEndShape'];\n        const processedShapesIds = {};\n        let triggeredOnShape = false;\n        this._changedPointerPositions.forEach((pos) => {\n            const shape = (PointerEvents.getCapturedShape(pos.id) ||\n                this.getIntersection(pos));\n            if (shape) {\n                shape.releaseCapture(pos.id);\n                if (processedShapesIds[shape._id]) {\n                    return;\n                }\n                processedShapesIds[shape._id] = true;\n            }\n            const pointerId = pos.id;\n            const event = { evt: evt, pointerId };\n            let fireDblClick = false;\n            if (Global_1.Konva['_' + eventType + 'InDblClickWindow']) {\n                fireDblClick = true;\n                clearTimeout(this[eventType + 'DblTimeout']);\n            }\n            else if (!DragAndDrop_1.DD.justDragged) {\n                Global_1.Konva['_' + eventType + 'InDblClickWindow'] = true;\n                clearTimeout(this[eventType + 'DblTimeout']);\n            }\n            this[eventType + 'DblTimeout'] = setTimeout(function () {\n                Global_1.Konva['_' + eventType + 'InDblClickWindow'] = false;\n            }, Global_1.Konva.dblClickWindow);\n            if (shape && shape.isListening()) {\n                triggeredOnShape = true;\n                this[eventType + 'ClickEndShape'] = shape;\n                shape._fireAndBubble(events.pointerup, { ...event });\n                if (Global_1.Konva['_' + eventType + 'ListenClick'] &&\n                    clickStartShape &&\n                    clickStartShape === shape) {\n                    shape._fireAndBubble(events.pointerclick, { ...event });\n                    if (fireDblClick && clickEndShape && clickEndShape === shape) {\n                        shape._fireAndBubble(events.pointerdblclick, { ...event });\n                    }\n                }\n            }\n            else {\n                this[eventType + 'ClickEndShape'] = null;\n                if (Global_1.Konva['_' + eventType + 'ListenClick']) {\n                    this._fire(events.pointerclick, {\n                        evt: evt,\n                        target: this,\n                        currentTarget: this,\n                        pointerId,\n                    });\n                }\n                if (fireDblClick) {\n                    this._fire(events.pointerdblclick, {\n                        evt: evt,\n                        target: this,\n                        currentTarget: this,\n                        pointerId,\n                    });\n                }\n            }\n        });\n        if (!triggeredOnShape) {\n            this._fire(events.pointerup, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._changedPointerPositions[0].id,\n            });\n        }\n        Global_1.Konva['_' + eventType + 'ListenClick'] = false;\n        if (evt.cancelable && eventType !== 'touch' && eventType !== 'pointer') {\n            evt.preventDefault();\n        }\n    }\n    _contextmenu(evt) {\n        this.setPointersPositions(evt);\n        const shape = this.getIntersection(this.getPointerPosition());\n        if (shape && shape.isListening()) {\n            shape._fireAndBubble(CONTEXTMENU, { evt: evt });\n        }\n        else {\n            this._fire(CONTEXTMENU, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n    }\n    _wheel(evt) {\n        this.setPointersPositions(evt);\n        const shape = this.getIntersection(this.getPointerPosition());\n        if (shape && shape.isListening()) {\n            shape._fireAndBubble(WHEEL, { evt: evt });\n        }\n        else {\n            this._fire(WHEEL, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n    }\n    _pointercancel(evt) {\n        this.setPointersPositions(evt);\n        const shape = PointerEvents.getCapturedShape(evt.pointerId) ||\n            this.getIntersection(this.getPointerPosition());\n        if (shape) {\n            shape._fireAndBubble(POINTERUP, PointerEvents.createEvent(evt));\n        }\n        PointerEvents.releaseCapture(evt.pointerId);\n    }\n    _lostpointercapture(evt) {\n        PointerEvents.releaseCapture(evt.pointerId);\n    }\n    setPointersPositions(evt) {\n        const contentPosition = this._getContentPosition();\n        let x = null, y = null;\n        evt = evt ? evt : window.event;\n        if (evt.touches !== undefined) {\n            this._pointerPositions = [];\n            this._changedPointerPositions = [];\n            Array.prototype.forEach.call(evt.touches, (touch) => {\n                this._pointerPositions.push({\n                    id: touch.identifier,\n                    x: (touch.clientX - contentPosition.left) / contentPosition.scaleX,\n                    y: (touch.clientY - contentPosition.top) / contentPosition.scaleY,\n                });\n            });\n            Array.prototype.forEach.call(evt.changedTouches || evt.touches, (touch) => {\n                this._changedPointerPositions.push({\n                    id: touch.identifier,\n                    x: (touch.clientX - contentPosition.left) / contentPosition.scaleX,\n                    y: (touch.clientY - contentPosition.top) / contentPosition.scaleY,\n                });\n            });\n        }\n        else {\n            x = (evt.clientX - contentPosition.left) / contentPosition.scaleX;\n            y = (evt.clientY - contentPosition.top) / contentPosition.scaleY;\n            this.pointerPos = {\n                x: x,\n                y: y,\n            };\n            this._pointerPositions = [{ x, y, id: Util_1.Util._getFirstPointerId(evt) }];\n            this._changedPointerPositions = [\n                { x, y, id: Util_1.Util._getFirstPointerId(evt) },\n            ];\n        }\n    }\n    _setPointerPosition(evt) {\n        Util_1.Util.warn('Method _setPointerPosition is deprecated. Use \"stage.setPointersPositions(event)\" instead.');\n        this.setPointersPositions(evt);\n    }\n    _getContentPosition() {\n        if (!this.content || !this.content.getBoundingClientRect) {\n            return {\n                top: 0,\n                left: 0,\n                scaleX: 1,\n                scaleY: 1,\n            };\n        }\n        const rect = this.content.getBoundingClientRect();\n        return {\n            top: rect.top,\n            left: rect.left,\n            scaleX: rect.width / this.content.clientWidth || 1,\n            scaleY: rect.height / this.content.clientHeight || 1,\n        };\n    }\n    _buildDOM() {\n        this.bufferCanvas = new Canvas_1.SceneCanvas({\n            width: this.width(),\n            height: this.height(),\n        });\n        this.bufferHitCanvas = new Canvas_1.HitCanvas({\n            pixelRatio: 1,\n            width: this.width(),\n            height: this.height(),\n        });\n        if (!Global_1.Konva.isBrowser) {\n            return;\n        }\n        const container = this.container();\n        if (!container) {\n            throw 'Stage has no container. A container is required.';\n        }\n        container.innerHTML = '';\n        this.content = document.createElement('div');\n        this.content.style.position = 'relative';\n        this.content.style.userSelect = 'none';\n        this.content.className = 'konvajs-content';\n        this.content.setAttribute('role', 'presentation');\n        container.appendChild(this.content);\n        this._resizeDOM();\n    }\n    cache() {\n        Util_1.Util.warn('Cache function is not allowed for stage. You may use cache only for layers, groups and shapes.');\n        return this;\n    }\n    clearCache() {\n        return this;\n    }\n    batchDraw() {\n        this.getChildren().forEach(function (layer) {\n            layer.batchDraw();\n        });\n        return this;\n    }\n}\nexports.Stage = Stage;\nStage.prototype.nodeType = STAGE;\n(0, Global_2._registerNode)(Stage);\nFactory_1.Factory.addGetterSetter(Stage, 'container');\nif (Global_1.Konva.isBrowser) {\n    document.addEventListener('visibilitychange', () => {\n        exports.stages.forEach((stage) => {\n            stage.batchDraw();\n        });\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Shape = exports.shapes = void 0;\nconst Global_1 = require(\"./Global\");\nconst Util_1 = require(\"./Util\");\nconst Factory_1 = require(\"./Factory\");\nconst Node_1 = require(\"./Node\");\nconst Validators_1 = require(\"./Validators\");\nconst Global_2 = require(\"./Global\");\nconst PointerEvents = require(\"./PointerEvents\");\nconst HAS_SHADOW = 'hasShadow';\nconst SHADOW_RGBA = 'shadowRGBA';\nconst patternImage = 'patternImage';\nconst linearGradient = 'linearGradient';\nconst radialGradient = 'radialGradient';\nlet dummyContext;\nfunction getDummyContext() {\n    if (dummyContext) {\n        return dummyContext;\n    }\n    dummyContext = Util_1.Util.createCanvasElement().getContext('2d');\n    return dummyContext;\n}\nexports.shapes = {};\nfunction _fillFunc(context) {\n    const fillRule = this.attrs.fillRule;\n    if (fillRule) {\n        context.fill(fillRule);\n    }\n    else {\n        context.fill();\n    }\n}\nfunction _strokeFunc(context) {\n    context.stroke();\n}\nfunction _fillFuncHit(context) {\n    const fillRule = this.attrs.fillRule;\n    if (fillRule) {\n        context.fill(fillRule);\n    }\n    else {\n        context.fill();\n    }\n}\nfunction _strokeFuncHit(context) {\n    context.stroke();\n}\nfunction _clearHasShadowCache() {\n    this._clearCache(HAS_SHADOW);\n}\nfunction _clearGetShadowRGBACache() {\n    this._clearCache(SHADOW_RGBA);\n}\nfunction _clearFillPatternCache() {\n    this._clearCache(patternImage);\n}\nfunction _clearLinearGradientCache() {\n    this._clearCache(linearGradient);\n}\nfunction _clearRadialGradientCache() {\n    this._clearCache(radialGradient);\n}\nclass Shape extends Node_1.Node {\n    constructor(config) {\n        super(config);\n        let key;\n        while (true) {\n            key = Util_1.Util.getRandomColor();\n            if (key && !(key in exports.shapes)) {\n                break;\n            }\n        }\n        this.colorKey = key;\n        exports.shapes[key] = this;\n    }\n    getContext() {\n        Util_1.Util.warn('shape.getContext() method is deprecated. Please do not use it.');\n        return this.getLayer().getContext();\n    }\n    getCanvas() {\n        Util_1.Util.warn('shape.getCanvas() method is deprecated. Please do not use it.');\n        return this.getLayer().getCanvas();\n    }\n    getSceneFunc() {\n        return this.attrs.sceneFunc || this['_sceneFunc'];\n    }\n    getHitFunc() {\n        return this.attrs.hitFunc || this['_hitFunc'];\n    }\n    hasShadow() {\n        return this._getCache(HAS_SHADOW, this._hasShadow);\n    }\n    _hasShadow() {\n        return (this.shadowEnabled() &&\n            this.shadowOpacity() !== 0 &&\n            !!(this.shadowColor() ||\n                this.shadowBlur() ||\n                this.shadowOffsetX() ||\n                this.shadowOffsetY()));\n    }\n    _getFillPattern() {\n        return this._getCache(patternImage, this.__getFillPattern);\n    }\n    __getFillPattern() {\n        if (this.fillPatternImage()) {\n            const ctx = getDummyContext();\n            const pattern = ctx.createPattern(this.fillPatternImage(), this.fillPatternRepeat() || 'repeat');\n            if (pattern && pattern.setTransform) {\n                const tr = new Util_1.Transform();\n                tr.translate(this.fillPatternX(), this.fillPatternY());\n                tr.rotate(Global_1.Konva.getAngle(this.fillPatternRotation()));\n                tr.scale(this.fillPatternScaleX(), this.fillPatternScaleY());\n                tr.translate(-1 * this.fillPatternOffsetX(), -1 * this.fillPatternOffsetY());\n                const m = tr.getMatrix();\n                const matrix = typeof DOMMatrix === 'undefined'\n                    ? {\n                        a: m[0],\n                        b: m[1],\n                        c: m[2],\n                        d: m[3],\n                        e: m[4],\n                        f: m[5],\n                    }\n                    : new DOMMatrix(m);\n                pattern.setTransform(matrix);\n            }\n            return pattern;\n        }\n    }\n    _getLinearGradient() {\n        return this._getCache(linearGradient, this.__getLinearGradient);\n    }\n    __getLinearGradient() {\n        const colorStops = this.fillLinearGradientColorStops();\n        if (colorStops) {\n            const ctx = getDummyContext();\n            const start = this.fillLinearGradientStartPoint();\n            const end = this.fillLinearGradientEndPoint();\n            const grd = ctx.createLinearGradient(start.x, start.y, end.x, end.y);\n            for (let n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            return grd;\n        }\n    }\n    _getRadialGradient() {\n        return this._getCache(radialGradient, this.__getRadialGradient);\n    }\n    __getRadialGradient() {\n        const colorStops = this.fillRadialGradientColorStops();\n        if (colorStops) {\n            const ctx = getDummyContext();\n            const start = this.fillRadialGradientStartPoint();\n            const end = this.fillRadialGradientEndPoint();\n            const grd = ctx.createRadialGradient(start.x, start.y, this.fillRadialGradientStartRadius(), end.x, end.y, this.fillRadialGradientEndRadius());\n            for (let n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            return grd;\n        }\n    }\n    getShadowRGBA() {\n        return this._getCache(SHADOW_RGBA, this._getShadowRGBA);\n    }\n    _getShadowRGBA() {\n        if (!this.hasShadow()) {\n            return;\n        }\n        const rgba = Util_1.Util.colorToRGBA(this.shadowColor());\n        if (rgba) {\n            return ('rgba(' +\n                rgba.r +\n                ',' +\n                rgba.g +\n                ',' +\n                rgba.b +\n                ',' +\n                rgba.a * (this.shadowOpacity() || 1) +\n                ')');\n        }\n    }\n    hasFill() {\n        return this._calculate('hasFill', [\n            'fillEnabled',\n            'fill',\n            'fillPatternImage',\n            'fillLinearGradientColorStops',\n            'fillRadialGradientColorStops',\n        ], () => {\n            return (this.fillEnabled() &&\n                !!(this.fill() ||\n                    this.fillPatternImage() ||\n                    this.fillLinearGradientColorStops() ||\n                    this.fillRadialGradientColorStops()));\n        });\n    }\n    hasStroke() {\n        return this._calculate('hasStroke', [\n            'strokeEnabled',\n            'strokeWidth',\n            'stroke',\n            'strokeLinearGradientColorStops',\n        ], () => {\n            return (this.strokeEnabled() &&\n                this.strokeWidth() &&\n                !!(this.stroke() || this.strokeLinearGradientColorStops()));\n        });\n    }\n    hasHitStroke() {\n        const width = this.hitStrokeWidth();\n        if (width === 'auto') {\n            return this.hasStroke();\n        }\n        return this.strokeEnabled() && !!width;\n    }\n    intersects(point) {\n        const stage = this.getStage();\n        if (!stage) {\n            return false;\n        }\n        const bufferHitCanvas = stage.bufferHitCanvas;\n        bufferHitCanvas.getContext().clear();\n        this.drawHit(bufferHitCanvas, undefined, true);\n        const p = bufferHitCanvas.context.getImageData(Math.round(point.x), Math.round(point.y), 1, 1).data;\n        return p[3] > 0;\n    }\n    destroy() {\n        Node_1.Node.prototype.destroy.call(this);\n        delete exports.shapes[this.colorKey];\n        delete this.colorKey;\n        return this;\n    }\n    _useBufferCanvas(forceFill) {\n        var _a;\n        const perfectDrawEnabled = (_a = this.attrs.perfectDrawEnabled) !== null && _a !== void 0 ? _a : true;\n        if (!perfectDrawEnabled) {\n            return false;\n        }\n        const hasFill = forceFill || this.hasFill();\n        const hasStroke = this.hasStroke();\n        const isTransparent = this.getAbsoluteOpacity() !== 1;\n        if (hasFill && hasStroke && isTransparent) {\n            return true;\n        }\n        const hasShadow = this.hasShadow();\n        const strokeForShadow = this.shadowForStrokeEnabled();\n        if (hasFill && hasStroke && hasShadow && strokeForShadow) {\n            return true;\n        }\n        return false;\n    }\n    setStrokeHitEnabled(val) {\n        Util_1.Util.warn('strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead.');\n        if (val) {\n            this.hitStrokeWidth('auto');\n        }\n        else {\n            this.hitStrokeWidth(0);\n        }\n    }\n    getStrokeHitEnabled() {\n        if (this.hitStrokeWidth() === 0) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    getSelfRect() {\n        const size = this.size();\n        return {\n            x: this._centroid ? -size.width / 2 : 0,\n            y: this._centroid ? -size.height / 2 : 0,\n            width: size.width,\n            height: size.height,\n        };\n    }\n    getClientRect(config = {}) {\n        let hasCachedParent = false;\n        let parent = this.getParent();\n        while (parent) {\n            if (parent.isCached()) {\n                hasCachedParent = true;\n                break;\n            }\n            parent = parent.getParent();\n        }\n        const skipTransform = config.skipTransform;\n        const relativeTo = config.relativeTo || (hasCachedParent && this.getStage()) || undefined;\n        const fillRect = this.getSelfRect();\n        const applyStroke = !config.skipStroke && this.hasStroke();\n        const strokeWidth = (applyStroke && this.strokeWidth()) || 0;\n        const fillAndStrokeWidth = fillRect.width + strokeWidth;\n        const fillAndStrokeHeight = fillRect.height + strokeWidth;\n        const applyShadow = !config.skipShadow && this.hasShadow();\n        const shadowOffsetX = applyShadow ? this.shadowOffsetX() : 0;\n        const shadowOffsetY = applyShadow ? this.shadowOffsetY() : 0;\n        const preWidth = fillAndStrokeWidth + Math.abs(shadowOffsetX);\n        const preHeight = fillAndStrokeHeight + Math.abs(shadowOffsetY);\n        const blurRadius = (applyShadow && this.shadowBlur()) || 0;\n        const width = preWidth + blurRadius * 2;\n        const height = preHeight + blurRadius * 2;\n        const rect = {\n            width: width,\n            height: height,\n            x: -(strokeWidth / 2 + blurRadius) +\n                Math.min(shadowOffsetX, 0) +\n                fillRect.x,\n            y: -(strokeWidth / 2 + blurRadius) +\n                Math.min(shadowOffsetY, 0) +\n                fillRect.y,\n        };\n        if (!skipTransform) {\n            return this._transformedRect(rect, relativeTo);\n        }\n        return rect;\n    }\n    drawScene(can, top, bufferCanvas) {\n        const layer = this.getLayer();\n        const canvas = can || layer.getCanvas(), context = canvas.getContext(), cachedCanvas = this._getCanvasCache(), drawFunc = this.getSceneFunc(), hasShadow = this.hasShadow();\n        let stage;\n        const skipBuffer = false;\n        const cachingSelf = top === this;\n        if (!this.isVisible() && !cachingSelf) {\n            return this;\n        }\n        if (cachedCanvas) {\n            context.save();\n            const m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedSceneCanvas(context);\n            context.restore();\n            return this;\n        }\n        if (!drawFunc) {\n            return this;\n        }\n        context.save();\n        if (this._useBufferCanvas() && !skipBuffer) {\n            stage = this.getStage();\n            const bc = bufferCanvas || stage.bufferCanvas;\n            const bufferContext = bc.getContext();\n            bufferContext.clear();\n            bufferContext.save();\n            bufferContext._applyLineJoin(this);\n            const o = this.getAbsoluteTransform(top).getMatrix();\n            bufferContext.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n            drawFunc.call(this, bufferContext, this);\n            bufferContext.restore();\n            const ratio = bc.pixelRatio;\n            if (hasShadow) {\n                context._applyShadow(this);\n            }\n            context._applyOpacity(this);\n            context._applyGlobalCompositeOperation(this);\n            context.drawImage(bc._canvas, bc.x || 0, bc.y || 0, bc.width / ratio, bc.height / ratio);\n        }\n        else {\n            context._applyLineJoin(this);\n            if (!cachingSelf) {\n                const o = this.getAbsoluteTransform(top).getMatrix();\n                context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n                context._applyOpacity(this);\n                context._applyGlobalCompositeOperation(this);\n            }\n            if (hasShadow) {\n                context._applyShadow(this);\n            }\n            drawFunc.call(this, context, this);\n        }\n        context.restore();\n        return this;\n    }\n    drawHit(can, top, skipDragCheck = false) {\n        if (!this.shouldDrawHit(top, skipDragCheck)) {\n            return this;\n        }\n        const layer = this.getLayer(), canvas = can || layer.hitCanvas, context = canvas && canvas.getContext(), drawFunc = this.hitFunc() || this.sceneFunc(), cachedCanvas = this._getCanvasCache(), cachedHitCanvas = cachedCanvas && cachedCanvas.hit;\n        if (!this.colorKey) {\n            Util_1.Util.warn('Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()');\n        }\n        if (cachedHitCanvas) {\n            context.save();\n            const m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedHitCanvas(context);\n            context.restore();\n            return this;\n        }\n        if (!drawFunc) {\n            return this;\n        }\n        context.save();\n        context._applyLineJoin(this);\n        const selfCache = this === top;\n        if (!selfCache) {\n            const o = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n        }\n        drawFunc.call(this, context, this);\n        context.restore();\n        return this;\n    }\n    drawHitFromCache(alphaThreshold = 0) {\n        const cachedCanvas = this._getCanvasCache(), sceneCanvas = this._getCachedSceneCanvas(), hitCanvas = cachedCanvas.hit, hitContext = hitCanvas.getContext(), hitWidth = hitCanvas.getWidth(), hitHeight = hitCanvas.getHeight();\n        hitContext.clear();\n        hitContext.drawImage(sceneCanvas._canvas, 0, 0, hitWidth, hitHeight);\n        try {\n            const hitImageData = hitContext.getImageData(0, 0, hitWidth, hitHeight);\n            const hitData = hitImageData.data;\n            const len = hitData.length;\n            const rgbColorKey = Util_1.Util._hexToRgb(this.colorKey);\n            for (let i = 0; i < len; i += 4) {\n                const alpha = hitData[i + 3];\n                if (alpha > alphaThreshold) {\n                    hitData[i] = rgbColorKey.r;\n                    hitData[i + 1] = rgbColorKey.g;\n                    hitData[i + 2] = rgbColorKey.b;\n                    hitData[i + 3] = 255;\n                }\n                else {\n                    hitData[i + 3] = 0;\n                }\n            }\n            hitContext.putImageData(hitImageData, 0, 0);\n        }\n        catch (e) {\n            Util_1.Util.error('Unable to draw hit graph from cached scene canvas. ' + e.message);\n        }\n        return this;\n    }\n    hasPointerCapture(pointerId) {\n        return PointerEvents.hasPointerCapture(pointerId, this);\n    }\n    setPointerCapture(pointerId) {\n        PointerEvents.setPointerCapture(pointerId, this);\n    }\n    releaseCapture(pointerId) {\n        PointerEvents.releaseCapture(pointerId, this);\n    }\n}\nexports.Shape = Shape;\nShape.prototype._fillFunc = _fillFunc;\nShape.prototype._strokeFunc = _strokeFunc;\nShape.prototype._fillFuncHit = _fillFuncHit;\nShape.prototype._strokeFuncHit = _strokeFuncHit;\nShape.prototype._centroid = false;\nShape.prototype.nodeType = 'Shape';\n(0, Global_2._registerNode)(Shape);\nShape.prototype.eventListeners = {};\nShape.prototype.on.call(Shape.prototype, 'shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva', _clearHasShadowCache);\nShape.prototype.on.call(Shape.prototype, 'shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva', _clearGetShadowRGBACache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva', _clearFillPatternCache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva', _clearLinearGradientCache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva', _clearRadialGradientCache);\nFactory_1.Factory.addGetterSetter(Shape, 'stroke', undefined, (0, Validators_1.getStringOrGradientValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'strokeWidth', 2, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'fillAfterStrokeEnabled', false);\nFactory_1.Factory.addGetterSetter(Shape, 'hitStrokeWidth', 'auto', (0, Validators_1.getNumberOrAutoValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'strokeHitEnabled', true, (0, Validators_1.getBooleanValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'perfectDrawEnabled', true, (0, Validators_1.getBooleanValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowForStrokeEnabled', true, (0, Validators_1.getBooleanValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'lineJoin');\nFactory_1.Factory.addGetterSetter(Shape, 'lineCap');\nFactory_1.Factory.addGetterSetter(Shape, 'sceneFunc');\nFactory_1.Factory.addGetterSetter(Shape, 'hitFunc');\nFactory_1.Factory.addGetterSetter(Shape, 'dash');\nFactory_1.Factory.addGetterSetter(Shape, 'dashOffset', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowColor', undefined, (0, Validators_1.getStringValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowBlur', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowOpacity', 1, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'shadowOffset', ['x', 'y']);\nFactory_1.Factory.addGetterSetter(Shape, 'shadowOffsetX', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowOffsetY', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternImage');\nFactory_1.Factory.addGetterSetter(Shape, 'fill', undefined, (0, Validators_1.getStringOrGradientValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternX', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternY', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientColorStops');\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientColorStops');\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientStartRadius', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientEndRadius', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientColorStops');\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternRepeat', 'repeat');\nFactory_1.Factory.addGetterSetter(Shape, 'fillEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'shadowEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'dashEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeScaleEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'fillPriority', 'color');\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillPatternOffset', ['x', 'y']);\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternOffsetX', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternOffsetY', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillPatternScale', ['x', 'y']);\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternScaleX', 1, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternScaleY', 1, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillLinearGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'strokeLinearGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientStartPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientStartPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientStartPointY', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientStartPointY', 0);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillLinearGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'strokeLinearGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientEndPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientEndPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientEndPointY', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientEndPointY', 0);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillRadialGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientStartPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientStartPointY', 0);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillRadialGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientEndPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientEndPointY', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternRotation', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRule', undefined, (0, Validators_1.getStringValidator)());\nFactory_1.Factory.backCompat(Shape, {\n    dashArray: 'dash',\n    getDashArray: 'getDash',\n    setDashArray: 'getDash',\n    drawFunc: 'sceneFunc',\n    getDrawFunc: 'getSceneFunc',\n    setDrawFunc: 'setSceneFunc',\n    drawHitFunc: 'hitFunc',\n    getDrawHitFunc: 'getHitFunc',\n    setDrawHitFunc: 'setHitFunc',\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Layer = void 0;\nconst Util_1 = require(\"./Util\");\nconst Container_1 = require(\"./Container\");\nconst Node_1 = require(\"./Node\");\nconst Factory_1 = require(\"./Factory\");\nconst Canvas_1 = require(\"./Canvas\");\nconst Validators_1 = require(\"./Validators\");\nconst Shape_1 = require(\"./Shape\");\nconst Global_1 = require(\"./Global\");\nconst HASH = '#', BEFORE_DRAW = 'beforeDraw', DRAW = 'draw', INTERSECTION_OFFSETS = [\n    { x: 0, y: 0 },\n    { x: -1, y: -1 },\n    { x: 1, y: -1 },\n    { x: 1, y: 1 },\n    { x: -1, y: 1 },\n], INTERSECTION_OFFSETS_LEN = INTERSECTION_OFFSETS.length;\nclass Layer extends Container_1.Container {\n    constructor(config) {\n        super(config);\n        this.canvas = new Canvas_1.SceneCanvas();\n        this.hitCanvas = new Canvas_1.HitCanvas({\n            pixelRatio: 1,\n        });\n        this._waitingForDraw = false;\n        this.on('visibleChange.konva', this._checkVisibility);\n        this._checkVisibility();\n        this.on('imageSmoothingEnabledChange.konva', this._setSmoothEnabled);\n        this._setSmoothEnabled();\n    }\n    createPNGStream() {\n        const c = this.canvas._canvas;\n        return c.createPNGStream();\n    }\n    getCanvas() {\n        return this.canvas;\n    }\n    getNativeCanvasElement() {\n        return this.canvas._canvas;\n    }\n    getHitCanvas() {\n        return this.hitCanvas;\n    }\n    getContext() {\n        return this.getCanvas().getContext();\n    }\n    clear(bounds) {\n        this.getContext().clear(bounds);\n        this.getHitCanvas().getContext().clear(bounds);\n        return this;\n    }\n    setZIndex(index) {\n        super.setZIndex(index);\n        const stage = this.getStage();\n        if (stage && stage.content) {\n            stage.content.removeChild(this.getNativeCanvasElement());\n            if (index < stage.children.length - 1) {\n                stage.content.insertBefore(this.getNativeCanvasElement(), stage.children[index + 1].getCanvas()._canvas);\n            }\n            else {\n                stage.content.appendChild(this.getNativeCanvasElement());\n            }\n        }\n        return this;\n    }\n    moveToTop() {\n        Node_1.Node.prototype.moveToTop.call(this);\n        const stage = this.getStage();\n        if (stage && stage.content) {\n            stage.content.removeChild(this.getNativeCanvasElement());\n            stage.content.appendChild(this.getNativeCanvasElement());\n        }\n        return true;\n    }\n    moveUp() {\n        const moved = Node_1.Node.prototype.moveUp.call(this);\n        if (!moved) {\n            return false;\n        }\n        const stage = this.getStage();\n        if (!stage || !stage.content) {\n            return false;\n        }\n        stage.content.removeChild(this.getNativeCanvasElement());\n        if (this.index < stage.children.length - 1) {\n            stage.content.insertBefore(this.getNativeCanvasElement(), stage.children[this.index + 1].getCanvas()._canvas);\n        }\n        else {\n            stage.content.appendChild(this.getNativeCanvasElement());\n        }\n        return true;\n    }\n    moveDown() {\n        if (Node_1.Node.prototype.moveDown.call(this)) {\n            const stage = this.getStage();\n            if (stage) {\n                const children = stage.children;\n                if (stage.content) {\n                    stage.content.removeChild(this.getNativeCanvasElement());\n                    stage.content.insertBefore(this.getNativeCanvasElement(), children[this.index + 1].getCanvas()._canvas);\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    moveToBottom() {\n        if (Node_1.Node.prototype.moveToBottom.call(this)) {\n            const stage = this.getStage();\n            if (stage) {\n                const children = stage.children;\n                if (stage.content) {\n                    stage.content.removeChild(this.getNativeCanvasElement());\n                    stage.content.insertBefore(this.getNativeCanvasElement(), children[1].getCanvas()._canvas);\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    getLayer() {\n        return this;\n    }\n    remove() {\n        const _canvas = this.getNativeCanvasElement();\n        Node_1.Node.prototype.remove.call(this);\n        if (_canvas && _canvas.parentNode && Util_1.Util._isInDocument(_canvas)) {\n            _canvas.parentNode.removeChild(_canvas);\n        }\n        return this;\n    }\n    getStage() {\n        return this.parent;\n    }\n    setSize({ width, height }) {\n        this.canvas.setSize(width, height);\n        this.hitCanvas.setSize(width, height);\n        this._setSmoothEnabled();\n        return this;\n    }\n    _validateAdd(child) {\n        const type = child.getType();\n        if (type !== 'Group' && type !== 'Shape') {\n            Util_1.Util.throw('You may only add groups and shapes to a layer.');\n        }\n    }\n    _toKonvaCanvas(config) {\n        config = config || {};\n        config.width = config.width || this.getWidth();\n        config.height = config.height || this.getHeight();\n        config.x = config.x !== undefined ? config.x : this.x();\n        config.y = config.y !== undefined ? config.y : this.y();\n        return Node_1.Node.prototype._toKonvaCanvas.call(this, config);\n    }\n    _checkVisibility() {\n        const visible = this.visible();\n        if (visible) {\n            this.canvas._canvas.style.display = 'block';\n        }\n        else {\n            this.canvas._canvas.style.display = 'none';\n        }\n    }\n    _setSmoothEnabled() {\n        this.getContext()._context.imageSmoothingEnabled =\n            this.imageSmoothingEnabled();\n    }\n    getWidth() {\n        if (this.parent) {\n            return this.parent.width();\n        }\n    }\n    setWidth() {\n        Util_1.Util.warn('Can not change width of layer. Use \"stage.width(value)\" function instead.');\n    }\n    getHeight() {\n        if (this.parent) {\n            return this.parent.height();\n        }\n    }\n    setHeight() {\n        Util_1.Util.warn('Can not change height of layer. Use \"stage.height(value)\" function instead.');\n    }\n    batchDraw() {\n        if (!this._waitingForDraw) {\n            this._waitingForDraw = true;\n            Util_1.Util.requestAnimFrame(() => {\n                this.draw();\n                this._waitingForDraw = false;\n            });\n        }\n        return this;\n    }\n    getIntersection(pos) {\n        if (!this.isListening() || !this.isVisible()) {\n            return null;\n        }\n        let spiralSearchDistance = 1;\n        let continueSearch = false;\n        while (true) {\n            for (let i = 0; i < INTERSECTION_OFFSETS_LEN; i++) {\n                const intersectionOffset = INTERSECTION_OFFSETS[i];\n                const obj = this._getIntersection({\n                    x: pos.x + intersectionOffset.x * spiralSearchDistance,\n                    y: pos.y + intersectionOffset.y * spiralSearchDistance,\n                });\n                const shape = obj.shape;\n                if (shape) {\n                    return shape;\n                }\n                continueSearch = !!obj.antialiased;\n                if (!obj.antialiased) {\n                    break;\n                }\n            }\n            if (continueSearch) {\n                spiralSearchDistance += 1;\n            }\n            else {\n                return null;\n            }\n        }\n    }\n    _getIntersection(pos) {\n        const ratio = this.hitCanvas.pixelRatio;\n        const p = this.hitCanvas.context.getImageData(Math.round(pos.x * ratio), Math.round(pos.y * ratio), 1, 1).data;\n        const p3 = p[3];\n        if (p3 === 255) {\n            const colorKey = Util_1.Util._rgbToHex(p[0], p[1], p[2]);\n            const shape = Shape_1.shapes[HASH + colorKey];\n            if (shape) {\n                return {\n                    shape: shape,\n                };\n            }\n            return {\n                antialiased: true,\n            };\n        }\n        else if (p3 > 0) {\n            return {\n                antialiased: true,\n            };\n        }\n        return {};\n    }\n    drawScene(can, top, bufferCanvas) {\n        const layer = this.getLayer(), canvas = can || (layer && layer.getCanvas());\n        this._fire(BEFORE_DRAW, {\n            node: this,\n        });\n        if (this.clearBeforeDraw()) {\n            canvas.getContext().clear();\n        }\n        Container_1.Container.prototype.drawScene.call(this, canvas, top, bufferCanvas);\n        this._fire(DRAW, {\n            node: this,\n        });\n        return this;\n    }\n    drawHit(can, top) {\n        const layer = this.getLayer(), canvas = can || (layer && layer.hitCanvas);\n        if (layer && layer.clearBeforeDraw()) {\n            layer.getHitCanvas().getContext().clear();\n        }\n        Container_1.Container.prototype.drawHit.call(this, canvas, top);\n        return this;\n    }\n    enableHitGraph() {\n        this.hitGraphEnabled(true);\n        return this;\n    }\n    disableHitGraph() {\n        this.hitGraphEnabled(false);\n        return this;\n    }\n    setHitGraphEnabled(val) {\n        Util_1.Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n        this.listening(val);\n    }\n    getHitGraphEnabled(val) {\n        Util_1.Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n        return this.listening();\n    }\n    toggleHitCanvas() {\n        if (!this.parent || !this.parent['content']) {\n            return;\n        }\n        const parent = this.parent;\n        const added = !!this.hitCanvas._canvas.parentNode;\n        if (added) {\n            parent.content.removeChild(this.hitCanvas._canvas);\n        }\n        else {\n            parent.content.appendChild(this.hitCanvas._canvas);\n        }\n    }\n    destroy() {\n        Util_1.Util.releaseCanvas(this.getNativeCanvasElement(), this.getHitCanvas()._canvas);\n        return super.destroy();\n    }\n}\nexports.Layer = Layer;\nLayer.prototype.nodeType = 'Layer';\n(0, Global_1._registerNode)(Layer);\nFactory_1.Factory.addGetterSetter(Layer, 'imageSmoothingEnabled', true);\nFactory_1.Factory.addGetterSetter(Layer, 'clearBeforeDraw', true);\nFactory_1.Factory.addGetterSetter(Layer, 'hitGraphEnabled', true, (0, Validators_1.getBooleanValidator)());\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FastLayer = void 0;\nconst Util_1 = require(\"./Util\");\nconst Layer_1 = require(\"./Layer\");\nconst Global_1 = require(\"./Global\");\nclass FastLayer extends Layer_1.Layer {\n    constructor(attrs) {\n        super(attrs);\n        this.listening(false);\n        Util_1.Util.warn('Konva.Fast layer is deprecated. Please use \"new Konva.Layer({ listening: false })\" instead.');\n    }\n}\nexports.FastLayer = FastLayer;\nFastLayer.prototype.nodeType = 'FastLayer';\n(0, Global_1._registerNode)(FastLayer);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Group = void 0;\nconst Util_1 = require(\"./Util\");\nconst Container_1 = require(\"./Container\");\nconst Global_1 = require(\"./Global\");\nclass Group extends Container_1.Container {\n    _validateAdd(child) {\n        const type = child.getType();\n        if (type !== 'Group' && type !== 'Shape') {\n            Util_1.Util.throw('You may only add groups and shapes to groups.');\n        }\n    }\n}\nexports.Group = Group;\nGroup.prototype.nodeType = 'Group';\n(0, Global_1._registerNode)(Group);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Animation = void 0;\nconst Global_1 = require(\"./Global\");\nconst Util_1 = require(\"./Util\");\nconst now = (function () {\n    if (Global_1.glob.performance && Global_1.glob.performance.now) {\n        return function () {\n            return Global_1.glob.performance.now();\n        };\n    }\n    return function () {\n        return new Date().getTime();\n    };\n})();\nclass Animation {\n    constructor(func, layers) {\n        this.id = Animation.animIdCounter++;\n        this.frame = {\n            time: 0,\n            timeDiff: 0,\n            lastTime: now(),\n            frameRate: 0,\n        };\n        this.func = func;\n        this.setLayers(layers);\n    }\n    setLayers(layers) {\n        let lays = [];\n        if (layers) {\n            lays = Array.isArray(layers) ? layers : [layers];\n        }\n        this.layers = lays;\n        return this;\n    }\n    getLayers() {\n        return this.layers;\n    }\n    addLayer(layer) {\n        const layers = this.layers;\n        const len = layers.length;\n        for (let n = 0; n < len; n++) {\n            if (layers[n]._id === layer._id) {\n                return false;\n            }\n        }\n        this.layers.push(layer);\n        return true;\n    }\n    isRunning() {\n        const a = Animation;\n        const animations = a.animations;\n        const len = animations.length;\n        for (let n = 0; n < len; n++) {\n            if (animations[n].id === this.id) {\n                return true;\n            }\n        }\n        return false;\n    }\n    start() {\n        this.stop();\n        this.frame.timeDiff = 0;\n        this.frame.lastTime = now();\n        Animation._addAnimation(this);\n        return this;\n    }\n    stop() {\n        Animation._removeAnimation(this);\n        return this;\n    }\n    _updateFrameObject(time) {\n        this.frame.timeDiff = time - this.frame.lastTime;\n        this.frame.lastTime = time;\n        this.frame.time += this.frame.timeDiff;\n        this.frame.frameRate = 1000 / this.frame.timeDiff;\n    }\n    static _addAnimation(anim) {\n        this.animations.push(anim);\n        this._handleAnimation();\n    }\n    static _removeAnimation(anim) {\n        const id = anim.id;\n        const animations = this.animations;\n        const len = animations.length;\n        for (let n = 0; n < len; n++) {\n            if (animations[n].id === id) {\n                this.animations.splice(n, 1);\n                break;\n            }\n        }\n    }\n    static _runFrames() {\n        const layerHash = {};\n        const animations = this.animations;\n        for (let n = 0; n < animations.length; n++) {\n            const anim = animations[n];\n            const layers = anim.layers;\n            const func = anim.func;\n            anim._updateFrameObject(now());\n            const layersLen = layers.length;\n            let needRedraw;\n            if (func) {\n                needRedraw = func.call(anim, anim.frame) !== false;\n            }\n            else {\n                needRedraw = true;\n            }\n            if (!needRedraw) {\n                continue;\n            }\n            for (let i = 0; i < layersLen; i++) {\n                const layer = layers[i];\n                if (layer._id !== undefined) {\n                    layerHash[layer._id] = layer;\n                }\n            }\n        }\n        for (const key in layerHash) {\n            if (!layerHash.hasOwnProperty(key)) {\n                continue;\n            }\n            layerHash[key].batchDraw();\n        }\n    }\n    static _animationLoop() {\n        const Anim = Animation;\n        if (Anim.animations.length) {\n            Anim._runFrames();\n            Util_1.Util.requestAnimFrame(Anim._animationLoop);\n        }\n        else {\n            Anim.animRunning = false;\n        }\n    }\n    static _handleAnimation() {\n        if (!this.animRunning) {\n            this.animRunning = true;\n            Util_1.Util.requestAnimFrame(this._animationLoop);\n        }\n    }\n}\nexports.Animation = Animation;\nAnimation.animations = [];\nAnimation.animIdCounter = 0;\nAnimation.animRunning = false;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Easings = exports.Tween = void 0;\nconst Util_1 = require(\"./Util\");\nconst Animation_1 = require(\"./Animation\");\nconst Node_1 = require(\"./Node\");\nconst Global_1 = require(\"./Global\");\nconst blacklist = {\n    node: 1,\n    duration: 1,\n    easing: 1,\n    onFinish: 1,\n    yoyo: 1,\n}, PAUSED = 1, PLAYING = 2, REVERSING = 3, colorAttrs = ['fill', 'stroke', 'shadowColor'];\nlet idCounter = 0;\nclass TweenEngine {\n    constructor(prop, propFunc, func, begin, finish, duration, yoyo) {\n        this.prop = prop;\n        this.propFunc = propFunc;\n        this.begin = begin;\n        this._pos = begin;\n        this.duration = duration;\n        this._change = 0;\n        this.prevPos = 0;\n        this.yoyo = yoyo;\n        this._time = 0;\n        this._position = 0;\n        this._startTime = 0;\n        this._finish = 0;\n        this.func = func;\n        this._change = finish - this.begin;\n        this.pause();\n    }\n    fire(str) {\n        const handler = this[str];\n        if (handler) {\n            handler();\n        }\n    }\n    setTime(t) {\n        if (t > this.duration) {\n            if (this.yoyo) {\n                this._time = this.duration;\n                this.reverse();\n            }\n            else {\n                this.finish();\n            }\n        }\n        else if (t < 0) {\n            if (this.yoyo) {\n                this._time = 0;\n                this.play();\n            }\n            else {\n                this.reset();\n            }\n        }\n        else {\n            this._time = t;\n            this.update();\n        }\n    }\n    getTime() {\n        return this._time;\n    }\n    setPosition(p) {\n        this.prevPos = this._pos;\n        this.propFunc(p);\n        this._pos = p;\n    }\n    getPosition(t) {\n        if (t === undefined) {\n            t = this._time;\n        }\n        return this.func(t, this.begin, this._change, this.duration);\n    }\n    play() {\n        this.state = PLAYING;\n        this._startTime = this.getTimer() - this._time;\n        this.onEnterFrame();\n        this.fire('onPlay');\n    }\n    reverse() {\n        this.state = REVERSING;\n        this._time = this.duration - this._time;\n        this._startTime = this.getTimer() - this._time;\n        this.onEnterFrame();\n        this.fire('onReverse');\n    }\n    seek(t) {\n        this.pause();\n        this._time = t;\n        this.update();\n        this.fire('onSeek');\n    }\n    reset() {\n        this.pause();\n        this._time = 0;\n        this.update();\n        this.fire('onReset');\n    }\n    finish() {\n        this.pause();\n        this._time = this.duration;\n        this.update();\n        this.fire('onFinish');\n    }\n    update() {\n        this.setPosition(this.getPosition(this._time));\n        this.fire('onUpdate');\n    }\n    onEnterFrame() {\n        const t = this.getTimer() - this._startTime;\n        if (this.state === PLAYING) {\n            this.setTime(t);\n        }\n        else if (this.state === REVERSING) {\n            this.setTime(this.duration - t);\n        }\n    }\n    pause() {\n        this.state = PAUSED;\n        this.fire('onPause');\n    }\n    getTimer() {\n        return new Date().getTime();\n    }\n}\nclass Tween {\n    constructor(config) {\n        const that = this, node = config.node, nodeId = node._id, easing = config.easing || exports.Easings.Linear, yoyo = !!config.yoyo;\n        let duration, key;\n        if (typeof config.duration === 'undefined') {\n            duration = 0.3;\n        }\n        else if (config.duration === 0) {\n            duration = 0.001;\n        }\n        else {\n            duration = config.duration;\n        }\n        this.node = node;\n        this._id = idCounter++;\n        const layers = node.getLayer() ||\n            (node instanceof Global_1.Konva['Stage'] ? node.getLayers() : null);\n        if (!layers) {\n            Util_1.Util.error('Tween constructor have `node` that is not in a layer. Please add node into layer first.');\n        }\n        this.anim = new Animation_1.Animation(function () {\n            that.tween.onEnterFrame();\n        }, layers);\n        this.tween = new TweenEngine(key, function (i) {\n            that._tweenFunc(i);\n        }, easing, 0, 1, duration * 1000, yoyo);\n        this._addListeners();\n        if (!Tween.attrs[nodeId]) {\n            Tween.attrs[nodeId] = {};\n        }\n        if (!Tween.attrs[nodeId][this._id]) {\n            Tween.attrs[nodeId][this._id] = {};\n        }\n        if (!Tween.tweens[nodeId]) {\n            Tween.tweens[nodeId] = {};\n        }\n        for (key in config) {\n            if (blacklist[key] === undefined) {\n                this._addAttr(key, config[key]);\n            }\n        }\n        this.reset();\n        this.onFinish = config.onFinish;\n        this.onReset = config.onReset;\n        this.onUpdate = config.onUpdate;\n    }\n    _addAttr(key, end) {\n        const node = this.node, nodeId = node._id;\n        let diff, len, trueEnd, trueStart, endRGBA;\n        const tweenId = Tween.tweens[nodeId][key];\n        if (tweenId) {\n            delete Tween.attrs[nodeId][tweenId][key];\n        }\n        let start = node.getAttr(key);\n        if (Util_1.Util._isArray(end)) {\n            diff = [];\n            len = Math.max(end.length, start.length);\n            if (key === 'points' && end.length !== start.length) {\n                if (end.length > start.length) {\n                    trueStart = start;\n                    start = Util_1.Util._prepareArrayForTween(start, end, node.closed());\n                }\n                else {\n                    trueEnd = end;\n                    end = Util_1.Util._prepareArrayForTween(end, start, node.closed());\n                }\n            }\n            if (key.indexOf('fill') === 0) {\n                for (let n = 0; n < len; n++) {\n                    if (n % 2 === 0) {\n                        diff.push(end[n] - start[n]);\n                    }\n                    else {\n                        const startRGBA = Util_1.Util.colorToRGBA(start[n]);\n                        endRGBA = Util_1.Util.colorToRGBA(end[n]);\n                        start[n] = startRGBA;\n                        diff.push({\n                            r: endRGBA.r - startRGBA.r,\n                            g: endRGBA.g - startRGBA.g,\n                            b: endRGBA.b - startRGBA.b,\n                            a: endRGBA.a - startRGBA.a,\n                        });\n                    }\n                }\n            }\n            else {\n                for (let n = 0; n < len; n++) {\n                    diff.push(end[n] - start[n]);\n                }\n            }\n        }\n        else if (colorAttrs.indexOf(key) !== -1) {\n            start = Util_1.Util.colorToRGBA(start);\n            endRGBA = Util_1.Util.colorToRGBA(end);\n            diff = {\n                r: endRGBA.r - start.r,\n                g: endRGBA.g - start.g,\n                b: endRGBA.b - start.b,\n                a: endRGBA.a - start.a,\n            };\n        }\n        else {\n            diff = end - start;\n        }\n        Tween.attrs[nodeId][this._id][key] = {\n            start: start,\n            diff: diff,\n            end: end,\n            trueEnd: trueEnd,\n            trueStart: trueStart,\n        };\n        Tween.tweens[nodeId][key] = this._id;\n    }\n    _tweenFunc(i) {\n        const node = this.node, attrs = Tween.attrs[node._id][this._id];\n        let key, attr, start, diff, newVal, n, len, end;\n        for (key in attrs) {\n            attr = attrs[key];\n            start = attr.start;\n            diff = attr.diff;\n            end = attr.end;\n            if (Util_1.Util._isArray(start)) {\n                newVal = [];\n                len = Math.max(start.length, end.length);\n                if (key.indexOf('fill') === 0) {\n                    for (n = 0; n < len; n++) {\n                        if (n % 2 === 0) {\n                            newVal.push((start[n] || 0) + diff[n] * i);\n                        }\n                        else {\n                            newVal.push('rgba(' +\n                                Math.round(start[n].r + diff[n].r * i) +\n                                ',' +\n                                Math.round(start[n].g + diff[n].g * i) +\n                                ',' +\n                                Math.round(start[n].b + diff[n].b * i) +\n                                ',' +\n                                (start[n].a + diff[n].a * i) +\n                                ')');\n                        }\n                    }\n                }\n                else {\n                    for (n = 0; n < len; n++) {\n                        newVal.push((start[n] || 0) + diff[n] * i);\n                    }\n                }\n            }\n            else if (colorAttrs.indexOf(key) !== -1) {\n                newVal =\n                    'rgba(' +\n                        Math.round(start.r + diff.r * i) +\n                        ',' +\n                        Math.round(start.g + diff.g * i) +\n                        ',' +\n                        Math.round(start.b + diff.b * i) +\n                        ',' +\n                        (start.a + diff.a * i) +\n                        ')';\n            }\n            else {\n                newVal = start + diff * i;\n            }\n            node.setAttr(key, newVal);\n        }\n    }\n    _addListeners() {\n        this.tween.onPlay = () => {\n            this.anim.start();\n        };\n        this.tween.onReverse = () => {\n            this.anim.start();\n        };\n        this.tween.onPause = () => {\n            this.anim.stop();\n        };\n        this.tween.onFinish = () => {\n            const node = this.node;\n            const attrs = Tween.attrs[node._id][this._id];\n            if (attrs.points && attrs.points.trueEnd) {\n                node.setAttr('points', attrs.points.trueEnd);\n            }\n            if (this.onFinish) {\n                this.onFinish.call(this);\n            }\n        };\n        this.tween.onReset = () => {\n            const node = this.node;\n            const attrs = Tween.attrs[node._id][this._id];\n            if (attrs.points && attrs.points.trueStart) {\n                node.points(attrs.points.trueStart);\n            }\n            if (this.onReset) {\n                this.onReset();\n            }\n        };\n        this.tween.onUpdate = () => {\n            if (this.onUpdate) {\n                this.onUpdate.call(this);\n            }\n        };\n    }\n    play() {\n        this.tween.play();\n        return this;\n    }\n    reverse() {\n        this.tween.reverse();\n        return this;\n    }\n    reset() {\n        this.tween.reset();\n        return this;\n    }\n    seek(t) {\n        this.tween.seek(t * 1000);\n        return this;\n    }\n    pause() {\n        this.tween.pause();\n        return this;\n    }\n    finish() {\n        this.tween.finish();\n        return this;\n    }\n    destroy() {\n        const nodeId = this.node._id, thisId = this._id, attrs = Tween.tweens[nodeId];\n        this.pause();\n        if (this.anim) {\n            this.anim.stop();\n        }\n        for (const key in attrs) {\n            delete Tween.tweens[nodeId][key];\n        }\n        delete Tween.attrs[nodeId][thisId];\n        if (Tween.tweens[nodeId]) {\n            if (Object.keys(Tween.tweens[nodeId]).length === 0) {\n                delete Tween.tweens[nodeId];\n            }\n            if (Object.keys(Tween.attrs[nodeId]).length === 0) {\n                delete Tween.attrs[nodeId];\n            }\n        }\n    }\n}\nexports.Tween = Tween;\nTween.attrs = {};\nTween.tweens = {};\nNode_1.Node.prototype.to = function (params) {\n    const onFinish = params.onFinish;\n    params.node = this;\n    params.onFinish = function () {\n        this.destroy();\n        if (onFinish) {\n            onFinish();\n        }\n    };\n    const tween = new Tween(params);\n    tween.play();\n};\nexports.Easings = {\n    BackEaseIn(t, b, c, d) {\n        const s = 1.70158;\n        return c * (t /= d) * t * ((s + 1) * t - s) + b;\n    },\n    BackEaseOut(t, b, c, d) {\n        const s = 1.70158;\n        return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n    },\n    BackEaseInOut(t, b, c, d) {\n        let s = 1.70158;\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n        }\n        return (c / 2) * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n    },\n    ElasticEaseIn(t, b, c, d, a, p) {\n        let s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d) === 1) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * 0.3;\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        return (-(a *\n            Math.pow(2, 10 * (t -= 1)) *\n            Math.sin(((t * d - s) * (2 * Math.PI)) / p)) + b);\n    },\n    ElasticEaseOut(t, b, c, d, a, p) {\n        let s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d) === 1) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * 0.3;\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        return (a * Math.pow(2, -10 * t) * Math.sin(((t * d - s) * (2 * Math.PI)) / p) +\n            c +\n            b);\n    },\n    ElasticEaseInOut(t, b, c, d, a, p) {\n        let s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d / 2) === 2) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * (0.3 * 1.5);\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        if (t < 1) {\n            return (-0.5 *\n                (a *\n                    Math.pow(2, 10 * (t -= 1)) *\n                    Math.sin(((t * d - s) * (2 * Math.PI)) / p)) +\n                b);\n        }\n        return (a *\n            Math.pow(2, -10 * (t -= 1)) *\n            Math.sin(((t * d - s) * (2 * Math.PI)) / p) *\n            0.5 +\n            c +\n            b);\n    },\n    BounceEaseOut(t, b, c, d) {\n        if ((t /= d) < 1 / 2.75) {\n            return c * (7.5625 * t * t) + b;\n        }\n        else if (t < 2 / 2.75) {\n            return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;\n        }\n        else if (t < 2.5 / 2.75) {\n            return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;\n        }\n        else {\n            return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;\n        }\n    },\n    BounceEaseIn(t, b, c, d) {\n        return c - exports.Easings.BounceEaseOut(d - t, 0, c, d) + b;\n    },\n    BounceEaseInOut(t, b, c, d) {\n        if (t < d / 2) {\n            return exports.Easings.BounceEaseIn(t * 2, 0, c, d) * 0.5 + b;\n        }\n        else {\n            return exports.Easings.BounceEaseOut(t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b;\n        }\n    },\n    EaseIn(t, b, c, d) {\n        return c * (t /= d) * t + b;\n    },\n    EaseOut(t, b, c, d) {\n        return -c * (t /= d) * (t - 2) + b;\n    },\n    EaseInOut(t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * t * t + b;\n        }\n        return (-c / 2) * (--t * (t - 2) - 1) + b;\n    },\n    StrongEaseIn(t, b, c, d) {\n        return c * (t /= d) * t * t * t * t + b;\n    },\n    StrongEaseOut(t, b, c, d) {\n        return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n    },\n    StrongEaseInOut(t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * t * t * t * t * t + b;\n        }\n        return (c / 2) * ((t -= 2) * t * t * t * t + 2) + b;\n    },\n    Linear(t, b, c, d) {\n        return (c * t) / d + b;\n    },\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Konva = void 0;\nconst Global_1 = require(\"./Global\");\nconst Util_1 = require(\"./Util\");\nconst Node_1 = require(\"./Node\");\nconst Container_1 = require(\"./Container\");\nconst Stage_1 = require(\"./Stage\");\nconst Layer_1 = require(\"./Layer\");\nconst FastLayer_1 = require(\"./FastLayer\");\nconst Group_1 = require(\"./Group\");\nconst DragAndDrop_1 = require(\"./DragAndDrop\");\nconst Shape_1 = require(\"./Shape\");\nconst Animation_1 = require(\"./Animation\");\nconst Tween_1 = require(\"./Tween\");\nconst Context_1 = require(\"./Context\");\nconst Canvas_1 = require(\"./Canvas\");\nexports.Konva = Util_1.Util._assign(Global_1.Konva, {\n    Util: Util_1.Util,\n    Transform: Util_1.Transform,\n    Node: Node_1.Node,\n    Container: Container_1.Container,\n    Stage: Stage_1.Stage,\n    stages: Stage_1.stages,\n    Layer: Layer_1.Layer,\n    FastLayer: FastLayer_1.FastLayer,\n    Group: Group_1.Group,\n    DD: DragAndDrop_1.DD,\n    Shape: Shape_1.Shape,\n    shapes: Shape_1.shapes,\n    Animation: Animation_1.Animation,\n    Tween: Tween_1.Tween,\n    Easings: Tween_1.Easings,\n    Context: Context_1.Context,\n    Canvas: Canvas_1.Canvas,\n});\nexports.default = exports.Konva;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Konva = void 0;\nvar _CoreInternals_1 = require(\"./_CoreInternals\");\nObject.defineProperty(exports, \"Konva\", { enumerable: true, get: function () { return _CoreInternals_1.Konva; } });\nconst _CoreInternals_2 = require(\"./_CoreInternals\");\nmodule.exports = _CoreInternals_2.Konva;\n","import Konva from 'konva/lib/Core';\n\nfunction zeroPad(number, precision) {\n  number = number.toString();\n\n  while (number.length < precision) {\n    number = '0' + number;\n  }\n\n  return number;\n}\n\n/**\n * Returns a formatted time string.\n *\n * @param {Number} time The time to be formatted, in seconds.\n * @param {Number} precision Decimal places to which time is displayed\n * @returns {String}\n */\n\nexport function formatTime(time, precision) {\n  let result = [];\n\n  const fractionSeconds = Math.floor((time % 1) * Math.pow(10, precision));\n  const seconds = Math.floor(time);\n  const minutes = Math.floor(seconds / 60);\n  const hours = Math.floor(minutes / 60);\n\n  if (hours > 0) {\n    result.push(hours); // Hours\n  }\n  result.push(minutes % 60); // Mins\n  result.push(seconds % 60); // Seconds\n\n  for (let i = 0; i < result.length; i++) {\n    result[i] = zeroPad(result[i], 2);\n  }\n\n  result = result.join(':');\n\n  if (precision > 0) {\n    result += '.' + zeroPad(fractionSeconds, precision);\n  }\n\n  return result;\n}\n\n/**\n * Rounds the given value up to the nearest given multiple.\n *\n * @param {Number} value\n * @param {Number} multiple\n * @returns {Number}\n *\n * @example\n * roundUpToNearest(5.5, 3); // returns 6\n * roundUpToNearest(141.0, 10); // returns 150\n * roundUpToNearest(-5.5, 3); // returns -6\n */\n\nexport function roundUpToNearest(value, multiple) {\n  if (multiple === 0) {\n    return 0;\n  }\n\n  let multiplier = 1;\n\n  if (value < 0.0) {\n    multiplier = -1;\n    value = -value;\n  }\n\n  const roundedUp = Math.ceil(value);\n\n  return multiplier * (((roundedUp + multiple - 1) / multiple) | 0) * multiple;\n}\n\nexport function clamp(value, min, max) {\n  if (value < min) {\n    return min;\n  }\n  else if (value > max) {\n    return max;\n  }\n  else {\n    return value;\n  }\n}\n\nexport function objectHasProperty(object, field) {\n  return Object.prototype.hasOwnProperty.call(object, field);\n}\n\nexport function extend(to, from) {\n  for (const key in from) {\n    if (objectHasProperty(from, key)) {\n      to[key] = from[key];\n    }\n  }\n\n  return to;\n}\n\n/**\n * Checks whether the given array contains values in ascending order.\n *\n * @param {Array<Number>} array The array to test\n * @returns {Boolean}\n */\n\nexport function isInAscendingOrder(array) {\n  if (array.length === 0) {\n    return true;\n  }\n\n  let value = array[0];\n\n  for (let i = 1; i < array.length; i++) {\n    if (value >= array[i]) {\n      return false;\n    }\n\n    value = array[i];\n  }\n\n  return true;\n}\n\n/**\n * Checks whether the given value is a number.\n *\n * @param {Number} value The value to test\n * @returns {Boolean}\n */\n\nexport function isNumber(value) {\n  return typeof value === 'number';\n}\n\n/**\n * Checks whether the given value is a finite number.\n *\n * @param {Number} value The value to test\n * @returns {Boolean}\n */\n\nexport function isFinite(value) {\n  if (typeof value !== 'number') {\n    return false;\n  }\n\n  // Check for NaN and infinity\n  // eslint-disable-next-line no-self-compare\n  if (value !== value || value === Infinity || value === -Infinity) {\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * Checks whether the given value is a valid timestamp.\n *\n * @param {Number} value The value to test\n * @returns {Boolean}\n */\n\nexport function isValidTime(value) {\n  return (typeof value === 'number') && Number.isFinite(value);\n}\n\n/**\n * Checks whether the given value is a valid object.\n *\n * @param {Object|Array} value The value to test\n * @returns {Boolean}\n */\n\nexport function isObject(value) {\n  return (value !== null) && (typeof value === 'object')\n    && !Array.isArray(value);\n}\n\n/**\n * Checks whether the given value is a valid string.\n *\n * @param {String} value The value to test\n * @returns {Boolean}\n */\n\nexport function isString(value) {\n  return typeof value === 'string';\n}\n\n/**\n * Checks whether the given value is a valid ArrayBuffer.\n *\n * @param {ArrayBuffer} value The value to test\n * @returns {Boolean}\n */\n\nexport function isArrayBuffer(value) {\n  return Object.prototype.toString.call(value).includes('ArrayBuffer');\n}\n\n/**\n * Checks whether the given value is null or undefined.\n *\n * @param {Object} value The value to test\n * @returns {Boolean}\n */\n\nexport function isNullOrUndefined(value) {\n  return value === undefined || value === null;\n}\n\n/**\n * Checks whether the given value is a function.\n *\n * @param {Function} value The value to test\n * @returns {Boolean}\n */\n\nexport function isFunction(value) {\n  return typeof value === 'function';\n}\n\n/**\n * Checks whether the given value is a boolean.\n *\n * @param {Function} value The value to test\n * @returns {Boolean}\n */\n\nexport function isBoolean(value) {\n  return value === true || value === false;\n}\n\n/**\n * Checks whether the given value is a valid HTML element.\n *\n * @param {HTMLElement} value The value to test\n * @returns {Boolean}\n */\n\nexport function isHTMLElement(value) {\n  return value instanceof HTMLElement;\n}\n\n/**\n * Checks whether the given value is an array\n *\n * @param {Function} value The value to test\n * @returns {Boolean}\n */\n\nexport function isArray(value) {\n  return Array.isArray(value);\n}\n\n/**\n * Checks whether the given value is a valid linear gradient color\n *\n * @param {Function} value The value to test\n * @returns {Boolean}\n */\n\nexport function isLinearGradientColor(value) {\n  return isObject(value) &&\n    objectHasProperty(value, 'linearGradientStart') &&\n    objectHasProperty(value, 'linearGradientEnd') &&\n    objectHasProperty(value, 'linearGradientColorStops') &&\n    isNumber(value.linearGradientStart) &&\n    isNumber(value.linearGradientEnd) &&\n    isArray(value.linearGradientColorStops) &&\n    value.linearGradientColorStops.length === 2;\n}\n\nexport function getMarkerObject(obj) {\n  while (obj.parent !== null) {\n    if (obj.parent instanceof Konva.Layer) {\n      return obj;\n    }\n\n    obj = obj.parent;\n  }\n\n  return null;\n}\n","/**\n * @file\n *\n * Defines the {@link CueEmitter} class.\n *\n * @module cue-emitter\n */\n\nimport Cue from './cue';\nimport { objectHasProperty } from './utils';\n\nconst isHeadless = /HeadlessChrome/.test(navigator.userAgent);\n\nfunction windowIsVisible() {\n  if (isHeadless || navigator.webdriver) {\n    return false;\n  }\n\n  return (typeof document === 'object') &&\n    ('visibilityState' in document) &&\n    (document.visibilityState === 'visible');\n}\n\nconst requestAnimationFrame =\n  window.requestAnimationFrame ||\n  window.mozRequestAnimationFrame ||\n  window.webkitRequestAnimationFrame ||\n  window.msRequestAnimationFrame;\n\nconst cancelAnimationFrame =\n  window.cancelAnimationFrame ||\n  window.mozCancelAnimationFrame ||\n  window.webkitCancelAnimationFrame ||\n  window.msCancelAnimationFrame;\n\nconst eventTypes = {\n  forward: {},\n  reverse: {}\n};\n\nconst EVENT_TYPE_POINT = 0;\nconst EVENT_TYPE_SEGMENT_ENTER = 1;\nconst EVENT_TYPE_SEGMENT_EXIT = 2;\n\neventTypes.forward[Cue.POINT] = EVENT_TYPE_POINT;\neventTypes.forward[Cue.SEGMENT_START] = EVENT_TYPE_SEGMENT_ENTER;\neventTypes.forward[Cue.SEGMENT_END] = EVENT_TYPE_SEGMENT_EXIT;\n\neventTypes.reverse[Cue.POINT] = EVENT_TYPE_POINT;\neventTypes.reverse[Cue.SEGMENT_START] = EVENT_TYPE_SEGMENT_EXIT;\neventTypes.reverse[Cue.SEGMENT_END] = EVENT_TYPE_SEGMENT_ENTER;\n\nconst eventNames = {};\n\neventNames[EVENT_TYPE_POINT] = 'points.enter';\neventNames[EVENT_TYPE_SEGMENT_ENTER] = 'segments.enter';\neventNames[EVENT_TYPE_SEGMENT_EXIT] = 'segments.exit';\n\nconst eventAttributes = {};\n\neventAttributes[EVENT_TYPE_POINT] = 'point';\neventAttributes[EVENT_TYPE_SEGMENT_ENTER] = 'segment';\neventAttributes[EVENT_TYPE_SEGMENT_EXIT] = 'segment';\n\n/**\n * Given a cue instance, returns the corresponding {@link Point}\n * {@link Segment}.\n *\n * @param {Peaks} peaks\n * @param {Cue} cue\n * @return {Point|Segment}\n * @throws {Error}\n */\n\nfunction getPointOrSegment(peaks, cue) {\n  switch (cue.type) {\n    case Cue.POINT:\n      return peaks.points.getPoint(cue.id);\n\n    case Cue.SEGMENT_START:\n    case Cue.SEGMENT_END:\n      return peaks.segments.getSegment(cue.id);\n\n    default:\n      throw new Error('getPointOrSegment: id not found?');\n  }\n}\n\n/**\n * CueEmitter is responsible for emitting <code>points.enter</code>,\n * <code>segments.enter</code>, and <code>segments.exit</code> events.\n *\n * @class\n * @alias CueEmitter\n *\n * @param {Peaks} peaks Parent {@link Peaks} instance.\n */\n\nfunction CueEmitter(peaks) {\n  this._cues = [];\n  this._peaks = peaks;\n  this._previousTime = -1;\n  this._updateCues = this._updateCues.bind(this);\n  this._onPlaying = this._onPlaying.bind(this);\n  this._onSeeked = this._onSeeked.bind(this);\n  this._onTimeUpdate = this._onTimeUpdate.bind(this);\n  this._onAnimationFrame = this._onAnimationFrame.bind(this);\n  this._rAFHandle = null;\n  this._activeSegments = {};\n  this._attachEventHandlers();\n}\n\n/**\n * This function is bound to all {@link Peaks} events relating to mutated\n * [Points]{@link Point} or [Segments]{@link Segment}, and updates the\n * list of cues accordingly.\n *\n * @private\n */\n\nCueEmitter.prototype._updateCues = function() {\n  const self = this;\n\n  const points = self._peaks.points.getPoints();\n  const segments = self._peaks.segments.getSegments();\n\n  self._cues.length = 0;\n\n  points.forEach(function(point) {\n    self._cues.push(new Cue(point.time, Cue.POINT, point.id));\n  });\n\n  segments.forEach(function(segment) {\n    self._cues.push(new Cue(segment.startTime, Cue.SEGMENT_START, segment.id));\n    self._cues.push(new Cue(segment.endTime, Cue.SEGMENT_END, segment.id));\n  });\n\n  self._cues.sort(Cue.sorter);\n\n  const time = self._peaks.player.getCurrentTime();\n\n  self._updateActiveSegments(time);\n};\n\n/**\n * Emits events for any cues passed through during media playback.\n *\n * @param {Number} time The current time on the media timeline.\n * @param {Number} previousTime The previous time on the media timeline when\n *   this function was called.\n */\n\nCueEmitter.prototype._onUpdate = function(time, previousTime) {\n  const isForward = time > previousTime;\n  let start;\n  let end;\n  let step;\n\n  if (isForward) {\n    start = 0;\n    end = this._cues.length;\n    step = 1;\n  }\n  else {\n    start = this._cues.length - 1;\n    end = -1;\n    step = -1;\n  }\n\n  // Cues are sorted.\n\n  for (let i = start; isForward ? i < end : i > end; i += step) {\n    const cue = this._cues[i];\n\n    if (isForward ? cue.time > previousTime : cue.time < previousTime) {\n      if (isForward ? cue.time > time : cue.time < time) {\n        break;\n      }\n\n      // Cue falls between time and previousTime.\n\n      const marker = getPointOrSegment(this._peaks, cue);\n\n      const eventType = isForward ? eventTypes.forward[cue.type] :\n                                    eventTypes.reverse[cue.type];\n\n      if (eventType === EVENT_TYPE_SEGMENT_ENTER) {\n        this._activeSegments[marker.id] = marker;\n      }\n      else if (eventType === EVENT_TYPE_SEGMENT_EXIT) {\n        delete this._activeSegments[marker.id];\n      }\n\n      const event = {\n        time: time\n      };\n\n      event[eventAttributes[eventType]] = marker;\n\n      this._peaks.emit(eventNames[eventType], event);\n    }\n  }\n};\n\n// The next handler and onAnimationFrame are bound together\n// when the window isn't in focus, rAF is throttled\n// falling back to timeUpdate.\n\nCueEmitter.prototype._onTimeUpdate = function(time) {\n  if (windowIsVisible()) {\n    return;\n  }\n\n  if (this._peaks.player.isPlaying() && !this._peaks.player.isSeeking()) {\n    this._onUpdate(time, this._previousTime);\n  }\n\n  this._previousTime = time;\n};\n\nCueEmitter.prototype._onAnimationFrame = function() {\n  const time = this._peaks.player.getCurrentTime();\n\n  if (!this._peaks.player.isSeeking()) {\n    this._onUpdate(time, this._previousTime);\n  }\n\n  this._previousTime = time;\n\n  if (this._peaks.player.isPlaying()) {\n    this._rAFHandle = requestAnimationFrame(this._onAnimationFrame);\n  }\n};\n\nCueEmitter.prototype._onPlaying = function() {\n  this._previousTime = this._peaks.player.getCurrentTime();\n  this._rAFHandle = requestAnimationFrame(this._onAnimationFrame);\n};\n\nCueEmitter.prototype._onSeeked = function(time) {\n  this._previousTime = time;\n\n  this._updateActiveSegments(time);\n};\n\nfunction getSegmentIdComparator(id) {\n  return function compareSegmentIds(segment) {\n    return segment.id === id;\n  };\n}\n\n/**\n * The active segments is the set of all segments which overlap the current\n * playhead position. This function updates that set and emits\n * <code>segments.enter</code> and <code>segments.exit</code> events.\n */\n\nCueEmitter.prototype._updateActiveSegments = function(time) {\n  const self = this;\n\n  const activeSegments = self._peaks.segments.getSegmentsAtTime(time);\n\n  // Remove any segments no longer active.\n\n  for (const id in self._activeSegments) {\n    if (objectHasProperty(self._activeSegments, id)) {\n      const segment = activeSegments.find(getSegmentIdComparator(id));\n\n      if (!segment) {\n        self._peaks.emit('segments.exit', {\n          segment: self._activeSegments[id],\n          time: time\n        });\n\n        delete self._activeSegments[id];\n      }\n    }\n  }\n\n  // Add new active segments.\n\n  activeSegments.forEach(function(segment) {\n    if (!(segment.id in self._activeSegments)) {\n      self._activeSegments[segment.id] = segment;\n\n      self._peaks.emit('segments.enter', {\n        segment: segment,\n        time: time\n      });\n    }\n  });\n};\n\nconst events = [\n  'points.update',\n  'points.dragmove',\n  'points.add',\n  'points.remove',\n  'points.remove_all',\n  'segments.update',\n  'segments.dragged',\n  'segments.add',\n  'segments.remove',\n  'segments.remove_all'\n];\n\nCueEmitter.prototype._attachEventHandlers = function() {\n  this._peaks.on('player.timeupdate', this._onTimeUpdate);\n  this._peaks.on('player.playing', this._onPlaying);\n  this._peaks.on('player.seeked', this._onSeeked);\n\n  for (let i = 0; i < events.length; i++) {\n    this._peaks.on(events[i], this._updateCues);\n  }\n\n  this._updateCues();\n};\n\nCueEmitter.prototype._detachEventHandlers = function() {\n  this._peaks.off('player.timeupdate', this._onTimeUpdate);\n  this._peaks.off('player.playing', this._onPlaying);\n  this._peaks.off('player.seeked', this._onSeeked);\n\n  for (let i = 0; i < events.length; i++) {\n    this._peaks.off(events[i], this._updateCues);\n  }\n};\n\nCueEmitter.prototype.destroy = function() {\n  if (this._rAFHandle) {\n    cancelAnimationFrame(this._rAFHandle);\n    this._rAFHandle = null;\n  }\n\n  this._detachEventHandlers();\n\n  this._previousTime = -1;\n};\n\nexport default CueEmitter;\n","/**\n * @file\n *\n * Defines the {@link Point} class.\n *\n * @module point\n */\n\nimport {\n  isBoolean, isLinearGradientColor, isNullOrUndefined, isString,\n  isValidTime, objectHasProperty\n} from './utils';\n\nconst pointOptions = [\n  'id', 'pid', 'time', 'labelText', 'color', 'editable'\n];\n\nconst invalidOptions = [\n  'update', 'isVisible', 'peaks', 'pid'\n];\n\nfunction setDefaultPointOptions(options, peaksOptions) {\n  if (isNullOrUndefined(options.labelText)) {\n    options.labelText = '';\n  }\n\n  if (isNullOrUndefined(options.editable)) {\n    options.editable = false;\n  }\n\n  if (isNullOrUndefined(options.color)) {\n    options.color = peaksOptions.pointMarkerColor;\n  }\n}\n\nfunction validatePointOptions(options, updating) {\n  const context = updating ? 'update()' : 'add()';\n\n  if (!updating || (updating && objectHasProperty(options, 'time'))) {\n    if (!isValidTime(options.time)) {\n      throw new TypeError('peaks.points.' + context + ': time should be a numeric value');\n    }\n  }\n\n  if (options.time < 0) {\n    throw new RangeError('peaks.points.' + context + ': time should not be negative');\n  }\n\n  if (objectHasProperty(options, 'labelText') && !isString(options.labelText)) {\n    throw new TypeError('peaks.points.' + context + ': labelText must be a string');\n  }\n\n  if (objectHasProperty(options, 'editable') && !isBoolean(options.editable)) {\n    throw new TypeError('peaks.points.' + context + ': editable must be true or false');\n  }\n\n  if (objectHasProperty(options, 'color') &&\n    !isString(options.color) &&\n    !isLinearGradientColor(options.color)) {\n    // eslint-disable-next-line @stylistic/js/max-len\n    throw new TypeError('peaks.points.' + context + ': color must be a string or a valid linear gradient object');\n  }\n\n  invalidOptions.forEach(function(name) {\n    if (objectHasProperty(options, name)) {\n      throw new Error('peaks.points.' + context + ': invalid option name: ' + name);\n    }\n  });\n\n  pointOptions.forEach(function(name) {\n    if (objectHasProperty(options, '_' + name)) {\n      throw new Error('peaks.points.' + context + ': invalid option name: _' + name);\n    }\n  });\n}\n\n/**\n * A point is a single instant of time, with associated label and color.\n *\n * @class\n * @alias Point\n *\n * @param {Peaks} peaks A reference to the Peaks instance.\n * @param {Number} pid An internal unique identifier for the point.\n * @param {PointOptions} options User specified point attributes.\n */\n\nfunction Point(peaks, pid, options) {\n  this._peaks = peaks;\n  this._pid = pid;\n  this._setUserData(options);\n}\n\nPoint.prototype._setUserData = function(options) {\n  for (const key in options) {\n    if (objectHasProperty(options, key)) {\n      if (pointOptions.indexOf(key) === -1) {\n        this[key] = options[key];\n      }\n      else {\n        this['_' + key] = options[key];\n      }\n    }\n  }\n};\n\nObject.defineProperties(Point.prototype, {\n  id: {\n    enumerable: true,\n    get: function() {\n      return this._id;\n    }\n  },\n  pid: {\n    enumerable: true,\n    get: function() {\n      return this._pid;\n    }\n  },\n  time: {\n    enumerable: true,\n    get: function() {\n      return this._time;\n    }\n  },\n  labelText: {\n    get: function() {\n      return this._labelText;\n    }\n  },\n  color: {\n    enumerable: true,\n    get: function() {\n      return this._color;\n    }\n  },\n  editable: {\n    enumerable: true,\n    get: function() {\n      return this._editable;\n    }\n  }\n});\n\nPoint.prototype.update = function(options) {\n  validatePointOptions(options, true);\n\n  if (objectHasProperty(options, 'id')) {\n    if (isNullOrUndefined(options.id)) {\n      throw new TypeError('point.update(): invalid id');\n    }\n\n    this._peaks.points.updatePointId(this, options.id);\n  }\n\n  this._setUserData(options);\n\n  this._peaks.emit('points.update', this, options);\n};\n\n/**\n * Returns <code>true</code> if the point lies with in a given time range.\n *\n * @param {Number} startTime The start of the time region, in seconds.\n * @param {Number} endTime The end of the time region, in seconds.\n * @returns {Boolean}\n */\n\nPoint.prototype.isVisible = function(startTime, endTime) {\n  return this.time >= startTime && this.time < endTime;\n};\n\nPoint.prototype._setTime = function(time) {\n  this._time = time;\n};\n\nexport { Point, setDefaultPointOptions, validatePointOptions };\n","/**\n * @file\n *\n * Defines the {@link WaveformPoints} class.\n *\n * @module waveform-points\n */\n\nimport { Point, setDefaultPointOptions, validatePointOptions } from './point';\nimport { extend, isNullOrUndefined, objectHasProperty } from './utils';\n\n/**\n * Point parameters.\n *\n * @typedef {Object} PointOptions\n * @global\n * @property {Number} time Point time, in seconds.\n * @property {Boolean=} editable If <code>true</code> the point time can be\n *   adjusted via the user interface.\n *   Default: <code>false</code>.\n * @property {String=} color Point marker color.\n *   Default: a random color.\n * @property {String=} labelText Point label text.\n *   Default: an empty string.\n * @property {String=} id A unique point identifier.\n *   Default: an automatically generated identifier.\n * @property {*} data Optional application-specific data.\n */\n\n/**\n * Handles all functionality related to the adding, removing and manipulation\n * of points. A point is a single instant of time.\n *\n * @class\n * @alias WaveformPoints\n *\n * @param {Peaks} peaks The parent Peaks object.\n */\n\nfunction WaveformPoints(peaks) {\n  this._peaks = peaks;\n  this._points = [];\n  this._pointsById = {};\n  this._pointsByPid = {};\n  this._pointIdCounter = 0;\n  this._pointPid = 0;\n}\n\n/**\n * Returns a new unique point id value.\n *\n * @returns {String}\n */\n\nWaveformPoints.prototype._getNextPointId = function() {\n  return 'peaks.point.' + this._pointIdCounter++;\n};\n\n/**\n * Returns a new unique point id value, for internal use within\n * Peaks.js only.\n *\n * @returns {Number}\n */\n\nWaveformPoints.prototype._getNextPid = function() {\n  return this._pointPid++;\n};\n\n/**\n * Adds a new point object.\n *\n * @private\n * @param {Point} point\n */\n\nWaveformPoints.prototype._addPoint = function(point) {\n  this._points.push(point);\n\n  this._pointsById[point.id] = point;\n  this._pointsByPid[point.pid] = point;\n};\n\n/**\n * Creates a new point object.\n *\n * @private\n * @param {PointOptions} options\n * @returns {Point}\n */\n\nWaveformPoints.prototype._createPoint = function(options) {\n  const pointOptions = {};\n\n  extend(pointOptions, options);\n\n  if (isNullOrUndefined(pointOptions.id)) {\n    pointOptions.id = this._getNextPointId();\n  }\n\n  const pid = this._getNextPid();\n\n  setDefaultPointOptions(pointOptions, this._peaks.options);\n\n  validatePointOptions(pointOptions, false);\n\n  return new Point(this._peaks, pid, pointOptions);\n};\n\n/**\n * Returns all points.\n *\n * @returns {Array<Point>}\n */\n\nWaveformPoints.prototype.getPoints = function() {\n  return this._points;\n};\n\n/**\n * Returns the point with the given id, or <code>undefined</code> if not found.\n *\n * @param {String} id\n * @returns {Point}\n */\n\nWaveformPoints.prototype.getPoint = function(id) {\n  return this._pointsById[id];\n};\n\n/**\n * Returns all points within a given time region.\n *\n * @param {Number} startTime The start of the time region, in seconds.\n * @param {Number} endTime The end of the time region, in seconds.\n * @returns {Array<Point>}\n */\n\nWaveformPoints.prototype.find = function(startTime, endTime) {\n  return this._points.filter(function(point) {\n    return point.isVisible(startTime, endTime);\n  });\n};\n\n/**\n * Adds one or more points to the timeline.\n *\n * @param {PointOptions|Array<PointOptions>} pointOrPoints\n *\n * @returns Point|Array<Point>\n */\n\nWaveformPoints.prototype.add = function(/* pointOrPoints */) {\n  const self = this;\n\n  const arrayArgs = Array.isArray(arguments[0]);\n  let points = arrayArgs ?\n               arguments[0] :\n               Array.prototype.slice.call(arguments);\n\n  points = points.map(function(pointOptions) {\n    const point = self._createPoint(pointOptions);\n\n    if (objectHasProperty(self._pointsById, point.id)) {\n      throw new Error('peaks.points.add(): duplicate id');\n    }\n\n    return point;\n  });\n\n  points.forEach(function(point) {\n    self._addPoint(point);\n  });\n\n  this._peaks.emit('points.add', {\n    points: points\n  });\n\n  return arrayArgs ? points : points[0];\n};\n\nWaveformPoints.prototype.updatePointId = function(point, newPointId) {\n  if (this._pointsById[point.id]) {\n    if (this._pointsById[newPointId]) {\n      throw new Error('point.update(): duplicate id');\n    }\n    else {\n      delete this._pointsById[point.id];\n      this._pointsById[newPointId] = point;\n    }\n  }\n};\n\n/**\n * Returns the indexes of points that match the given predicate.\n *\n * @private\n * @param {Function} predicate Predicate function to find matching points.\n * @returns {Array<Number>} An array of indexes into the points array of\n *   the matching elements.\n */\n\nWaveformPoints.prototype._findPoint = function(predicate) {\n  const indexes = [];\n\n  for (let i = 0, length = this._points.length; i < length; i++) {\n    if (predicate(this._points[i])) {\n      indexes.push(i);\n    }\n  }\n\n  return indexes;\n};\n\n/**\n * Removes the points at the given array indexes.\n *\n * @private\n * @param {Array<Number>} indexes The array indexes to remove.\n * @returns {Array<Point>} The removed {@link Point} objects.\n */\n\nWaveformPoints.prototype._removeIndexes = function(indexes) {\n  const removed = [];\n\n  for (let i = 0; i < indexes.length; i++) {\n    const index = indexes[i] - removed.length;\n\n    const itemRemoved = this._points.splice(index, 1)[0];\n\n    delete this._pointsById[itemRemoved.id];\n    delete this._pointsByPid[itemRemoved.pid];\n\n    removed.push(itemRemoved);\n  }\n\n  return removed;\n};\n\n/**\n * Removes all points that match a given predicate function.\n *\n * After removing the points, this function emits a\n * <code>points.remove</code> event with the removed {@link Point}\n * objects.\n *\n * @private\n * @param {Function} predicate A predicate function that identifies which\n *   points to remove.\n * @returns {Array<Point>} The removed {@link Points} objects.\n */\n\nWaveformPoints.prototype._removePoints = function(predicate) {\n  const indexes = this._findPoint(predicate);\n\n  const removed = this._removeIndexes(indexes);\n\n  this._peaks.emit('points.remove', {\n    points: removed\n  });\n\n  return removed;\n};\n\n/**\n * Removes the given point.\n *\n * @param {Point} point The point to remove.\n * @returns {Array<Point>} The removed points.\n */\n\nWaveformPoints.prototype.remove = function(point) {\n  return this._removePoints(function(p) {\n    return p === point;\n  });\n};\n\n/**\n * Removes any points with the given id.\n *\n * @param {String} id\n * @returns {Array<Point>} The removed {@link Point} objects.\n */\n\nWaveformPoints.prototype.removeById = function(pointId) {\n  return this._removePoints(function(point) {\n    return point.id === pointId;\n  });\n};\n\n/**\n * Removes any points at the given time.\n *\n * @param {Number} time\n * @returns {Array<Point>} The removed {@link Point} objects.\n */\n\nWaveformPoints.prototype.removeByTime = function(time) {\n  return this._removePoints(function(point) {\n    return point.time === time;\n  });\n};\n\n/**\n * Removes all points.\n *\n * After removing the points, this function emits a\n * <code>points.remove_all</code> event.\n */\n\nWaveformPoints.prototype.removeAll = function() {\n  this._points = [];\n  this._pointsById = {};\n  this._pointsByPid = {};\n  this._peaks.emit('points.remove_all');\n};\n\nexport default WaveformPoints;\n","/**\n * @file\n *\n * Defines the {@link Segment} class.\n *\n * @module segment\n */\n\nimport {\n  isBoolean, isNullOrUndefined, isLinearGradientColor,\n  isString, isValidTime, objectHasProperty\n} from './utils';\n\nconst segmentOptions = [\n  'id', 'pid', 'startTime', 'endTime', 'labelText', 'color', 'borderColor',\n  'markers', 'overlay', 'editable'\n];\n\nconst invalidOptions = [\n  'update', 'isVisible', 'peaks', 'pid'\n];\n\nfunction setDefaultSegmentOptions(options, globalSegmentOptions) {\n  if (isNullOrUndefined(options.color)) {\n    if (globalSegmentOptions.overlay) {\n      options.color = globalSegmentOptions.overlayColor;\n    }\n    else {\n      options.color = globalSegmentOptions.waveformColor;\n    }\n  }\n\n  if (isNullOrUndefined(options.borderColor)) {\n    options.borderColor = globalSegmentOptions.overlayBorderColor;\n  }\n\n  if (isNullOrUndefined(options.labelText)) {\n    options.labelText = '';\n  }\n\n  if (isNullOrUndefined(options.markers)) {\n    options.markers = globalSegmentOptions.markers;\n  }\n\n  if (isNullOrUndefined(options.overlay)) {\n    options.overlay = globalSegmentOptions.overlay;\n  }\n\n  if (isNullOrUndefined(options.editable)) {\n    options.editable = false;\n  }\n}\n\nfunction validateSegmentOptions(options, updating) {\n  const context = updating ? 'update()' : 'add()';\n\n  if (objectHasProperty(options, 'startTime') && !isValidTime(options.startTime)) {\n    throw new TypeError('peaks.segments.' + context + ': startTime should be a valid number');\n  }\n\n  if (objectHasProperty(options, 'endTime') && !isValidTime(options.endTime)) {\n    throw new TypeError('peaks.segments.' + context + ': endTime should be a valid number');\n  }\n\n  if (!updating) {\n    if (!objectHasProperty(options, 'startTime') || !objectHasProperty(options, 'endTime')) {\n      throw new TypeError('peaks.segments.' + context + ': missing startTime or endTime');\n    }\n  }\n\n  if (options.startTime < 0) {\n    throw new RangeError('peaks.segments.' + context + ': startTime should not be negative');\n  }\n\n  if (options.endTime < 0) {\n    throw new RangeError('peaks.segments.' + context + ': endTime should not be negative');\n  }\n\n  if (options.endTime < options.startTime) {\n    // eslint-disable-next-line @stylistic/js/max-len\n    throw new RangeError('peaks.segments.' + context + ': endTime should not be less than startTime');\n  }\n\n  if (objectHasProperty(options, 'labelText') && !isString(options.labelText)) {\n    throw new TypeError('peaks.segments.' + context + ': labelText must be a string');\n  }\n\n  if (updating && objectHasProperty(options, 'markers')) {\n    throw new TypeError('peaks.segments.' + context + ': cannot update markers attribute');\n  }\n\n  if (objectHasProperty(options, 'markers') && !isBoolean(options.markers)) {\n    throw new TypeError('peaks.segments.' + context + ': markers must be true or false');\n  }\n\n  if (updating && objectHasProperty(options, 'overlay')) {\n    throw new TypeError('peaks.segments.' + context + ': cannot update overlay attribute');\n  }\n\n  if (objectHasProperty(options, 'overlay') && !isBoolean(options.overlay)) {\n    throw new TypeError('peaks.segments.' + context + ': overlay must be true or false');\n  }\n\n  if (objectHasProperty(options, 'editable') && !isBoolean(options.editable)) {\n    throw new TypeError('peaks.segments.' + context + ': editable must be true or false');\n  }\n\n  if (objectHasProperty(options, 'color') &&\n    !isString(options.color) &&\n    !isLinearGradientColor(options.color)) {\n    // eslint-disable-next-line @stylistic/js/max-len\n    throw new TypeError('peaks.segments.' + context + ': color must be a string or a valid linear gradient object');\n  }\n\n  if (objectHasProperty(options, 'borderColor') && !isString(options.borderColor)) {\n    throw new TypeError('peaks.segments.' + context + ': borderColor must be a string');\n  }\n\n  invalidOptions.forEach(function(name) {\n    if (objectHasProperty(options, name)) {\n      throw new Error('peaks.segments.' + context + ': invalid option name: ' + name);\n    }\n  });\n\n  segmentOptions.forEach(function(name) {\n    if (objectHasProperty(options, '_' + name)) {\n      throw new Error('peaks.segments.' + context + ': invalid option name: _' + name);\n    }\n  });\n}\n\n/**\n * A segment is a region of time, with associated label and color.\n *\n * @class\n * @alias Segment\n *\n * @param {Peaks} peaks A reference to the Peaks instance.\n * @param {Number} pid An internal unique identifier for the segment.\n * @param {SegmentOptions} options User specified segment attributes.\n */\n\nfunction Segment(peaks, pid, options) {\n  this._peaks       = peaks;\n  this._pid         = pid;\n  this._id          = options.id;\n  this._startTime   = options.startTime;\n  this._endTime     = options.endTime;\n  this._labelText   = options.labelText;\n  this._color       = options.color;\n  this._borderColor = options.borderColor;\n  this._editable    = options.editable;\n  this._markers     = options.markers;\n  this._overlay     = options.overlay;\n\n  this._setUserData(options);\n}\n\nSegment.prototype._setUserData = function(options) {\n  for (const key in options) {\n    if (objectHasProperty(options, key)) {\n      if (segmentOptions.indexOf(key) === -1) {\n        this[key] = options[key];\n      }\n      else {\n        this['_' + key] = options[key];\n      }\n    }\n  }\n};\n\nObject.defineProperties(Segment.prototype, {\n  id: {\n    enumerable: true,\n    get: function() {\n      return this._id;\n    }\n  },\n  pid: {\n    enumerable: true,\n    get: function() {\n      return this._pid;\n    }\n  },\n  startTime: {\n    enumerable: true,\n    get: function() {\n      return this._startTime;\n    }\n  },\n  endTime: {\n    enumerable: true,\n    get: function() {\n      return this._endTime;\n    }\n  },\n  labelText: {\n    enumerable: true,\n    get: function() {\n      return this._labelText;\n    }\n  },\n  color: {\n    enumerable: true,\n    get: function() {\n      return this._color;\n    }\n  },\n  borderColor: {\n    enumerable: true,\n    get: function() {\n      return this._borderColor;\n    }\n  },\n  markers: {\n    enumerable: true,\n    get: function() {\n      return this._markers;\n    }\n  },\n  overlay: {\n    enumerable: true,\n    get: function() {\n      return this._overlay;\n    }\n  },\n  editable: {\n    enumerable: true,\n    get: function() {\n      return this._editable;\n    }\n  }\n});\n\nSegment.prototype.update = function(options) {\n  validateSegmentOptions(options, true);\n\n  if (objectHasProperty(options, 'id')) {\n    if (isNullOrUndefined(options.id)) {\n      throw new TypeError('segment.update(): invalid id');\n    }\n\n    this._peaks.segments.updateSegmentId(this, options.id);\n  }\n\n  this._setUserData(options);\n\n  this._peaks.emit('segments.update', this, options);\n};\n\n/**\n * Returns <code>true</code> if the segment overlaps a given time region.\n *\n * @param {Number} startTime The start of the time region, in seconds.\n * @param {Number} endTime The end of the time region, in seconds.\n * @returns {Boolean}\n */\n\nSegment.prototype.isVisible = function(startTime, endTime) {\n  // A special case, where the segment has zero duration\n  // and is at the start of the region.\n  if (this.startTime === this.endTime && this.startTime === startTime) {\n    return true;\n  }\n\n  // Segment ends before start of region.\n  if (this.endTime <= startTime) {\n    return false;\n  }\n\n  // Segment starts after end of region\n  if (this.startTime >= endTime) {\n    return false;\n  }\n\n  return true;\n};\n\nSegment.prototype._setStartTime = function(time) {\n  this._startTime = time;\n};\n\nSegment.prototype._setEndTime = function(time) {\n  this._endTime = time;\n};\n\nexport { Segment, setDefaultSegmentOptions, validateSegmentOptions };\n","/**\n * @file\n *\n * Defines the {@link WaveformSegments} class.\n *\n * @module waveform-segments\n */\n\nimport { Segment, setDefaultSegmentOptions, validateSegmentOptions } from './segment';\nimport { extend, isNullOrUndefined, objectHasProperty } from './utils';\n\n/**\n * Segment parameters.\n *\n * @typedef {Object} SegmentOptions\n * @global\n * @property {Number} startTime Segment start time, in seconds.\n * @property {Number} endTime Segment end time, in seconds.\n * @property {Boolean=} editable If <code>true</code> the segment start and\n *   end times can be adjusted via the user interface.\n *   Default: <code>false</code>.\n * @property {String=} color Segment waveform color.\n *   Default: Set by the <code>segmentOptions.waveformColor</code> option\n *   or the <code>segmentOptions.overlayColor</code> option.\n * @property {String=} borderColor Segment border color.\n *   Default: Set by the <code>segmentOptions.overlayBorderColor</code> option.\n * @property {String=} labelText Segment label text.\n *   Default: an empty string.\n * @property {String=} id A unique segment identifier.\n *   Default: an automatically generated identifier.\n * @property {*} data Optional application specific data.\n */\n\n/**\n * Handles all functionality related to the adding, removing and manipulation\n * of segments.\n *\n * @class\n * @alias WaveformSegments\n *\n * @param {Peaks} peaks The parent Peaks object.\n */\n\nfunction WaveformSegments(peaks) {\n  this._peaks = peaks;\n  this._segments = [];\n  this._segmentsById = {};\n  this._segmentsByPid = {};\n  this._segmentIdCounter = 0;\n  this._segmentPid = 0;\n  this._isInserting = false;\n}\n\n/**\n * Returns a new unique segment id value.\n *\n * @private\n * @returns {String}\n */\n\nWaveformSegments.prototype._getNextSegmentId = function() {\n  return 'peaks.segment.' + this._segmentIdCounter++;\n};\n\n/**\n * Returns a new unique segment id value, for internal use within\n * Peaks.js only.\n *\n * @private\n * @returns {Number}\n */\n\nWaveformSegments.prototype._getNextPid = function() {\n  return this._segmentPid++;\n};\n\n/**\n * Adds a new segment object.\n *\n * @private\n * @param {Segment} segment\n */\n\nWaveformSegments.prototype._addSegment = function(segment) {\n  this._segments.push(segment);\n\n  this._segmentsById[segment.id] = segment;\n  this._segmentsByPid[segment.pid] = segment;\n};\n\n/**\n * Creates a new segment object.\n *\n * @private\n * @param {SegmentOptions} options\n * @return {Segment}\n */\n\nWaveformSegments.prototype._createSegment = function(options) {\n  const segmentOptions = {};\n\n  extend(segmentOptions, options);\n\n  if (isNullOrUndefined(segmentOptions.id)) {\n    segmentOptions.id = this._getNextSegmentId();\n  }\n\n  const pid = this._getNextPid();\n\n  setDefaultSegmentOptions(segmentOptions, this._peaks.options.segmentOptions);\n\n  validateSegmentOptions(segmentOptions, false);\n\n  return new Segment(this._peaks, pid, segmentOptions);\n};\n\n/**\n * Returns all segments.\n *\n * @returns {Array<Segment>}\n */\n\nWaveformSegments.prototype.getSegments = function() {\n  return this._segments;\n};\n\n/**\n * Returns the segment with the given id, or <code>undefined</code> if not found.\n *\n * @param {String} id\n * @returns {Segment}\n */\n\nWaveformSegments.prototype.getSegment = function(id) {\n  return this._segmentsById[id];\n};\n\n/**\n * Returns all segments that overlap a given point in time.\n *\n * @param {Number} time\n * @returns {Array<Segment>}\n */\n\nWaveformSegments.prototype.getSegmentsAtTime = function(time) {\n  return this._segments.filter(function(segment) {\n    return time >= segment.startTime && time < segment.endTime;\n  });\n};\n\n/**\n * Returns all segments that overlap a given time region.\n *\n * @param {Number} startTime The start of the time region, in seconds.\n * @param {Number} endTime The end of the time region, in seconds.\n *\n * @returns {Array<Segment>}\n */\n\nWaveformSegments.prototype.find = function(startTime, endTime) {\n  return this._segments.filter(function(segment) {\n    return segment.isVisible(startTime, endTime);\n  });\n};\n\n/**\n * Returns a copy of the segments array, sorted by ascending segment start time.\n *\n * @returns {Array<Segment>}\n */\n\nWaveformSegments.prototype._getSortedSegments = function() {\n  return this._segments.slice().sort(function(a, b) {\n    return a.startTime - b.startTime;\n  });\n};\n\nWaveformSegments.prototype.findPreviousSegment = function(segment) {\n  const sortedSegments = this._getSortedSegments();\n\n  const index = sortedSegments.findIndex(function(s) {\n    return s.id === segment.id;\n  });\n\n  if (index !== -1) {\n    return sortedSegments[index - 1];\n  }\n\n  return undefined;\n};\n\nWaveformSegments.prototype.findNextSegment = function(segment) {\n  const sortedSegments = this._getSortedSegments();\n\n  const index = sortedSegments.findIndex(function(s) {\n    return s.id === segment.id;\n  });\n\n  if (index !== -1) {\n    return sortedSegments[index + 1];\n  }\n\n  return undefined;\n};\n\n/**\n * Adds one or more segments to the timeline.\n *\n * @param {SegmentOptions|Array<SegmentOptions>} segmentOrSegments\n *\n * @returns Segment|Array<Segment>\n */\n\nWaveformSegments.prototype.add = function(/* segmentOrSegments */) {\n  const self = this;\n\n  const arrayArgs = Array.isArray(arguments[0]);\n  let segments = arrayArgs ?\n                 arguments[0] :\n                 Array.prototype.slice.call(arguments);\n\n  segments = segments.map(function(segmentOptions) {\n    const segment = self._createSegment(segmentOptions);\n\n    if (objectHasProperty(self._segmentsById, segment.id)) {\n      throw new Error('peaks.segments.add(): duplicate id');\n    }\n\n    return segment;\n  });\n\n  segments.forEach(function(segment) {\n    self._addSegment(segment);\n  });\n\n  this._peaks.emit('segments.add', {\n    segments: segments,\n    insert: this._isInserting\n  });\n\n  return arrayArgs ? segments : segments[0];\n};\n\nWaveformSegments.prototype.updateSegmentId = function(segment, newSegmentId) {\n  if (this._segmentsById[segment.id]) {\n    if (this._segmentsById[newSegmentId]) {\n      throw new Error('segment.update(): duplicate id');\n    }\n    else {\n      delete this._segmentsById[segment.id];\n      this._segmentsById[newSegmentId] = segment;\n    }\n  }\n};\n\n/**\n * Returns the indexes of segments that match the given predicate.\n *\n * @private\n * @param {Function} predicate Predicate function to find matching segments.\n * @returns {Array<Number>} An array of indexes into the segments array of\n *   the matching elements.\n */\n\nWaveformSegments.prototype._findSegment = function(predicate) {\n  const indexes = [];\n\n  for (let i = 0, length = this._segments.length; i < length; i++) {\n    if (predicate(this._segments[i])) {\n      indexes.push(i);\n    }\n  }\n\n  return indexes;\n};\n\n/**\n * Removes the segments at the given array indexes.\n *\n * @private\n * @param {Array<Number>} indexes The array indexes to remove.\n * @returns {Array<Segment>} The removed {@link Segment} objects.\n */\n\nWaveformSegments.prototype._removeIndexes = function(indexes) {\n  const removed = [];\n\n  for (let i = 0; i < indexes.length; i++) {\n    const index = indexes[i] - removed.length;\n\n    const itemRemoved = this._segments.splice(index, 1)[0];\n\n    delete this._segmentsById[itemRemoved.id];\n    delete this._segmentsByPid[itemRemoved.pid];\n\n    removed.push(itemRemoved);\n  }\n\n  return removed;\n};\n\n/**\n * Removes all segments that match a given predicate function.\n *\n * After removing the segments, this function also emits a\n * <code>segments.remove</code> event with the removed {@link Segment}\n * objects.\n *\n * @private\n * @param {Function} predicate A predicate function that identifies which\n *   segments to remove.\n * @returns {Array<Segment>} The removed {@link Segment} objects.\n */\n\nWaveformSegments.prototype._removeSegments = function(predicate) {\n  const indexes = this._findSegment(predicate);\n\n  const removed = this._removeIndexes(indexes);\n\n  this._peaks.emit('segments.remove', {\n    segments: removed\n  });\n\n  return removed;\n};\n\n/**\n * Removes the given segment.\n *\n * @param {Segment} segment The segment to remove.\n * @returns {Array<Segment>} The removed segment.\n */\n\nWaveformSegments.prototype.remove = function(segment) {\n  return this._removeSegments(function(s) {\n    return s === segment;\n  });\n};\n\n/**\n * Removes any segments with the given id.\n *\n * @param {String} id\n * @returns {Array<Segment>} The removed {@link Segment} objects.\n */\n\nWaveformSegments.prototype.removeById = function(segmentId) {\n  return this._removeSegments(function(segment) {\n    return segment.id === segmentId;\n  });\n};\n\n/**\n * Removes any segments with the given start time, and optional end time.\n *\n * @param {Number} startTime Segments with this start time are removed.\n * @param {Number?} endTime If present, only segments with both the given\n *   start time and end time are removed.\n * @returns {Array<Segment>} The removed {@link Segment} objects.\n */\n\nWaveformSegments.prototype.removeByTime = function(startTime, endTime) {\n  endTime = (typeof endTime === 'number') ? endTime : 0;\n\n  let filter;\n\n  if (endTime > 0) {\n    filter = function(segment) {\n      return segment.startTime === startTime && segment.endTime === endTime;\n    };\n  }\n  else {\n    filter = function(segment) {\n      return segment.startTime === startTime;\n    };\n  }\n\n  return this._removeSegments(filter);\n};\n\n/**\n * Removes all segments.\n *\n * After removing the segments, this function emits a\n * <code>segments.remove_all</code> event.\n */\n\nWaveformSegments.prototype.removeAll = function() {\n  this._segments = [];\n  this._segmentsById = {};\n  this._segmentsByPid = {};\n  this._peaks.emit('segments.remove_all');\n};\n\nWaveformSegments.prototype.setInserting = function(value) {\n  this._isInserting = value;\n};\n\nWaveformSegments.prototype.isInserting = function() {\n  return this._isInserting;\n};\n\nexport default WaveformSegments;\n","/**\n * @file\n *\n * Defines the {@link KeyboardHandler} class.\n *\n * @module keyboard-handler\n */\n\nconst nodes = ['OBJECT', 'TEXTAREA', 'INPUT', 'SELECT', 'OPTION'];\n\nconst SPACE = 32,\n    TAB = 9,\n    LEFT_ARROW = 37,\n    RIGHT_ARROW = 39;\n\nconst keys = [SPACE, TAB, LEFT_ARROW, RIGHT_ARROW];\n\n/**\n * Configures keyboard event handling.\n *\n * @class\n * @alias KeyboardHandler\n *\n * @param {EventEmitter} eventEmitter\n */\n\nfunction KeyboardHandler(eventEmitter) {\n  this.eventEmitter = eventEmitter;\n\n  this._handleKeyEvent = this._handleKeyEvent.bind(this);\n\n  document.addEventListener('keydown', this._handleKeyEvent);\n  document.addEventListener('keypress', this._handleKeyEvent);\n  document.addEventListener('keyup', this._handleKeyEvent);\n}\n\n/**\n * Keyboard event handler function.\n *\n * @note Arrow keys only triggered on keydown, not keypress.\n *\n * @param {KeyboardEvent} event\n * @private\n */\n\nKeyboardHandler.prototype._handleKeyEvent = function handleKeyEvent(event) {\n  if (nodes.indexOf(event.target.nodeName) === -1) {\n    if (keys.indexOf(event.type) > -1) {\n      event.preventDefault();\n    }\n\n    if (event.type === 'keydown' || event.type === 'keypress') {\n      switch (event.keyCode) {\n        case SPACE:\n          this.eventEmitter.emit('keyboard.space');\n          break;\n\n        case TAB:\n          this.eventEmitter.emit('keyboard.tab');\n          break;\n      }\n    }\n    else if (event.type === 'keyup') {\n      switch (event.keyCode) {\n        case LEFT_ARROW:\n          if (event.shiftKey) {\n            this.eventEmitter.emit('keyboard.shift_left');\n          }\n          else {\n            this.eventEmitter.emit('keyboard.left');\n          }\n          break;\n\n        case RIGHT_ARROW:\n          if (event.shiftKey) {\n            this.eventEmitter.emit('keyboard.shift_right');\n          }\n          else {\n            this.eventEmitter.emit('keyboard.right');\n          }\n          break;\n      }\n    }\n  }\n};\n\nKeyboardHandler.prototype.destroy = function() {\n  document.removeEventListener('keydown', this._handleKeyEvent);\n  document.removeEventListener('keypress', this._handleKeyEvent);\n  document.removeEventListener('keyup', this._handleKeyEvent);\n};\n\nexport default KeyboardHandler;\n","/**\n * @file\n *\n * Implementation of {@link Player} adapter based on an <code>&lt;audio&gt;</code>\n * or <code>&lt;video&gt;</code> HTML element.\n *\n * @module mediaelement-player\n */\n\n/**\n * Checks whether the given HTMLMediaElement has either a src attribute\n * or any child <code>&lt;source&gt;</code> nodes.\n */\n\nfunction mediaElementHasSource(mediaElement) {\n  if (mediaElement.src) {\n    return true;\n  }\n\n  if (mediaElement.querySelector('source')) {\n    return true;\n  }\n\n  return false;\n}\n\n/**\n * A wrapper for interfacing with the HTMLMediaElement API.\n * Initializes the player for a given media element.\n *\n * @class\n * @alias MediaElementPlayer\n * @param {HTMLMediaElement} mediaElement The HTML <code>&lt;audio&gt;</code>\n *   or <code>&lt;video&gt;</code> element to associate with the\n *   {@link Peaks} instance.\n */\n\nfunction MediaElementPlayer(mediaElement) {\n  this._mediaElement = mediaElement;\n}\n\n/**\n * Adds an event listener to the media element.\n *\n * @private\n * @param {String} type The event type to listen for.\n * @param {Function} callback An event handler function.\n */\n\nMediaElementPlayer.prototype._addMediaListener = function(type, callback) {\n  this._listeners.push({ type: type, callback: callback });\n  this._mediaElement.addEventListener(type, callback);\n};\n\nMediaElementPlayer.prototype.init = function(eventEmitter) {\n  const self = this;\n\n  self._eventEmitter = eventEmitter;\n  self._listeners = [];\n  self._duration = self.getDuration();\n\n  self._addMediaListener('timeupdate', function() {\n    self._eventEmitter.emit('player.timeupdate', self.getCurrentTime());\n  });\n\n  self._addMediaListener('playing', function() {\n    self._eventEmitter.emit('player.playing', self.getCurrentTime());\n  });\n\n  self._addMediaListener('pause', function() {\n    self._eventEmitter.emit('player.pause', self.getCurrentTime());\n  });\n\n  self._addMediaListener('ended', function() {\n    self._eventEmitter.emit('player.ended');\n  });\n\n  self._addMediaListener('seeked', function() {\n    self._eventEmitter.emit('player.seeked', self.getCurrentTime());\n  });\n\n  self._addMediaListener('canplay', function() {\n    self._eventEmitter.emit('player.canplay');\n  });\n\n  self._addMediaListener('error', function(event) {\n    self._eventEmitter.emit('player.error', event.target.error);\n  });\n\n  self._interval = null;\n\n  if (!mediaElementHasSource(self._mediaElement)) {\n    return Promise.resolve();\n  }\n  else if (self._mediaElement.error &&\n           self._mediaElement.error.code === MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED) {\n    // The media element has a source, but the format is not supported.\n    return Promise.reject(self._mediaElement.error);\n  }\n\n  return new Promise(function(resolve, reject) {\n    function eventHandler(event) {\n      self._mediaElement.removeEventListener('loadedmetadata', eventHandler);\n      self._mediaElement.removeEventListener('error', eventHandler);\n\n      if (event.type === 'loadedmetadata') {\n        resolve();\n      }\n      else {\n        reject(event.target.error);\n      }\n    }\n\n    // If the media element has preload=\"none\", clicking to seek in the\n    // waveform won't work, so here we force the media to load.\n    if (self._mediaElement.readyState === HTMLMediaElement.HAVE_NOTHING) {\n      // Wait for the readyState to change to HAVE_METADATA so we know the\n      // duration is valid, otherwise it could be NaN.\n      self._mediaElement.addEventListener('loadedmetadata', eventHandler);\n      self._mediaElement.addEventListener('error', eventHandler);\n      self._mediaElement.load();\n    }\n    else {\n      resolve();\n    }\n  });\n};\n\n/**\n * Cleans up the player object, removing all event listeners from the\n * associated media element.\n */\n\nMediaElementPlayer.prototype.destroy = function() {\n  for (let i = 0; i < this._listeners.length; i++) {\n    const listener = this._listeners[i];\n\n    this._mediaElement.removeEventListener(\n      listener.type,\n      listener.callback\n    );\n  }\n\n  this._listeners.length = 0;\n\n  this._mediaElement = null;\n};\n\nMediaElementPlayer.prototype.play = function() {\n  return this._mediaElement.play();\n};\n\nMediaElementPlayer.prototype.pause = function() {\n  this._mediaElement.pause();\n};\n\nMediaElementPlayer.prototype.isPlaying = function() {\n  return !this._mediaElement.paused;\n};\n\nMediaElementPlayer.prototype.isSeeking = function() {\n  return this._mediaElement.seeking;\n};\n\nMediaElementPlayer.prototype.getCurrentTime = function() {\n  return this._mediaElement.currentTime;\n};\n\nMediaElementPlayer.prototype.getDuration = function() {\n  return this._mediaElement.duration;\n};\n\nMediaElementPlayer.prototype.seek = function(time) {\n  this._mediaElement.currentTime = time;\n};\n\nfunction SetSourceHandler(eventEmitter, mediaElement) {\n  this._eventEmitter = eventEmitter;\n  this._mediaElement = mediaElement;\n  this._playerCanPlayHandler = this._playerCanPlayHandler.bind(this);\n  this._playerErrorHandler = this._playerErrorHandler.bind(this);\n}\n\nSetSourceHandler.prototype.setSource = function(options, callback) {\n  const self = this;\n\n  self._options = options;\n  self._callback = callback;\n\n  self._eventEmitter.on('player.canplay', self._playerCanPlayHandler);\n  self._eventEmitter.on('player.error', self._playerErrorHandler);\n\n  return new Promise(function(resolve, reject) {\n    self._resolve = resolve;\n    self._reject = reject;\n\n    self._eventEmitter.on('player.canplay', self._playerCanPlayHandler);\n    self._eventEmitter.on('player.error', self._playerErrorHandler);\n\n    self._mediaElement.setAttribute('src', options.mediaUrl);\n\n    // Force the media element to load, in case the media element\n    // has preload=\"none\".\n    if (self._mediaElement.readyState === HTMLMediaElement.HAVE_NOTHING) {\n      self._mediaElement.load();\n    }\n  });\n};\n\nSetSourceHandler.prototype._reset = function() {\n  this._eventEmitter.removeListener('player.canplay', this._playerCanPlayHandler);\n  this._eventEmitter.removeListener('player.error', this._playerErrorHandler);\n};\n\nSetSourceHandler.prototype._playerCanPlayHandler = function() {\n  this._reset();\n\n  this._resolve();\n};\n\nSetSourceHandler.prototype._playerErrorHandler = function(err) {\n  this._reset();\n\n  // Return the MediaError object from the media element\n  this._reject(err);\n};\n\nMediaElementPlayer.prototype.setSource = function(options) {\n  if (!options.mediaUrl) {\n    // eslint-disable-next-line @stylistic/js/max-len\n    return Promise.reject(new Error('peaks.setSource(): options must contain a mediaUrl when using mediaElement'));\n  }\n\n  const setSourceHandler = new SetSourceHandler(this._eventEmitter, this._mediaElement);\n\n  return setSourceHandler.setSource(options);\n};\n\nexport default MediaElementPlayer;\n","/**\n * @file\n *\n * A general audio player class which interfaces with external audio players.\n * The default audio player in Peaks.js is {@link MediaElementPlayer}.\n *\n * @module player\n */\n\nimport { isValidTime } from './utils';\n\nfunction getAllPropertiesFrom(adapter) {\n  const allProperties = [];\n  let obj = adapter;\n\n  while (obj) {\n    Object.getOwnPropertyNames(obj).forEach(function(p) {\n      allProperties.push(p);\n    });\n\n    obj = Object.getPrototypeOf(obj);\n  }\n\n  return allProperties;\n}\n\nfunction validateAdapter(adapter) {\n  const publicAdapterMethods = [\n    'init',\n    'destroy',\n    'play',\n    'pause',\n    'isPlaying',\n    'isSeeking',\n    'getCurrentTime',\n    'getDuration',\n    'seek'\n  ];\n\n  const allProperties = getAllPropertiesFrom(adapter);\n\n  publicAdapterMethods.forEach(function(method) {\n    if (!allProperties.includes(method)) {\n      throw new TypeError('Peaks.init(): Player method ' + method + ' is undefined');\n    }\n\n    if ((typeof adapter[method]) !== 'function') {\n      throw new TypeError('Peaks.init(): Player method ' + method + ' is not a function');\n    }\n  });\n}\n\n/**\n * A wrapper for interfacing with an external player API.\n *\n * @class\n * @alias Player\n *\n * @param {Peaks} peaks The parent {@link Peaks} object.\n * @param {Adapter} adapter The player adapter.\n */\n\nfunction Player(peaks, adapter) {\n  this._peaks = peaks;\n\n  this._playingSegment = false;\n  this._segment = null;\n  this._loop = false;\n  this._playSegmentTimerCallback = this._playSegmentTimerCallback.bind(this);\n\n  validateAdapter(adapter);\n  this._adapter = adapter;\n}\n\nPlayer.prototype.init = function() {\n  return this._adapter.init(this._peaks);\n};\n\n/**\n * Cleans up the player object.\n */\n\nPlayer.prototype.destroy = function() {\n  this._adapter.destroy();\n};\n\n/**\n * Starts playback.\n * @returns {Promise}\n */\n\nPlayer.prototype.play = function() {\n  return this._adapter.play();\n};\n\n/**\n * Pauses playback.\n */\n\nPlayer.prototype.pause = function() {\n  this._adapter.pause();\n};\n\n/**\n * @returns {Boolean} <code>true</code> if playing, <code>false</code>\n * otherwise.\n */\n\nPlayer.prototype.isPlaying = function() {\n  return this._adapter.isPlaying();\n};\n\n/**\n * @returns {boolean} <code>true</code> if seeking\n */\n\nPlayer.prototype.isSeeking = function() {\n  return this._adapter.isSeeking();\n};\n\n/**\n * Returns the current playback time position, in seconds.\n *\n * @returns {Number}\n */\n\nPlayer.prototype.getCurrentTime = function() {\n  return this._adapter.getCurrentTime();\n};\n\n/**\n * Returns the media duration, in seconds.\n *\n * @returns {Number}\n */\n\nPlayer.prototype.getDuration = function() {\n  return this._adapter.getDuration();\n};\n\n/**\n * Seeks to a given time position within the media.\n *\n * @param {Number} time The time position, in seconds.\n */\n\nPlayer.prototype.seek = function(time) {\n  if (!isValidTime(time)) {\n    this._peaks._logger('peaks.player.seek(): parameter must be a valid time, in seconds');\n    return;\n  }\n\n  this._adapter.seek(time);\n};\n\n/**\n * Plays the given segment.\n *\n * @param {Segment} segment The segment denoting the time region to play.\n * @param {Boolean} loop If true, playback is looped.\n */\n\nPlayer.prototype.playSegment = function(segment, loop) {\n  const self = this;\n\n  if (!segment ||\n    !isValidTime(segment.startTime) ||\n    !isValidTime(segment.endTime)) {\n    return Promise.reject(\n      new Error('peaks.player.playSegment(): parameter must be a segment object')\n    );\n  }\n\n  self._segment = segment;\n  self._loop = loop;\n\n  // Set audio time to segment start time\n  self.seek(segment.startTime);\n\n  self._peaks.once('player.playing', function() {\n    if (!self._playingSegment) {\n      self._playingSegment = true;\n\n      // We need to use requestAnimationFrame here as the timeupdate event\n      // doesn't fire often enough.\n      window.requestAnimationFrame(self._playSegmentTimerCallback);\n    }\n  });\n\n  // Start playing audio\n  return self.play();\n};\n\nPlayer.prototype._playSegmentTimerCallback = function() {\n  if (!this.isPlaying()) {\n    this._playingSegment = false;\n    return;\n  }\n  else if (this.getCurrentTime() >= this._segment.endTime) {\n    if (this._loop) {\n      this.seek(this._segment.startTime);\n    }\n    else {\n      this.pause();\n      this._peaks.emit('player.ended');\n      this._playingSegment = false;\n      return;\n    }\n  }\n\n  window.requestAnimationFrame(this._playSegmentTimerCallback);\n};\n\nPlayer.prototype._setSource = function(options) {\n  return this._adapter.setSource(options);\n};\n\nexport default Player;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Line = void 0;\nconst Factory_1 = require(\"../Factory\");\nconst Global_1 = require(\"../Global\");\nconst Shape_1 = require(\"../Shape\");\nconst Validators_1 = require(\"../Validators\");\nfunction getControlPoints(x0, y0, x1, y1, x2, y2, t) {\n    const d01 = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2)), d12 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2)), fa = (t * d01) / (d01 + d12), fb = (t * d12) / (d01 + d12), p1x = x1 - fa * (x2 - x0), p1y = y1 - fa * (y2 - y0), p2x = x1 + fb * (x2 - x0), p2y = y1 + fb * (y2 - y0);\n    return [p1x, p1y, p2x, p2y];\n}\nfunction expandPoints(p, tension) {\n    const len = p.length, allPoints = [];\n    for (let n = 2; n < len - 2; n += 2) {\n        const cp = getControlPoints(p[n - 2], p[n - 1], p[n], p[n + 1], p[n + 2], p[n + 3], tension);\n        if (isNaN(cp[0])) {\n            continue;\n        }\n        allPoints.push(cp[0]);\n        allPoints.push(cp[1]);\n        allPoints.push(p[n]);\n        allPoints.push(p[n + 1]);\n        allPoints.push(cp[2]);\n        allPoints.push(cp[3]);\n    }\n    return allPoints;\n}\nclass Line extends Shape_1.Shape {\n    constructor(config) {\n        super(config);\n        this.on('pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva', function () {\n            this._clearCache('tensionPoints');\n        });\n    }\n    _sceneFunc(context) {\n        const points = this.points(), length = points.length, tension = this.tension(), closed = this.closed(), bezier = this.bezier();\n        if (!length) {\n            return;\n        }\n        let n = 0;\n        context.beginPath();\n        context.moveTo(points[0], points[1]);\n        if (tension !== 0 && length > 4) {\n            const tp = this.getTensionPoints();\n            const len = tp.length;\n            n = closed ? 0 : 4;\n            if (!closed) {\n                context.quadraticCurveTo(tp[0], tp[1], tp[2], tp[3]);\n            }\n            while (n < len - 2) {\n                context.bezierCurveTo(tp[n++], tp[n++], tp[n++], tp[n++], tp[n++], tp[n++]);\n            }\n            if (!closed) {\n                context.quadraticCurveTo(tp[len - 2], tp[len - 1], points[length - 2], points[length - 1]);\n            }\n        }\n        else if (bezier) {\n            n = 2;\n            while (n < length) {\n                context.bezierCurveTo(points[n++], points[n++], points[n++], points[n++], points[n++], points[n++]);\n            }\n        }\n        else {\n            for (n = 2; n < length; n += 2) {\n                context.lineTo(points[n], points[n + 1]);\n            }\n        }\n        if (closed) {\n            context.closePath();\n            context.fillStrokeShape(this);\n        }\n        else {\n            context.strokeShape(this);\n        }\n    }\n    getTensionPoints() {\n        return this._getCache('tensionPoints', this._getTensionPoints);\n    }\n    _getTensionPoints() {\n        if (this.closed()) {\n            return this._getTensionPointsClosed();\n        }\n        else {\n            return expandPoints(this.points(), this.tension());\n        }\n    }\n    _getTensionPointsClosed() {\n        const p = this.points(), len = p.length, tension = this.tension(), firstControlPoints = getControlPoints(p[len - 2], p[len - 1], p[0], p[1], p[2], p[3], tension), lastControlPoints = getControlPoints(p[len - 4], p[len - 3], p[len - 2], p[len - 1], p[0], p[1], tension), middle = expandPoints(p, tension), tp = [firstControlPoints[2], firstControlPoints[3]]\n            .concat(middle)\n            .concat([\n            lastControlPoints[0],\n            lastControlPoints[1],\n            p[len - 2],\n            p[len - 1],\n            lastControlPoints[2],\n            lastControlPoints[3],\n            firstControlPoints[0],\n            firstControlPoints[1],\n            p[0],\n            p[1],\n        ]);\n        return tp;\n    }\n    getWidth() {\n        return this.getSelfRect().width;\n    }\n    getHeight() {\n        return this.getSelfRect().height;\n    }\n    getSelfRect() {\n        let points = this.points();\n        if (points.length < 4) {\n            return {\n                x: points[0] || 0,\n                y: points[1] || 0,\n                width: 0,\n                height: 0,\n            };\n        }\n        if (this.tension() !== 0) {\n            points = [\n                points[0],\n                points[1],\n                ...this._getTensionPoints(),\n                points[points.length - 2],\n                points[points.length - 1],\n            ];\n        }\n        else {\n            points = this.points();\n        }\n        let minX = points[0];\n        let maxX = points[0];\n        let minY = points[1];\n        let maxY = points[1];\n        let x, y;\n        for (let i = 0; i < points.length / 2; i++) {\n            x = points[i * 2];\n            y = points[i * 2 + 1];\n            minX = Math.min(minX, x);\n            maxX = Math.max(maxX, x);\n            minY = Math.min(minY, y);\n            maxY = Math.max(maxY, y);\n        }\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n}\nexports.Line = Line;\nLine.prototype.className = 'Line';\nLine.prototype._attrsAffectingSize = ['points', 'bezier', 'tension'];\n(0, Global_1._registerNode)(Line);\nFactory_1.Factory.addGetterSetter(Line, 'closed', false);\nFactory_1.Factory.addGetterSetter(Line, 'bezier', false);\nFactory_1.Factory.addGetterSetter(Line, 'tension', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Line, 'points', [], (0, Validators_1.getNumberArrayValidator)());\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Rect = void 0;\nconst Factory_1 = require(\"../Factory\");\nconst Shape_1 = require(\"../Shape\");\nconst Global_1 = require(\"../Global\");\nconst Util_1 = require(\"../Util\");\nconst Validators_1 = require(\"../Validators\");\nclass Rect extends Shape_1.Shape {\n    _sceneFunc(context) {\n        const cornerRadius = this.cornerRadius(), width = this.width(), height = this.height();\n        context.beginPath();\n        if (!cornerRadius) {\n            context.rect(0, 0, width, height);\n        }\n        else {\n            Util_1.Util.drawRoundedRectPath(context, width, height, cornerRadius);\n        }\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n}\nexports.Rect = Rect;\nRect.prototype.className = 'Rect';\n(0, Global_1._registerNode)(Rect);\nFactory_1.Factory.addGetterSetter(Rect, 'cornerRadius', 0, (0, Validators_1.getNumberOrArrayOfNumbersValidator)(4));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Text = void 0;\nexports.stringToArray = stringToArray;\nconst Util_1 = require(\"../Util\");\nconst Factory_1 = require(\"../Factory\");\nconst Shape_1 = require(\"../Shape\");\nconst Global_1 = require(\"../Global\");\nconst Validators_1 = require(\"../Validators\");\nconst Global_2 = require(\"../Global\");\nfunction stringToArray(string) {\n    return [...string].reduce((acc, char, index, array) => {\n        if (/\\p{Emoji}/u.test(char)) {\n            const nextChar = array[index + 1];\n            if (nextChar && /\\p{Emoji_Modifier}|\\u200D/u.test(nextChar)) {\n                acc.push(char + nextChar);\n                array[index + 1] = '';\n            }\n            else {\n                acc.push(char);\n            }\n        }\n        else if (/\\p{Regional_Indicator}{2}/u.test(char + (array[index + 1] || ''))) {\n            acc.push(char + array[index + 1]);\n        }\n        else if (index > 0 && /\\p{Mn}|\\p{Me}|\\p{Mc}/u.test(char)) {\n            acc[acc.length - 1] += char;\n        }\n        else if (char) {\n            acc.push(char);\n        }\n        return acc;\n    }, []);\n}\nconst AUTO = 'auto', CENTER = 'center', INHERIT = 'inherit', JUSTIFY = 'justify', CHANGE_KONVA = 'Change.konva', CONTEXT_2D = '2d', DASH = '-', LEFT = 'left', TEXT = 'text', TEXT_UPPER = 'Text', TOP = 'top', BOTTOM = 'bottom', MIDDLE = 'middle', NORMAL = 'normal', PX_SPACE = 'px ', SPACE = ' ', RIGHT = 'right', RTL = 'rtl', WORD = 'word', CHAR = 'char', NONE = 'none', ELLIPSIS = '', ATTR_CHANGE_LIST = [\n    'direction',\n    'fontFamily',\n    'fontSize',\n    'fontStyle',\n    'fontVariant',\n    'padding',\n    'align',\n    'verticalAlign',\n    'lineHeight',\n    'text',\n    'width',\n    'height',\n    'wrap',\n    'ellipsis',\n    'letterSpacing',\n], attrChangeListLen = ATTR_CHANGE_LIST.length;\nfunction normalizeFontFamily(fontFamily) {\n    return fontFamily\n        .split(',')\n        .map((family) => {\n        family = family.trim();\n        const hasSpace = family.indexOf(' ') >= 0;\n        const hasQuotes = family.indexOf('\"') >= 0 || family.indexOf(\"'\") >= 0;\n        if (hasSpace && !hasQuotes) {\n            family = `\"${family}\"`;\n        }\n        return family;\n    })\n        .join(', ');\n}\nlet dummyContext;\nfunction getDummyContext() {\n    if (dummyContext) {\n        return dummyContext;\n    }\n    dummyContext = Util_1.Util.createCanvasElement().getContext(CONTEXT_2D);\n    return dummyContext;\n}\nfunction _fillFunc(context) {\n    context.fillText(this._partialText, this._partialTextX, this._partialTextY);\n}\nfunction _strokeFunc(context) {\n    context.setAttr('miterLimit', 2);\n    context.strokeText(this._partialText, this._partialTextX, this._partialTextY);\n}\nfunction checkDefaultFill(config) {\n    config = config || {};\n    if (!config.fillLinearGradientColorStops &&\n        !config.fillRadialGradientColorStops &&\n        !config.fillPatternImage) {\n        config.fill = config.fill || 'black';\n    }\n    return config;\n}\nclass Text extends Shape_1.Shape {\n    constructor(config) {\n        super(checkDefaultFill(config));\n        this._partialTextX = 0;\n        this._partialTextY = 0;\n        for (let n = 0; n < attrChangeListLen; n++) {\n            this.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, this._setTextData);\n        }\n        this._setTextData();\n    }\n    _sceneFunc(context) {\n        const textArr = this.textArr, textArrLen = textArr.length;\n        if (!this.text()) {\n            return;\n        }\n        let padding = this.padding(), fontSize = this.fontSize(), lineHeightPx = this.lineHeight() * fontSize, verticalAlign = this.verticalAlign(), direction = this.direction(), alignY = 0, align = this.align(), totalWidth = this.getWidth(), letterSpacing = this.letterSpacing(), fill = this.fill(), textDecoration = this.textDecoration(), shouldUnderline = textDecoration.indexOf('underline') !== -1, shouldLineThrough = textDecoration.indexOf('line-through') !== -1, n;\n        direction = direction === INHERIT ? context.direction : direction;\n        let translateY = lineHeightPx / 2;\n        let baseline = MIDDLE;\n        if (Global_1.Konva._fixTextRendering) {\n            const metrics = this.measureSize('M');\n            baseline = 'alphabetic';\n            translateY =\n                (metrics.fontBoundingBoxAscent - metrics.fontBoundingBoxDescent) / 2 +\n                    lineHeightPx / 2;\n        }\n        if (direction === RTL) {\n            context.setAttr('direction', direction);\n        }\n        context.setAttr('font', this._getContextFont());\n        context.setAttr('textBaseline', baseline);\n        context.setAttr('textAlign', LEFT);\n        if (verticalAlign === MIDDLE) {\n            alignY = (this.getHeight() - textArrLen * lineHeightPx - padding * 2) / 2;\n        }\n        else if (verticalAlign === BOTTOM) {\n            alignY = this.getHeight() - textArrLen * lineHeightPx - padding * 2;\n        }\n        context.translate(padding, alignY + padding);\n        for (n = 0; n < textArrLen; n++) {\n            let lineTranslateX = 0;\n            let lineTranslateY = 0;\n            const obj = textArr[n], text = obj.text, width = obj.width, lastLine = obj.lastInParagraph;\n            context.save();\n            if (align === RIGHT) {\n                lineTranslateX += totalWidth - width - padding * 2;\n            }\n            else if (align === CENTER) {\n                lineTranslateX += (totalWidth - width - padding * 2) / 2;\n            }\n            if (shouldUnderline) {\n                context.save();\n                context.beginPath();\n                const yOffset = Global_1.Konva._fixTextRendering\n                    ? Math.round(fontSize / 4)\n                    : Math.round(fontSize / 2);\n                const x = lineTranslateX;\n                const y = translateY + lineTranslateY + yOffset;\n                context.moveTo(x, y);\n                const lineWidth = align === JUSTIFY && !lastLine ? totalWidth - padding * 2 : width;\n                context.lineTo(x + Math.round(lineWidth), y);\n                context.lineWidth = fontSize / 15;\n                const gradient = this._getLinearGradient();\n                context.strokeStyle = gradient || fill;\n                context.stroke();\n                context.restore();\n            }\n            if (shouldLineThrough) {\n                context.save();\n                context.beginPath();\n                const yOffset = Global_1.Konva._fixTextRendering ? -Math.round(fontSize / 4) : 0;\n                context.moveTo(lineTranslateX, translateY + lineTranslateY + yOffset);\n                const lineWidth = align === JUSTIFY && !lastLine ? totalWidth - padding * 2 : width;\n                context.lineTo(lineTranslateX + Math.round(lineWidth), translateY + lineTranslateY + yOffset);\n                context.lineWidth = fontSize / 15;\n                const gradient = this._getLinearGradient();\n                context.strokeStyle = gradient || fill;\n                context.stroke();\n                context.restore();\n            }\n            if (direction !== RTL && (letterSpacing !== 0 || align === JUSTIFY)) {\n                const spacesNumber = text.split(' ').length - 1;\n                const array = stringToArray(text);\n                for (let li = 0; li < array.length; li++) {\n                    const letter = array[li];\n                    if (letter === ' ' && !lastLine && align === JUSTIFY) {\n                        lineTranslateX += (totalWidth - padding * 2 - width) / spacesNumber;\n                    }\n                    this._partialTextX = lineTranslateX;\n                    this._partialTextY = translateY + lineTranslateY;\n                    this._partialText = letter;\n                    context.fillStrokeShape(this);\n                    lineTranslateX += this.measureSize(letter).width + letterSpacing;\n                }\n            }\n            else {\n                if (letterSpacing !== 0) {\n                    context.setAttr('letterSpacing', `${letterSpacing}px`);\n                }\n                this._partialTextX = lineTranslateX;\n                this._partialTextY = translateY + lineTranslateY;\n                this._partialText = text;\n                context.fillStrokeShape(this);\n            }\n            context.restore();\n            if (textArrLen > 1) {\n                translateY += lineHeightPx;\n            }\n        }\n    }\n    _hitFunc(context) {\n        const width = this.getWidth(), height = this.getHeight();\n        context.beginPath();\n        context.rect(0, 0, width, height);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    setText(text) {\n        const str = Util_1.Util._isString(text)\n            ? text\n            : text === null || text === undefined\n                ? ''\n                : text + '';\n        this._setAttr(TEXT, str);\n        return this;\n    }\n    getWidth() {\n        const isAuto = this.attrs.width === AUTO || this.attrs.width === undefined;\n        return isAuto ? this.getTextWidth() + this.padding() * 2 : this.attrs.width;\n    }\n    getHeight() {\n        const isAuto = this.attrs.height === AUTO || this.attrs.height === undefined;\n        return isAuto\n            ? this.fontSize() * this.textArr.length * this.lineHeight() +\n                this.padding() * 2\n            : this.attrs.height;\n    }\n    getTextWidth() {\n        return this.textWidth;\n    }\n    getTextHeight() {\n        Util_1.Util.warn('text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height.');\n        return this.textHeight;\n    }\n    measureSize(text) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n        let _context = getDummyContext(), fontSize = this.fontSize(), metrics;\n        _context.save();\n        _context.font = this._getContextFont();\n        metrics = _context.measureText(text);\n        _context.restore();\n        const scaleFactor = fontSize / 100;\n        return {\n            actualBoundingBoxAscent: (_a = metrics.actualBoundingBoxAscent) !== null && _a !== void 0 ? _a : 71.58203125 * scaleFactor,\n            actualBoundingBoxDescent: (_b = metrics.actualBoundingBoxDescent) !== null && _b !== void 0 ? _b : 0,\n            actualBoundingBoxLeft: (_c = metrics.actualBoundingBoxLeft) !== null && _c !== void 0 ? _c : -7.421875 * scaleFactor,\n            actualBoundingBoxRight: (_d = metrics.actualBoundingBoxRight) !== null && _d !== void 0 ? _d : 75.732421875 * scaleFactor,\n            alphabeticBaseline: (_e = metrics.alphabeticBaseline) !== null && _e !== void 0 ? _e : 0,\n            emHeightAscent: (_f = metrics.emHeightAscent) !== null && _f !== void 0 ? _f : 100 * scaleFactor,\n            emHeightDescent: (_g = metrics.emHeightDescent) !== null && _g !== void 0 ? _g : -20 * scaleFactor,\n            fontBoundingBoxAscent: (_h = metrics.fontBoundingBoxAscent) !== null && _h !== void 0 ? _h : 91 * scaleFactor,\n            fontBoundingBoxDescent: (_j = metrics.fontBoundingBoxDescent) !== null && _j !== void 0 ? _j : 21 * scaleFactor,\n            hangingBaseline: (_k = metrics.hangingBaseline) !== null && _k !== void 0 ? _k : 72.80000305175781 * scaleFactor,\n            ideographicBaseline: (_l = metrics.ideographicBaseline) !== null && _l !== void 0 ? _l : -21 * scaleFactor,\n            width: metrics.width,\n            height: fontSize,\n        };\n    }\n    _getContextFont() {\n        return (this.fontStyle() +\n            SPACE +\n            this.fontVariant() +\n            SPACE +\n            (this.fontSize() + PX_SPACE) +\n            normalizeFontFamily(this.fontFamily()));\n    }\n    _addTextLine(line) {\n        const align = this.align();\n        if (align === JUSTIFY) {\n            line = line.trim();\n        }\n        const width = this._getTextWidth(line);\n        return this.textArr.push({\n            text: line,\n            width: width,\n            lastInParagraph: false,\n        });\n    }\n    _getTextWidth(text) {\n        const letterSpacing = this.letterSpacing();\n        const length = text.length;\n        return getDummyContext().measureText(text).width + letterSpacing * length;\n    }\n    _setTextData() {\n        let lines = this.text().split('\\n'), fontSize = +this.fontSize(), textWidth = 0, lineHeightPx = this.lineHeight() * fontSize, width = this.attrs.width, height = this.attrs.height, fixedWidth = width !== AUTO && width !== undefined, fixedHeight = height !== AUTO && height !== undefined, padding = this.padding(), maxWidth = width - padding * 2, maxHeightPx = height - padding * 2, currentHeightPx = 0, wrap = this.wrap(), shouldWrap = wrap !== NONE, wrapAtWord = wrap !== CHAR && shouldWrap, shouldAddEllipsis = this.ellipsis();\n        this.textArr = [];\n        getDummyContext().font = this._getContextFont();\n        const additionalWidth = shouldAddEllipsis\n            ? this._getTextWidth(ELLIPSIS)\n            : 0;\n        for (let i = 0, max = lines.length; i < max; ++i) {\n            let line = lines[i];\n            let lineWidth = this._getTextWidth(line);\n            if (fixedWidth && lineWidth > maxWidth) {\n                while (line.length > 0) {\n                    let low = 0, high = stringToArray(line).length, match = '', matchWidth = 0;\n                    while (low < high) {\n                        const mid = (low + high) >>> 1, lineArray = stringToArray(line), substr = lineArray.slice(0, mid + 1).join(''), substrWidth = this._getTextWidth(substr);\n                        const shouldConsiderEllipsis = shouldAddEllipsis &&\n                            fixedHeight &&\n                            currentHeightPx + lineHeightPx > maxHeightPx;\n                        const effectiveWidth = shouldConsiderEllipsis\n                            ? substrWidth + additionalWidth\n                            : substrWidth;\n                        if (effectiveWidth <= maxWidth) {\n                            low = mid + 1;\n                            match = substr;\n                            matchWidth = substrWidth;\n                        }\n                        else {\n                            high = mid;\n                        }\n                    }\n                    if (match) {\n                        if (wrapAtWord) {\n                            const lineArray = stringToArray(line);\n                            const matchArray = stringToArray(match);\n                            const nextChar = lineArray[matchArray.length];\n                            const nextIsSpaceOrDash = nextChar === SPACE || nextChar === DASH;\n                            let wrapIndex;\n                            if (nextIsSpaceOrDash && matchWidth <= maxWidth) {\n                                wrapIndex = matchArray.length;\n                            }\n                            else {\n                                const lastSpaceIndex = matchArray.lastIndexOf(SPACE);\n                                const lastDashIndex = matchArray.lastIndexOf(DASH);\n                                wrapIndex = Math.max(lastSpaceIndex, lastDashIndex) + 1;\n                            }\n                            if (wrapIndex > 0) {\n                                low = wrapIndex;\n                                match = lineArray.slice(0, low).join('');\n                                matchWidth = this._getTextWidth(match);\n                            }\n                        }\n                        match = match.trimRight();\n                        this._addTextLine(match);\n                        textWidth = Math.max(textWidth, matchWidth);\n                        currentHeightPx += lineHeightPx;\n                        const shouldHandleEllipsis = this._shouldHandleEllipsis(currentHeightPx);\n                        if (shouldHandleEllipsis) {\n                            this._tryToAddEllipsisToLastLine();\n                            break;\n                        }\n                        const lineArray = stringToArray(line);\n                        line = lineArray.slice(low).join('').trimLeft();\n                        if (line.length > 0) {\n                            lineWidth = this._getTextWidth(line);\n                            if (lineWidth <= maxWidth) {\n                                this._addTextLine(line);\n                                currentHeightPx += lineHeightPx;\n                                textWidth = Math.max(textWidth, lineWidth);\n                                break;\n                            }\n                        }\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n            else {\n                this._addTextLine(line);\n                currentHeightPx += lineHeightPx;\n                textWidth = Math.max(textWidth, lineWidth);\n                if (this._shouldHandleEllipsis(currentHeightPx) && i < max - 1) {\n                    this._tryToAddEllipsisToLastLine();\n                }\n            }\n            if (this.textArr[this.textArr.length - 1]) {\n                this.textArr[this.textArr.length - 1].lastInParagraph = true;\n            }\n            if (fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx) {\n                break;\n            }\n        }\n        this.textHeight = fontSize;\n        this.textWidth = textWidth;\n    }\n    _shouldHandleEllipsis(currentHeightPx) {\n        const fontSize = +this.fontSize(), lineHeightPx = this.lineHeight() * fontSize, height = this.attrs.height, fixedHeight = height !== AUTO && height !== undefined, padding = this.padding(), maxHeightPx = height - padding * 2, wrap = this.wrap(), shouldWrap = wrap !== NONE;\n        return (!shouldWrap ||\n            (fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx));\n    }\n    _tryToAddEllipsisToLastLine() {\n        const width = this.attrs.width, fixedWidth = width !== AUTO && width !== undefined, padding = this.padding(), maxWidth = width - padding * 2, shouldAddEllipsis = this.ellipsis();\n        const lastLine = this.textArr[this.textArr.length - 1];\n        if (!lastLine || !shouldAddEllipsis) {\n            return;\n        }\n        if (fixedWidth) {\n            const haveSpace = this._getTextWidth(lastLine.text + ELLIPSIS) < maxWidth;\n            if (!haveSpace) {\n                lastLine.text = lastLine.text.slice(0, lastLine.text.length - 3);\n            }\n        }\n        this.textArr.splice(this.textArr.length - 1, 1);\n        this._addTextLine(lastLine.text + ELLIPSIS);\n    }\n    getStrokeScaleEnabled() {\n        return true;\n    }\n    _useBufferCanvas() {\n        const hasLine = this.textDecoration().indexOf('underline') !== -1 ||\n            this.textDecoration().indexOf('line-through') !== -1;\n        const hasShadow = this.hasShadow();\n        if (hasLine && hasShadow) {\n            return true;\n        }\n        return super._useBufferCanvas();\n    }\n}\nexports.Text = Text;\nText.prototype._fillFunc = _fillFunc;\nText.prototype._strokeFunc = _strokeFunc;\nText.prototype.className = TEXT_UPPER;\nText.prototype._attrsAffectingSize = [\n    'text',\n    'fontSize',\n    'padding',\n    'wrap',\n    'lineHeight',\n    'letterSpacing',\n];\n(0, Global_2._registerNode)(Text);\nFactory_1.Factory.overWriteSetter(Text, 'width', (0, Validators_1.getNumberOrAutoValidator)());\nFactory_1.Factory.overWriteSetter(Text, 'height', (0, Validators_1.getNumberOrAutoValidator)());\nFactory_1.Factory.addGetterSetter(Text, 'direction', INHERIT);\nFactory_1.Factory.addGetterSetter(Text, 'fontFamily', 'Arial');\nFactory_1.Factory.addGetterSetter(Text, 'fontSize', 12, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Text, 'fontStyle', NORMAL);\nFactory_1.Factory.addGetterSetter(Text, 'fontVariant', NORMAL);\nFactory_1.Factory.addGetterSetter(Text, 'padding', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Text, 'align', LEFT);\nFactory_1.Factory.addGetterSetter(Text, 'verticalAlign', TOP);\nFactory_1.Factory.addGetterSetter(Text, 'lineHeight', 1, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Text, 'wrap', WORD);\nFactory_1.Factory.addGetterSetter(Text, 'ellipsis', false, (0, Validators_1.getBooleanValidator)());\nFactory_1.Factory.addGetterSetter(Text, 'letterSpacing', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Text, 'text', '', (0, Validators_1.getStringValidator)());\nFactory_1.Factory.addGetterSetter(Text, 'textDecoration', '');\n","/**\n * @file\n *\n * Defines the {@link DefaultPointMarker} class.\n *\n * @module default-point-marker\n */\n\nimport { Line } from 'konva/lib/shapes/Line';\nimport { Rect } from 'konva/lib/shapes/Rect';\nimport { Text } from 'konva/lib/shapes/Text';\n\n/**\n * Creates a point marker handle.\n *\n * @class\n * @alias DefaultPointMarker\n *\n * @param {CreatePointMarkerOptions} options\n */\n\nfunction DefaultPointMarker(options) {\n  this._options = options;\n  this._draggable = options.editable;\n}\n\nDefaultPointMarker.prototype.init = function(group) {\n  const handleWidth  = 10;\n  const handleHeight = 20;\n  const handleX      = -(handleWidth / 2) + 0.5; // Place in the middle of the marker\n\n  // Label\n\n  if (this._options.view === 'zoomview') {\n    // Label - create with default y, the real value is set in fitToView().\n    this._label = new Text({\n      x:          2,\n      y:          0,\n      text:       this._options.point.labelText,\n      textAlign:  'left',\n      fontFamily: this._options.fontFamily || 'sans-serif',\n      fontSize:   this._options.fontSize || 10,\n      fontStyle:  this._options.fontStyle || 'normal',\n      fill:       '#000'\n    });\n  }\n\n  // Handle - create with default y, the real value is set in fitToView().\n\n  this._handle = new Rect({\n    x:       handleX,\n    y:       0,\n    width:   handleWidth,\n    height:  handleHeight,\n    fill:    this._options.color,\n    visible: this._draggable\n  });\n\n  // Line - create with default y and points, the real values\n  // are set in fitToView().\n  this._line = new Line({\n    x:           0,\n    y:           0,\n    stroke:      this._options.color,\n    strokeWidth: 1\n  });\n\n  // Time label - create with default y, the real value is set\n  // in fitToView().\n  this._time = new Text({\n    x:          -24,\n    y:          0,\n    text:       this._options.layer.formatTime(this._options.point.time),\n    fontFamily: this._options.fontFamily,\n    fontSize:   this._options.fontSize,\n    fontStyle:  this._options.fontStyle,\n    fill:       '#000',\n    textAlign:  'center'\n  });\n\n  this._time.hide();\n\n  group.add(this._handle);\n\n  group.add(this._line);\n\n  if (this._label) {\n    group.add(this._label);\n  }\n\n  group.add(this._time);\n\n  this.fitToView();\n\n  this.bindEventHandlers(group);\n};\n\nDefaultPointMarker.prototype.bindEventHandlers = function(group) {\n  const self = this;\n\n  self._handle.on('mouseover touchstart', function() {\n    if (self._draggable) {\n      // Position text to the left of the marker\n      self._time.setX(-24 - self._time.getWidth());\n      self._time.show();\n    }\n  });\n\n  self._handle.on('mouseout touchend', function() {\n    if (self._draggable) {\n      self._time.hide();\n    }\n  });\n\n  group.on('dragstart', function() {\n    self._time.setX(-24 - self._time.getWidth());\n    self._time.show();\n  });\n\n  group.on('dragend', function() {\n    self._time.hide();\n  });\n};\n\nDefaultPointMarker.prototype.fitToView = function() {\n  const height = this._options.layer.getHeight();\n\n  this._line.points([0.5, 0, 0.5, height]);\n\n  if (this._label) {\n    this._label.y(12);\n  }\n\n  if (this._handle) {\n    this._handle.y(height / 2 - 10.5);\n  }\n\n  if (this._time) {\n    this._time.y(height / 2 - 5);\n  }\n};\n\nDefaultPointMarker.prototype.update = function(options) {\n  if (options.time !== undefined) {\n    if (this._time) {\n      this._time.setText(this._options.layer.formatTime(options.time));\n    }\n  }\n\n  if (options.labelText !== undefined) {\n    if (this._label) {\n      this._label.text(options.labelText);\n    }\n  }\n\n  if (options.color !== undefined) {\n    if (this._handle) {\n      this._handle.fill(options.color);\n    }\n\n    this._line.stroke(options.color);\n  }\n\n  if (options.editable !== undefined) {\n    this._draggable = options.editable;\n\n    this._handle.visible(this._draggable);\n  }\n};\n\nexport default DefaultPointMarker;\n","/**\n * @file\n *\n * Defines the {@link DefaultSegmentMarker} class.\n *\n * @module default-segment-marker\n */\n\nimport { Line } from 'konva/lib/shapes/Line';\nimport { Rect } from 'konva/lib/shapes/Rect';\nimport { Text } from 'konva/lib/shapes/Text';\n\n/**\n * Creates a segment marker handle.\n *\n * @class\n * @alias DefaultSegmentMarker\n *\n * @param {CreateSegmentMarkerOptions} options\n */\n\nfunction DefaultSegmentMarker(options) {\n  this._options = options;\n  this._editable = options.editable;\n}\n\nDefaultSegmentMarker.prototype.init = function(group) {\n  const handleWidth  = 10;\n  const handleHeight = 20;\n  const handleX      = -(handleWidth / 2) + 0.5; // Place in the middle of the marker\n\n  const xPosition = this._options.startMarker ? -24 : 24;\n\n  const time = this._options.startMarker ? this._options.segment.startTime :\n                                           this._options.segment.endTime;\n\n  // Label - create with default y, the real value is set in fitToView().\n  this._label = new Text({\n    x:          xPosition,\n    y:          0,\n    text:       this._options.layer.formatTime(time),\n    fontFamily: this._options.fontFamily,\n    fontSize:   this._options.fontSize,\n    fontStyle:  this._options.fontStyle,\n    fill:       '#000',\n    textAlign:  'center',\n    visible:    this._editable\n  });\n\n  this._label.hide();\n\n  // Handle - create with default y, the real value is set in fitToView().\n  this._handle = new Rect({\n    x:           handleX,\n    y:           0,\n    width:       handleWidth,\n    height:      handleHeight,\n    fill:        this._options.color,\n    stroke:      this._options.color,\n    strokeWidth: 1,\n    visible:     this._editable\n  });\n\n  // Vertical Line - create with default y and points, the real values\n  // are set in fitToView().\n  this._line = new Line({\n    x:           0,\n    y:           0,\n    stroke:      this._options.color,\n    strokeWidth: 1,\n    visible:     this._editable\n  });\n\n  group.add(this._label);\n  group.add(this._line);\n  group.add(this._handle);\n\n  this.fitToView();\n\n  this.bindEventHandlers(group);\n};\n\nDefaultSegmentMarker.prototype.bindEventHandlers = function(group) {\n  const self = this;\n\n  const xPosition = self._options.startMarker ? -24 : 24;\n\n  group.on('dragstart', function() {\n    if (self._options.startMarker) {\n      self._label.setX(xPosition - self._label.getWidth());\n    }\n\n    self._label.show();\n  });\n\n  group.on('dragend', function() {\n    self._label.hide();\n  });\n\n  self._handle.on('mouseover touchstart', function() {\n    if (self._options.startMarker) {\n      self._label.setX(xPosition - self._label.getWidth());\n    }\n\n    self._label.show();\n  });\n\n  self._handle.on('mouseout touchend', function() {\n    self._label.hide();\n  });\n};\n\nDefaultSegmentMarker.prototype.fitToView = function() {\n  const height = this._options.layer.getHeight();\n\n  this._label.y(height / 2 - 5);\n  this._handle.y(height / 2 - 10.5);\n  this._line.points([0.5, 0, 0.5, height]);\n};\n\nDefaultSegmentMarker.prototype.update = function(options) {\n  if (options.startTime !== undefined && this._options.startMarker) {\n    this._label.text(this._options.layer.formatTime(options.startTime));\n  }\n\n  if (options.endTime !== undefined && !this._options.startMarker) {\n    this._label.text(this._options.layer.formatTime(options.endTime));\n  }\n\n  if (options.editable !== undefined) {\n    this._editable = options.editable;\n\n    this._label.visible(this._editable);\n    this._handle.visible(this._editable);\n    this._line.visible(this._editable);\n  }\n};\n\nexport default DefaultSegmentMarker;\n","/**\n * @file\n *\n * Factory functions for creating point and segment marker handles.\n *\n * @module marker-factories\n */\n\nimport DefaultPointMarker from './default-point-marker';\nimport DefaultSegmentMarker from './default-segment-marker';\nimport { Text } from 'konva/lib/shapes/Text';\n\n/**\n * Parameters for the {@link createSegmentMarker} function.\n *\n * @typedef {Object} CreateSegmentMarkerOptions\n * @global\n * @property {Segment} segment\n * @property {Boolean} draggable If true, marker is draggable.\n * @property {Boolean} startMarker\n * @property {String} color\n * @property {String} fontFamily\n * @property {Number} fontSize\n * @property {String} fontStyle\n * @property {Layer} layer\n * @property {String} view\n * @property {SegmentDisplayOptions} segmentOptions\n */\n\n/**\n * Creates a left or right side segment marker handle.\n *\n * @param {CreateSegmentMarkerOptions} options\n * @returns {Marker}\n */\n\nexport function createSegmentMarker(options) {\n  if (options.view === 'zoomview') {\n    return new DefaultSegmentMarker(options);\n  }\n\n  return null;\n}\n\n/**\n * Parameters for the {@link createSegmentLabel} function.\n *\n * @typedef {Object} SegmentLabelOptions\n * @global\n * @property {Segment} segment The {@link Segment} object associated with this\n *   label.\n * @property {String} view The name of the view that the label is being\n *   created in, either <code>zoomview</code> or <code>overview</code>.\n * @property {SegmentsLayer} layer\n * @property {String} fontFamily\n * @property {Number} fontSize\n * @property {String} fontStyle\n */\n\n/**\n * Creates a Konva object that renders information about a segment, such as\n * its label text.\n *\n * @param {SegmentLabelOptions} options\n * @returns {Konva.Text}\n */\n\nexport function createSegmentLabel(options) {\n  return new Text({\n    x:          12,\n    y:          12,\n    text:       options.segment.labelText,\n    textAlign:  'center',\n    fontFamily: options.fontFamily || 'sans-serif',\n    fontSize:   options.fontSize || 12,\n    fontStyle:  options.fontStyle || 'normal',\n    fill:       '#000'\n  });\n}\n\n/**\n * Parameters for the {@link createPointMarker} function.\n *\n * @typedef {Object} CreatePointMarkerOptions\n * @global\n * @property {Point} point\n * @property {Boolean} editable If true, marker is draggable.\n * @property {String} color\n * @property {Layer} layer\n * @property {String} view\n * @property {String} fontFamily\n * @property {Number} fontSize\n * @property {String} fontStyle\n */\n\n/**\n * Creates a point marker handle.\n *\n * @param {CreatePointMarkerOptions} options\n * @returns {Marker}\n */\n\nexport function createPointMarker(options) {\n  return new DefaultPointMarker(options);\n}\n","/**\n * @file\n *\n * Defines the {@link HighlightLayer} class.\n *\n * @module highlight-layer\n */\n\nimport Konva from 'konva/lib/Core';\nimport { Rect } from 'konva/lib/shapes/Rect';\n\nimport { clamp } from  './utils';\n\n/**\n * Highlight layer options\n *\n * @typedef {Object} HighlightLayerOptions\n * @global\n * @property {Number} highlightOffset\n * @property {String} highlightColor\n * @property {String} highlightStrokeColor\n * @property {Number} highlightOpacity\n * @property {Number} highlightCornerRadius\n */\n\n/**\n * Creates the highlight region that shows the position of the zoomable\n * waveform view in the overview waveform.\n *\n * @class\n * @alias HighlightLayer\n *\n * @param {WaveformOverview} view\n * @param {HighlightLayerOptions} options\n */\n\nfunction HighlightLayer(view, options) {\n  this._view          = view;\n  this._offset        = options.highlightOffset;\n  this._color         = options.highlightColor;\n  this._layer         = new Konva.Layer({ listening: false });\n  this._highlightRect = null;\n  this._startTime     = null;\n  this._endTime       = null;\n  this._strokeColor   = options.highlightStrokeColor;\n  this._opacity       = options.highlightOpacity;\n  this._cornerRadius  = options.highlightCornerRadius;\n}\n\nHighlightLayer.prototype.addToStage = function(stage) {\n  stage.add(this._layer);\n};\n\nHighlightLayer.prototype.showHighlight = function(startTime, endTime) {\n  if (!this._highlightRect) {\n    this._createHighlightRect(startTime, endTime);\n  }\n\n  this._update(startTime, endTime);\n};\n\n/**\n * Updates the position of the highlight region.\n *\n * @param {Number} startTime The start of the highlight region, in seconds.\n * @param {Number} endTime The end of the highlight region, in seconds.\n */\n\nHighlightLayer.prototype._update = function(startTime, endTime) {\n  this._startTime = startTime;\n  this._endTime = endTime;\n\n  const startOffset = this._view.timeToPixels(startTime);\n  const endOffset   = this._view.timeToPixels(endTime);\n\n  this._highlightRect.setAttrs({\n    x:     startOffset,\n    width: endOffset - startOffset\n  });\n};\n\nHighlightLayer.prototype._createHighlightRect = function(startTime, endTime) {\n  this._startTime = startTime;\n  this._endTime   = endTime;\n\n  const startOffset = this._view.timeToPixels(startTime);\n  const endOffset   = this._view.timeToPixels(endTime);\n\n  // Create with default y and height, the real values are set in fitToView().\n  this._highlightRect = new Rect({\n    x:            startOffset,\n    y:            0,\n    width:        endOffset - startOffset,\n    height:       0,\n    stroke:       this._strokeColor,\n    strokeWidth:  1,\n    fill:         this._color,\n    opacity:      this._opacity,\n    cornerRadius: this._cornerRadius\n  });\n\n  this.fitToView();\n\n  this._layer.add(this._highlightRect);\n};\n\nHighlightLayer.prototype.removeHighlight = function() {\n  if (this._highlightRect) {\n    this._highlightRect.destroy();\n    this._highlightRect = null;\n  }\n};\n\nHighlightLayer.prototype.updateHighlight = function() {\n  if (this._highlightRect) {\n    this._update(this._startTime, this._endTime);\n  }\n};\n\nHighlightLayer.prototype.fitToView = function() {\n  if (this._highlightRect) {\n    const height = this._view.getHeight();\n    const offset = clamp(this._offset, 0, Math.floor(height / 2));\n\n    this._highlightRect.setAttrs({\n      y: offset,\n      height: height - (offset * 2)\n    });\n  }\n};\n\nexport default HighlightLayer;\n","/**\n * @file\n *\n * Defines the {@link PointMarker} class.\n *\n * @module point-marker\n */\n\nimport Konva from 'konva/lib/Core';\n\n/**\n * Parameters for the {@link PointMarker} constructor.\n *\n * @typedef {Object} PointMarkerOptions\n * @global\n * @property {Point} point Point object with timestamp.\n * @property {Boolean} editable If true, marker is draggable.\n * @property {Marker} marker\n * @property {Function} onclick\n * @property {Function} onDblClick\n * @property {Function} onDragStart\n * @property {Function} onDragMove Callback during mouse drag operations.\n * @property {Function} onDragEnd\n * @property {Function} dragBoundFunc\n * @property {Function} onMouseEnter\n * @property {Function} onMouseLeave\n * @property {Function} onContextMenu\n */\n\n/**\n * Creates a point marker handle.\n *\n * @class\n * @alias PointMarker\n *\n * @param {PointMarkerOptions} options\n */\n\nfunction PointMarker(options) {\n  this._point     = options.point;\n  this._marker    = options.marker;\n  this._draggable = options.draggable;\n\n  this._onDragStart   = options.onDragStart;\n  this._onDragMove    = options.onDragMove;\n  this._onDragEnd     = options.onDragEnd;\n  this._dragBoundFunc = options.dragBoundFunc;\n  this._onMouseEnter  = options.onMouseEnter;\n  this._onMouseLeave  = options.onMouseLeave;\n\n  this._group = new Konva.Group({\n    name:          'point-marker',\n    point:         this._point,\n    draggable:     this._draggable,\n    dragBoundFunc: options.dragBoundFunc\n  });\n\n  this._bindDefaultEventHandlers();\n\n  this._marker.init(this._group);\n}\n\nPointMarker.prototype._bindDefaultEventHandlers = function() {\n  const self = this;\n\n  self._group.on('dragstart', function(event) {\n    self._onDragStart(event, self._point);\n  });\n\n  self._group.on('dragmove', function(event) {\n    self._onDragMove(event, self._point);\n  });\n\n  self._group.on('dragend', function(event) {\n    self._onDragEnd(event, self._point);\n  });\n\n  self._group.on('mouseenter', function(event) {\n    self._onMouseEnter(event, self._point);\n  });\n\n  self._group.on('mouseleave', function(event) {\n    self._onMouseLeave(event, self._point);\n  });\n};\n\n/**\n * @param {Konva.Layer} layer\n */\n\nPointMarker.prototype.addToLayer = function(layer) {\n  layer.add(this._group);\n};\n\nPointMarker.prototype.fitToView = function() {\n  this._marker.fitToView();\n};\n\nPointMarker.prototype.getPoint = function() {\n  return this._point;\n};\n\nPointMarker.prototype.getX = function() {\n  return this._group.getX();\n};\n\nPointMarker.prototype.setX = function(x) {\n  this._group.setX(x);\n};\n\nPointMarker.prototype.getWidth = function() {\n  return this._group.getWidth();\n};\n\nPointMarker.prototype.getAbsolutePosition = function() {\n  return this._group.getAbsolutePosition();\n};\n\nPointMarker.prototype.update = function(options) {\n  if (options.editable !== undefined) {\n    this._group.draggable(options.editable);\n  }\n\n  if (this._marker.update) {\n    this._marker.update(options);\n  }\n};\n\nPointMarker.prototype.destroy = function() {\n  if (this._marker.destroy) {\n    this._marker.destroy();\n  }\n\n  this._group.destroyChildren();\n  this._group.destroy();\n};\n\nexport default PointMarker;\n","/**\n * @file\n *\n * Defines the {@link PointsLayer} class.\n *\n * @module points-layer\n */\n\nimport PointMarker from './point-marker';\nimport { clamp, objectHasProperty } from './utils';\nimport Konva from 'konva/lib/Core';\n\n/**\n * Creates a Konva.Layer that displays point markers against the audio\n * waveform.\n *\n * @class\n * @alias PointsLayer\n *\n * @param {Peaks} peaks\n * @param {WaveformOverview|WaveformZoomView} view\n * @param {Boolean} enableEditing\n */\n\nfunction PointsLayer(peaks, view, enableEditing) {\n  this._peaks         = peaks;\n  this._view          = view;\n  this._enableEditing = enableEditing;\n  this._pointMarkers  = {};\n  this._layer         = new Konva.Layer();\n\n  this._onPointsDrag = this._onPointsDrag.bind(this);\n\n  this._onPointMarkerDragStart   = this._onPointMarkerDragStart.bind(this);\n  this._onPointMarkerDragMove    = this._onPointMarkerDragMove.bind(this);\n  this._onPointMarkerDragEnd     = this._onPointMarkerDragEnd.bind(this);\n  this._pointMarkerDragBoundFunc = this._pointMarkerDragBoundFunc.bind(this);\n  this._onPointMarkerMouseEnter  = this._onPointMarkerMouseEnter.bind(this);\n  this._onPointMarkerMouseLeave  = this._onPointMarkerMouseLeave.bind(this);\n\n  this._onPointsUpdate    = this._onPointsUpdate.bind(this);\n  this._onPointsAdd       = this._onPointsAdd.bind(this);\n  this._onPointsRemove    = this._onPointsRemove.bind(this);\n  this._onPointsRemoveAll = this._onPointsRemoveAll.bind(this);\n\n  this._peaks.on('points.update', this._onPointsUpdate);\n  this._peaks.on('points.add', this._onPointsAdd);\n  this._peaks.on('points.remove', this._onPointsRemove);\n  this._peaks.on('points.remove_all', this._onPointsRemoveAll);\n\n  this._peaks.on('points.dragstart', this._onPointsDrag);\n  this._peaks.on('points.dragmove', this._onPointsDrag);\n  this._peaks.on('points.dragend', this._onPointsDrag);\n}\n\n/**\n * Adds the layer to the given {Konva.Stage}.\n *\n * @param {Konva.Stage} stage\n */\n\nPointsLayer.prototype.addToStage = function(stage) {\n  stage.add(this._layer);\n};\n\nPointsLayer.prototype.setListening = function(listening) {\n  this._layer.listening(listening);\n};\n\nPointsLayer.prototype.enableEditing = function(enable) {\n  this._enableEditing = enable;\n};\n\nPointsLayer.prototype.getPointMarker = function(point) {\n  return this._pointMarkers[point.pid];\n};\n\nPointsLayer.prototype.formatTime = function(time) {\n  return this._view.formatTime(time);\n};\n\nPointsLayer.prototype._onPointsUpdate = function(point, options) {\n  const frameStartTime = this._view.getStartTime();\n  const frameEndTime   = this._view.getEndTime();\n\n  const pointMarker = this.getPointMarker(point);\n  const isVisible = point.isVisible(frameStartTime, frameEndTime);\n\n  if (pointMarker && !isVisible) {\n    // Remove point marker that is no longer visible.\n    this._removePoint(point);\n  }\n  else if (!pointMarker && isVisible) {\n    // Add point marker for visible point.\n    this._updatePoint(point);\n  }\n  else if (pointMarker && isVisible) {\n    // Update the point marker with the changed attributes.\n    if (objectHasProperty(options, 'time')) {\n      const pointMarkerOffset = this._view.timeToPixels(point.time);\n\n      const pointMarkerX = pointMarkerOffset - this._view.getFrameOffset();\n\n      pointMarker.setX(pointMarkerX);\n    }\n\n    pointMarker.update(options);\n  }\n};\n\nPointsLayer.prototype._onPointsAdd = function(event) {\n  const self = this;\n\n  const frameStartTime = self._view.getStartTime();\n  const frameEndTime   = self._view.getEndTime();\n\n  event.points.forEach(function(point) {\n    if (point.isVisible(frameStartTime, frameEndTime)) {\n      self._updatePoint(point);\n    }\n  });\n};\n\nPointsLayer.prototype._onPointsRemove = function(event) {\n  const self = this;\n\n  event.points.forEach(function(point) {\n    self._removePoint(point);\n  });\n};\n\nPointsLayer.prototype._onPointsRemoveAll = function() {\n  this._layer.removeChildren();\n  this._pointMarkers = {};\n};\n\n/**\n * Creates the Konva UI objects for a given point.\n *\n * @private\n * @param {Point} point\n * @returns {PointMarker}\n */\n\nPointsLayer.prototype._createPointMarker = function(point) {\n  const editable = this._enableEditing && point.editable;\n  const viewOptions = this._view.getViewOptions();\n\n  const marker = this._peaks.options.createPointMarker({\n    point:      point,\n    editable:   editable,\n    color:      point.color,\n    fontFamily: viewOptions.fontFamily,\n    fontSize:   viewOptions.fontSize,\n    fontStyle:  viewOptions.fontStyle,\n    layer:      this,\n    view:       this._view.getName()\n  });\n\n  return new PointMarker({\n    point:         point,\n    draggable:     editable,\n    marker:        marker,\n    onDragStart:   this._onPointMarkerDragStart,\n    onDragMove:    this._onPointMarkerDragMove,\n    onDragEnd:     this._onPointMarkerDragEnd,\n    dragBoundFunc: this._pointMarkerDragBoundFunc,\n    onMouseEnter:  this._onPointMarkerMouseEnter,\n    onMouseLeave:  this._onPointMarkerMouseLeave\n  });\n};\n\nPointsLayer.prototype.getHeight = function() {\n  return this._view.getHeight();\n};\n\n/**\n * Adds a Konva UI object to the layer for a given point.\n *\n * @private\n * @param {Point} point\n * @returns {PointMarker}\n */\n\nPointsLayer.prototype._addPointMarker = function(point) {\n  const pointMarker = this._createPointMarker(point);\n\n  this._pointMarkers[point.pid] = pointMarker;\n\n  pointMarker.addToLayer(this._layer);\n\n  return pointMarker;\n};\n\nPointsLayer.prototype._onPointsDrag = function(event) {\n  const pointMarker = this._updatePoint(event.point);\n\n  pointMarker.update({ time: event.point.time });\n};\n\n/**\n * @param {KonvaEventObject} event\n * @param {Point} point\n */\n\nPointsLayer.prototype._onPointMarkerMouseEnter = function(event, point) {\n  this._peaks.emit('points.mouseenter', {\n    point: point,\n    evt: event.evt\n  });\n};\n\n/**\n * @param {KonvaEventObject} event\n * @param {Point} point\n */\n\nPointsLayer.prototype._onPointMarkerMouseLeave = function(event, point) {\n  this._peaks.emit('points.mouseleave', {\n    point: point,\n    evt: event.evt\n  });\n};\n\n/**\n * @param {KonvaEventObject} event\n * @param {Point} point\n */\n\nPointsLayer.prototype._onPointMarkerDragStart = function(event, point) {\n  this._dragPointMarker = this.getPointMarker(point);\n\n  this._peaks.emit('points.dragstart', {\n    point: point,\n    evt: event.evt\n  });\n};\n\n/**\n * @param {KonvaEventObject} event\n * @param {Point} point\n */\n\nPointsLayer.prototype._onPointMarkerDragMove = function(event, point) {\n  const pointMarker = this._pointMarkers[point.pid];\n\n  const markerX = pointMarker.getX();\n\n  const offset = markerX + pointMarker.getWidth();\n\n  point._setTime(this._view.pixelOffsetToTime(offset));\n\n  this._peaks.emit('points.dragmove', {\n    point: point,\n    evt: event.evt\n  });\n};\n\n/**\n * @param {KonvaEventObject} event\n * @param {Point} point\n */\n\nPointsLayer.prototype._onPointMarkerDragEnd = function(event, point) {\n  this._dragPointMarker = null;\n\n  this._peaks.emit('points.dragend', {\n    point: point,\n    evt: event.evt\n  });\n};\n\nPointsLayer.prototype._pointMarkerDragBoundFunc = function(pos) {\n  // Allow the marker to be moved horizontally but not vertically.\n  return {\n    x: clamp(pos.x, 0, this._view.getWidth()),\n    y: this._dragPointMarker.getAbsolutePosition().y\n  };\n};\n\n/**\n * Updates the positions of all displayed points in the view.\n *\n * @param {Number} startTime The start of the visible range in the view,\n *   in seconds.\n * @param {Number} endTime The end of the visible range in the view,\n *   in seconds.\n */\n\nPointsLayer.prototype.updatePoints = function(startTime, endTime) {\n  // Update all points in the visible time range.\n  const points = this._peaks.points.find(startTime, endTime);\n\n  points.forEach(this._updatePoint.bind(this));\n\n  // TODO: In the overview all points are visible, so no need to do this.\n  this._removeInvisiblePoints(startTime, endTime);\n};\n\n/**\n * @private\n * @param {Point} point\n */\n\nPointsLayer.prototype._updatePoint = function(point) {\n  let pointMarker = this.getPointMarker(point);\n\n  if (!pointMarker) {\n    pointMarker = this._addPointMarker(point);\n  }\n\n  const pointMarkerOffset = this._view.timeToPixels(point.time);\n  const pointMarkerX = pointMarkerOffset - this._view.getFrameOffset();\n\n  pointMarker.setX(pointMarkerX);\n\n  return pointMarker;\n};\n\n/**\n * Remove any points that are not visible, i.e., are outside the given time\n * range.\n *\n * @private\n * @param {Number} startTime The start of the visible time range, in seconds.\n * @param {Number} endTime The end of the visible time range, in seconds.\n */\n\nPointsLayer.prototype._removeInvisiblePoints = function(startTime, endTime) {\n  for (const pointPid in this._pointMarkers) {\n    if (objectHasProperty(this._pointMarkers, pointPid)) {\n      const point = this._pointMarkers[pointPid].getPoint();\n\n      if (!point.isVisible(startTime, endTime)) {\n        this._removePoint(point);\n      }\n    }\n  }\n};\n\n/**\n * Removes the UI object for a given point.\n *\n * @private\n * @param {Point} point\n */\n\nPointsLayer.prototype._removePoint = function(point) {\n  const pointMarker = this.getPointMarker(point);\n\n  if (pointMarker) {\n    pointMarker.destroy();\n    delete this._pointMarkers[point.pid];\n  }\n};\n\n/**\n * Toggles visibility of the points layer.\n *\n * @param {Boolean} visible\n */\n\nPointsLayer.prototype.setVisible = function(visible) {\n  this._layer.setVisible(visible);\n};\n\nPointsLayer.prototype.destroy = function() {\n  this._peaks.off('points.update', this._onPointsUpdate);\n  this._peaks.off('points.add', this._onPointsAdd);\n  this._peaks.off('points.remove', this._onPointsRemove);\n  this._peaks.off('points.remove_all', this._onPointsRemoveAll);\n  this._peaks.off('points.dragstart', this._onPointsDrag);\n  this._peaks.off('points.dragmove', this._onPointsDrag);\n  this._peaks.off('points.dragend', this._onPointsDrag);\n};\n\nPointsLayer.prototype.fitToView = function() {\n  for (const pointPid in this._pointMarkers) {\n    if (objectHasProperty(this._pointMarkers, pointPid)) {\n      const pointMarker = this._pointMarkers[pointPid];\n\n      pointMarker.fitToView();\n    }\n  }\n};\n\nPointsLayer.prototype.draw = function() {\n  this._layer.draw();\n};\n\nexport default PointsLayer;\n","/**\n * @file\n *\n * Defines the {@link PlayheadLayer} class.\n *\n * @module playhead-layer\n */\n\nimport Konva from 'konva/lib/Core';\nimport { Animation } from 'konva/lib/Animation';\nimport { Line } from 'konva/lib/shapes/Line';\nimport { Text } from 'konva/lib/shapes/Text';\n\n/**\n * Creates a Konva.Layer that displays a playhead marker.\n *\n * @class\n * @alias PlayheadLayer\n *\n * @param {Player} player\n * @param {WaveformOverview|WaveformZoomView} view\n * @param {Object} options\n * @param {Boolean} options.showPlayheadTime If <code>true</code> The playback time position\n *   is shown next to the playhead.\n * @param {String} options.playheadColor\n * @param {String} options.playheadTextColor\n * @param {String} options.playheadBackgroundColor\n * @param {Number} options.playheadPadding\n * @param {Number} options.playheadWidth\n * @param {String} options.playheadFontFamily\n * @param {Number} options.playheadFontSize\n * @param {String} options.playheadFontStyle\n */\n\nfunction PlayheadLayer(player, view, options) {\n  this._player = player;\n  this._view = view;\n  this._playheadPixel = 0;\n  this._playheadLineAnimation = null;\n  this._playheadVisible = false;\n  this._playheadColor = options.playheadColor;\n  this._playheadTextColor = options.playheadTextColor;\n  this._playheadBackgroundColor = options.playheadBackgroundColor;\n  this._playheadPadding = options.playheadPadding;\n  this._playheadWidth = options.playheadWidth;\n\n  this._playheadFontFamily = options.playheadFontFamily;\n  this._playheadFontSize = options.playheadFontSize;\n  this._playheadFontStyle = options.playheadFontStyle;\n\n  this._playheadLayer = new Konva.Layer({ listening: false });\n\n  this._createPlayhead();\n\n  if (options.showPlayheadTime) {\n    this._createPlayheadText();\n  }\n\n  this.fitToView();\n\n  this.zoomLevelChanged();\n}\n\n/**\n * Adds the layer to the given {Konva.Stage}.\n *\n * @param {Konva.Stage} stage\n */\n\nPlayheadLayer.prototype.addToStage = function(stage) {\n  stage.add(this._playheadLayer);\n};\n\n/**\n * Decides whether to use an animation to update the playhead position.\n *\n * If the zoom level is such that the number of pixels per second of audio is\n * low, we can use timeupdate events from the HTMLMediaElement to\n * set the playhead position. Otherwise, we use an animation to update the\n * playhead position more smoothly. The animation is CPU intensive, so we\n * avoid using it where possible.\n */\n\nPlayheadLayer.prototype.zoomLevelChanged = function() {\n  const pixelsPerSecond = this._view.timeToPixels(1.0);\n\n  this._useAnimation = pixelsPerSecond >= 5;\n\n  if (this._useAnimation) {\n    if (this._player.isPlaying() && !this._playheadLineAnimation) {\n      // Start the animation\n      this._start();\n    }\n  }\n  else {\n    if (this._playheadLineAnimation) {\n      // Stop the animation\n      const time = this._player.getCurrentTime();\n\n      this.stop(time);\n    }\n  }\n};\n\n/**\n * Resizes the playhead UI objects to fit the available space in the\n * view.\n */\n\nPlayheadLayer.prototype.fitToView = function() {\n  const height = this._view.getHeight();\n\n  this._playheadLine.points([0.5, 0, 0.5, height]);\n\n  if (this._playheadText) {\n    this._playheadText.y(12);\n  }\n};\n\n/**\n * Creates the playhead UI objects.\n *\n * @private\n * @param {String} color\n */\n\nPlayheadLayer.prototype._createPlayhead = function() {\n  // Create with default points, the real values are set in fitToView().\n  this._playheadLine = new Line({\n    stroke:      this._playheadColor,\n    strokeWidth: this._playheadWidth\n  });\n\n  this._playheadGroup = new Konva.Group({\n    x: 0,\n    y: 0\n  });\n\n  this._playheadGroup.add(this._playheadLine);\n  this._playheadLayer.add(this._playheadGroup);\n};\n\nPlayheadLayer.prototype._createPlayheadText = function() {\n  const self = this;\n\n  const time = self._player.getCurrentTime();\n  const text = self._view.formatTime(time);\n\n  // Create with default y, the real value is set in fitToView().\n  self._playheadText = new Text({\n    x: 0,\n    y: 0,\n    padding: self._playheadPadding,\n    text: text,\n    fontSize: self._playheadFontSize,\n    fontFamily: self._playheadFontFamily,\n    fontStyle: self._playheadFontStyle,\n    fill: self._playheadTextColor,\n    align: 'right',\n    sceneFunc: function(context, shape) {\n      const width = shape.width();\n      const height = shape.height() + 2 * self._playheadPadding;\n\n      context.fillStyle = self._playheadBackgroundColor;\n      context.fillRect(0, -self._playheadPadding, width, height);\n      shape._sceneFunc(context);\n    }\n  });\n\n  self._playheadGroup.add(self._playheadText);\n};\n\n/**\n * Updates the playhead position.\n *\n * @param {Number} time Current playhead position, in seconds.\n */\n\nPlayheadLayer.prototype.updatePlayheadTime = function(time) {\n  this._syncPlayhead(time);\n\n  if (this._player.isPlaying()) {\n    this._start();\n  }\n};\n\n/**\n * Updates the playhead position.\n *\n * @private\n * @param {Number} time Current playhead position, in seconds.\n */\n\nPlayheadLayer.prototype._syncPlayhead = function(time) {\n  const pixelIndex = this._view.timeToPixels(time);\n\n  const frameOffset = this._view.getFrameOffset();\n  const width = this._view.getWidth();\n\n  const isVisible = (pixelIndex >= frameOffset) &&\n                    (pixelIndex <= frameOffset + width);\n\n  this._playheadPixel = pixelIndex;\n\n  if (isVisible) {\n    const playheadX = this._playheadPixel - frameOffset;\n\n    if (!this._playheadVisible) {\n      this._playheadVisible = true;\n      this._playheadGroup.show();\n    }\n\n    this._playheadGroup.setX(playheadX);\n\n    if (this._playheadText) {\n      const text = this._view.formatTime(time);\n      const playheadTextWidth = this._playheadText.width();\n\n      this._playheadText.setText(text);\n\n      if (playheadTextWidth + playheadX > width - 2) {\n        this._playheadText.setX(-playheadTextWidth);\n      }\n      else if (playheadTextWidth + playheadX < width) {\n        this._playheadText.setX(0);\n      }\n    }\n  }\n  else {\n    if (this._playheadVisible) {\n      this._playheadVisible = false;\n      this._playheadGroup.hide();\n    }\n  }\n\n  if (this._view.playheadPosChanged) {\n    this._view.playheadPosChanged(time);\n  }\n};\n\n/**\n * Starts a playhead animation in sync with the media playback.\n *\n * @private\n */\n\nPlayheadLayer.prototype._start = function() {\n  const self = this;\n\n  if (self._playheadLineAnimation) {\n    self._playheadLineAnimation.stop();\n    self._playheadLineAnimation = null;\n  }\n\n  if (!self._useAnimation) {\n    return;\n  }\n\n  let lastPlayheadPosition = null;\n\n  self._playheadLineAnimation = new Animation(function() {\n    const time = self._player.getCurrentTime();\n    const playheadPosition = self._view.timeToPixels(time);\n\n    if (playheadPosition !== lastPlayheadPosition) {\n      self._syncPlayhead(time);\n      lastPlayheadPosition = playheadPosition;\n    }\n  }, self._playheadLayer);\n\n  self._playheadLineAnimation.start();\n};\n\nPlayheadLayer.prototype.stop = function(time) {\n  if (this._playheadLineAnimation) {\n    this._playheadLineAnimation.stop();\n    this._playheadLineAnimation = null;\n  }\n\n  this._syncPlayhead(time);\n};\n\nPlayheadLayer.prototype.getPlayheadPixel = function() {\n  return this._playheadPixel;\n};\n\nPlayheadLayer.prototype.showPlayheadTime = function(show) {\n  if (show) {\n    if (!this._playheadText) {\n      // Create it\n      this._createPlayheadText(this._playheadTextColor,\n        this._playheadBackgroundColor, this._playheadPadding);\n      this.fitToView();\n    }\n  }\n  else {\n    if (this._playheadText) {\n      this._playheadText.remove();\n      this._playheadText.destroy();\n      this._playheadText = null;\n    }\n  }\n};\n\nPlayheadLayer.prototype.updatePlayheadText = function() {\n  if (this._playheadText) {\n    const time = this._player.getCurrentTime();\n    const text = this._view.formatTime(time);\n\n    this._playheadText.setText(text);\n  }\n};\n\nPlayheadLayer.prototype.destroy = function() {\n  if (this._playheadLineAnimation) {\n    this._playheadLineAnimation.stop();\n    this._playheadLineAnimation = null;\n  }\n};\n\nexport default PlayheadLayer;\n","/**\n * @file\n *\n * Defines the {@link OverlaySegmentMarker} class.\n *\n * @module overlay-segment-marker\n */\n\nimport { Rect } from 'konva/lib/shapes/Rect';\nimport { Text } from 'konva/lib/shapes/Text';\n\nimport { clamp } from './utils';\n\n/**\n * Creates a segment marker handle.\n *\n * @class\n * @alias OverlaySegmentMarker\n *\n * @param {CreateSegmentMarkerOptions} options\n */\n\nfunction OverlaySegmentMarker(options) {\n  this._options = options;\n}\n\nOverlaySegmentMarker.prototype.init = function(group) {\n  const handleWidth  = 10;\n  const handleHeight = 20;\n  const handleX      = -(handleWidth / 2) + 0.5; // Place in the middle of the marker\n\n  const xPosition = this._options.startMarker ? -24 : 24;\n\n  const time = this._options.startMarker ? this._options.segment.startTime :\n                                           this._options.segment.endTime;\n\n  // Label - create with default y, the real value is set in fitToView().\n  this._label = new Text({\n    x:          xPosition,\n    y:          0,\n    text:       this._options.layer.formatTime(time),\n    fontFamily: this._options.fontFamily,\n    fontSize:   this._options.fontSize,\n    fontStyle:  this._options.fontStyle,\n    fill:       '#000',\n    textAlign:  'center',\n    visible:    false\n  });\n\n  // Handle - create with default y, the real value is set in fitToView().\n  this._handle = new Rect({\n    x:       handleX,\n    y:       0,\n    width:   handleWidth,\n    height:  handleHeight\n  });\n\n  group.add(this._label);\n  group.add(this._handle);\n\n  this.fitToView();\n\n  this.bindEventHandlers(group);\n};\n\nOverlaySegmentMarker.prototype.bindEventHandlers = function(group) {\n  const self = this;\n\n  const xPosition = self._options.startMarker ? -24 : 24;\n\n  group.on('dragstart', function() {\n    if (self._options.startMarker) {\n      self._label.setX(xPosition - self._label.getWidth());\n    }\n\n    self._label.show();\n  });\n\n  group.on('dragend', function() {\n    self._label.hide();\n  });\n\n  self._handle.on('mouseover touchstart', function() {\n    if (self._options.startMarker) {\n      self._label.setX(xPosition - self._label.getWidth());\n    }\n\n    self._label.show();\n\n    document.body.style.cursor = 'ew-resize';\n  });\n\n  self._handle.on('mouseout touchend', function() {\n    self._label.hide();\n\n    document.body.style.cursor = 'default';\n  });\n};\n\nOverlaySegmentMarker.prototype.fitToView = function() {\n  const viewHeight = this._options.layer.getHeight();\n\n  const overlayOffset = this._options.segmentOptions.overlayOffset;\n  const overlayRectHeight = clamp(0, viewHeight - 2 * overlayOffset);\n\n  this._label.y(viewHeight / 2 - 5);\n  this._handle.y(overlayOffset);\n  this._handle.height(overlayRectHeight);\n};\n\nOverlaySegmentMarker.prototype.update = function(options) {\n  if (options.startTime !== undefined && this._options.startMarker) {\n    this._label.text(this._options.layer.formatTime(options.startTime));\n  }\n\n  if (options.endTime !== undefined && !this._options.startMarker) {\n    this._label.text(this._options.layer.formatTime(options.endTime));\n  }\n};\n\nexport default OverlaySegmentMarker;\n","/**\n * @file\n *\n * Defines the {@link SegmentMarker} class.\n *\n * @module segment-marker\n */\n\nimport Konva from 'konva/lib/Core';\n\n/**\n * Parameters for the {@link SegmentMarker} constructor.\n *\n * @typedef {Object} SegmentMarkerOptions\n * @global\n * @property {Segment} segment\n * @property {SegmentShape} segmentShape\n * @property {Boolean} editable If true, marker is draggable.\n * @property {Boolean} startMarker If <code>true</code>, the marker indicates\n *   the start time of the segment. If <code>false</code>, the marker\n *   indicates the end time of the segment.\n * @property {Function} onDragStart\n * @property {Function} onDragMove\n * @property {Function} onDragEnd\n * @property {Function} dragBoundFunc\n */\n\n/**\n * Creates a segment handle marker for the start or end of a segment.\n *\n * @class\n * @alias SegmentMarker\n *\n * @param {SegmentMarkerOptions} options\n */\n\nfunction SegmentMarker(options) {\n  const self = this;\n\n  self._segment      = options.segment;\n  self._marker       = options.marker;\n  self._segmentShape = options.segmentShape;\n  self._editable     = options.editable;\n  self._startMarker  = options.startMarker;\n\n  self._onClick      = options.onClick;\n  self._onDragStart  = options.onDragStart;\n  self._onDragMove   = options.onDragMove;\n  self._onDragEnd    = options.onDragEnd;\n\n  self._group = new Konva.Group({\n    name:          'segment-marker',\n    segment:       self._segment,\n    draggable:     self._editable,\n    visible:       self._editable,\n    dragBoundFunc: function(pos) {\n      return options.dragBoundFunc(self, pos);\n    }\n  });\n\n  self._bindDefaultEventHandlers();\n\n  self._marker.init(self._group);\n}\n\nSegmentMarker.prototype._bindDefaultEventHandlers = function() {\n  const self = this;\n\n  self._group.on('click', function(event) {\n    self._onClick(self, event);\n  });\n\n  self._group.on('dragstart', function(event) {\n    self._onDragStart(self, event);\n  });\n\n  self._group.on('dragmove', function(event) {\n    self._onDragMove(self, event);\n  });\n\n  self._group.on('dragend', function(event) {\n    self._onDragEnd(self, event);\n  });\n};\n\nSegmentMarker.prototype.addToLayer = function(layer) {\n  layer.add(this._group);\n};\n\nSegmentMarker.prototype.moveToTop = function() {\n  this._group.moveToTop();\n};\n\nSegmentMarker.prototype.fitToView = function() {\n  this._marker.fitToView();\n};\n\nSegmentMarker.prototype.getSegment = function() {\n  return this._segment;\n};\n\nSegmentMarker.prototype.getX = function() {\n  return this._group.getX();\n};\n\nSegmentMarker.prototype.setX = function(x) {\n  this._group.setX(x);\n};\n\nSegmentMarker.prototype.getWidth = function() {\n  return this._group.getWidth();\n};\n\nSegmentMarker.prototype.getAbsolutePosition = function() {\n  return this._group.getAbsolutePosition();\n};\n\nSegmentMarker.prototype.isStartMarker = function() {\n  return this._startMarker;\n};\n\nSegmentMarker.prototype.update = function(options) {\n  if (options.editable !== undefined) {\n    this._group.visible(options.editable);\n    this._group.draggable(options.editable);\n  }\n\n  if (this._marker.update) {\n    this._marker.update(options);\n  }\n};\n\nSegmentMarker.prototype.destroy = function() {\n  if (this._marker.destroy) {\n    this._marker.destroy();\n  }\n\n  this._group.destroyChildren();\n  this._group.destroy();\n};\n\nSegmentMarker.prototype.startDrag = function() {\n  this._group.startDrag();\n};\n\nSegmentMarker.prototype.stopDrag = function() {\n  this._group.stopDrag();\n};\n\nexport default SegmentMarker;\n","/**\n * @file\n *\n * Defines the {@link WaveformShape} class.\n *\n * @module waveform-shape\n */\n\nimport { clamp, isLinearGradientColor, isString } from './utils';\nimport Konva from 'konva/lib/Core';\n\n/**\n * Waveform shape options.\n *\n * @typedef {Object} WaveformShapeOptions\n * @global\n * @property {String | LinearGradientColor} color Waveform color.\n * @property {WaveformOverview|WaveformZoomView} view The view object\n *   that contains the waveform shape.\n * @property {Segment?} segment If given, render a waveform image\n *   covering the segment's time range. Otherwise, render the entire\n *   waveform duration.\n */\n\n/**\n * Creates a Konva.Shape object that renders a waveform image.\n *\n * @class\n * @alias WaveformShape\n *\n * @param {WaveformShapeOptions} options\n */\n\nfunction WaveformShape(options) {\n  this._color = options.color;\n\n  const shapeOptions = {};\n\n  if (isString(options.color)) {\n    shapeOptions.fill = options.color;\n  }\n  else if (isLinearGradientColor(options.color)) {\n    const startY = options.view._height * (options.color.linearGradientStart / 100);\n    const endY = options.view._height * (options.color.linearGradientEnd / 100);\n\n    shapeOptions.fillLinearGradientStartPointY = startY;\n    shapeOptions.fillLinearGradientEndPointY = endY;\n    shapeOptions.fillLinearGradientColorStops = [\n      0, options.color.linearGradientColorStops[0],\n      1, options.color.linearGradientColorStops[1]\n    ];\n  }\n  else {\n    throw new TypeError('Unknown type for color property');\n  }\n\n  this._shape = new Konva.Shape(shapeOptions);\n  this._view = options.view;\n  this._segment = options.segment;\n\n  this._shape.sceneFunc(this._sceneFunc.bind(this));\n}\n\nWaveformShape.prototype.getX = function() {\n  return this._shape.getX();\n};\n\nWaveformShape.prototype.setX = function(x) {\n  return this._shape.setX(x);\n};\n\nWaveformShape.prototype.setSegment = function(segment) {\n  this._segment = segment;\n};\n\nWaveformShape.prototype.setWaveformColor = function(color) {\n  if (isString(color)) {\n    this._shape.fill(color);\n\n    this._shape.fillLinearGradientStartPointY(null);\n    this._shape.fillLinearGradientEndPointY(null);\n    this._shape.fillLinearGradientColorStops(null);\n  }\n  else if (isLinearGradientColor(color)) {\n    this._shape.fill(null);\n\n    const startY = this._view._height * (color.linearGradientStart / 100);\n    const endY = this._view._height * (color.linearGradientEnd / 100);\n\n    this._shape.fillLinearGradientStartPointY(startY);\n    this._shape.fillLinearGradientEndPointY(endY);\n    this._shape.fillLinearGradientColorStops([\n      0, color.linearGradientColorStops[0],\n      1, color.linearGradientColorStops[1]\n    ]);\n  }\n  else {\n    throw new TypeError('Unknown type for color property');\n  }\n};\n\nWaveformShape.prototype.fitToView = function() {\n  this.setWaveformColor(this._color);\n};\n\nWaveformShape.prototype._sceneFunc = function(context) {\n  const frameOffset = this._view.getFrameOffset();\n  const width = this._view.getWidth();\n  const height = this._view.getHeight();\n\n  this._drawWaveform(\n    context,\n    this._view.getWaveformData(),\n    frameOffset,\n    this._segment ? this._view.timeToPixels(this._segment.startTime) : frameOffset,\n    this._segment ? this._view.timeToPixels(this._segment.endTime)   : frameOffset + width,\n    width,\n    height\n  );\n};\n\n/**\n * Draws a waveform on a canvas context.\n *\n * @param {Konva.Context} context The canvas context to draw on.\n * @param {WaveformData} waveformData The waveform data to draw.\n * @param {Number} frameOffset The start position of the waveform shown\n *   in the view, in pixels.\n * @param {Number} startPixels The start position of the waveform to draw,\n *   in pixels.\n * @param {Number} endPixels The end position of the waveform to draw,\n *   in pixels.\n * @param {Number} width The width of the waveform area, in pixels.\n * @param {Number} height The height of the waveform area, in pixels.\n */\n\nWaveformShape.prototype._drawWaveform = function(context, waveformData,\n    frameOffset, startPixels, endPixels, width, height) {\n  if (startPixels < frameOffset) {\n    startPixels = frameOffset;\n  }\n\n  const limit = frameOffset + width;\n\n  if (endPixels > limit) {\n    endPixels = limit;\n  }\n\n  if (endPixels > waveformData.length - 1) {\n    endPixels = waveformData.length - 1;\n  }\n\n  const channels = waveformData.channels;\n\n  let waveformTop = 0;\n  let waveformHeight = Math.floor(height / channels);\n\n  for (let i = 0; i < channels; i++) {\n    if (i === channels - 1) {\n      waveformHeight = height - (channels - 1) * waveformHeight;\n    }\n\n    this._drawChannel(\n      context,\n      waveformData.channel(i),\n      frameOffset,\n      startPixels,\n      endPixels,\n      waveformTop,\n      waveformHeight\n    );\n\n    waveformTop += waveformHeight;\n  }\n};\n\n/**\n * Draws a single waveform channel on a canvas context.\n *\n * @param {Konva.Context} context The canvas context to draw on.\n * @param {WaveformDataChannel} channel The waveform data to draw.\n * @param {Number} frameOffset The start position of the waveform shown\n *   in the view, in pixels.\n * @param {Number} startPixels The start position of the waveform to draw,\n *   in pixels.\n * @param {Number} endPixels The end position of the waveform to draw,\n *   in pixels.\n * @param {Number} top The top of the waveform channel area, in pixels.\n * @param {Number} height The height of the waveform channel area, in pixels.\n */\n\nWaveformShape.prototype._drawChannel = function(context, channel,\n    frameOffset, startPixels, endPixels, top, height) {\n  let x, amplitude;\n\n  const amplitudeScale = this._view.getAmplitudeScale();\n\n  let lineX, lineY;\n\n  context.beginPath();\n\n  for (x = startPixels; x <= endPixels; x++) {\n    amplitude = channel.min_sample(x);\n\n    lineX = x - frameOffset + 0.5;\n    lineY = top + WaveformShape.scaleY(amplitude, height, amplitudeScale) + 0.5;\n\n    context.lineTo(lineX, lineY);\n  }\n\n  for (x = endPixels; x >= startPixels; x--) {\n    amplitude = channel.max_sample(x);\n\n    lineX = x - frameOffset + 0.5;\n    lineY = top + WaveformShape.scaleY(amplitude, height, amplitudeScale) + 1.0;\n\n    context.lineTo(lineX, lineY);\n  }\n\n  context.closePath();\n\n  context.fillShape(this._shape);\n};\n\nWaveformShape.prototype.addToLayer = function(layer) {\n  layer.add(this._shape);\n};\n\nWaveformShape.prototype.destroy = function() {\n  this._shape.destroy();\n  this._shape = null;\n};\n\nWaveformShape.prototype.on = function(event, handler) {\n  this._shape.on(event, handler);\n};\n\nWaveformShape.prototype.off = function(event, handler) {\n  this._shape.off(event, handler);\n};\n\n/**\n * Scales the waveform data for drawing on a canvas context.\n *\n * @see {@link https://stats.stackexchange.com/questions/281162}\n *\n * @todo Assumes 8-bit waveform data (-128 to 127 range)\n *\n * @param {Number} amplitude The waveform data point amplitude.\n * @param {Number} height The height of the waveform, in pixels.\n * @param {Number} scale Amplitude scaling factor.\n * @returns {Number} The scaled waveform data point.\n */\n\nWaveformShape.scaleY = function(amplitude, height, scale) {\n  const y = -(height - 1) * (amplitude * scale + 128) / 255 + (height - 1);\n\n  return clamp(Math.floor(y), 0, height - 1);\n};\n\nexport default WaveformShape;\n","/**\n * @file\n *\n * Defines the {@link SegmentShape} class.\n *\n * @module segment-shape\n */\n\nimport Konva from 'konva/lib/Core';\n\nimport OverlaySegmentMarker from './overlay-segment-marker';\nimport SegmentMarker from './segment-marker';\nimport WaveformShape from './waveform-shape';\nimport { clamp } from './utils';\n\n/**\n * Options that control segments' visual appearance\n *\n * @typedef {Object} SegmentDisplayOptions\n * @global\n * @property {Boolean} markers\n * @property {Boolean} overlay\n * @property {String} startMarkerColor\n * @property {String} endMarkerColor\n * @property {String} waveformColor\n * @property {String} overlayColor\n * @property {Number} overlayOpacity\n * @property {String} overlayBorderColor\n * @property {Number} overlayBorderWidth\n * @property {Number} overlayCornerRadius\n * @property {Number} overlayOffset\n * @property {String} overlayLabelAlign\n * @property {String} overlayLabelVerticalAlign\n * @property {Number} overlayLabelPadding\n * @property {String} overlayLabelColor\n * @property {String} overlayFontFamily\n * @property {Number} overlayFontSize\n * @property {String} overlayFontStyle\n */\n\n/**\n * Creates a waveform segment shape with optional start and end markers.\n *\n * @class\n * @alias SegmentShape\n *\n * @param {Segment} segment\n * @param {Peaks} peaks\n * @param {SegmentsLayer} layer\n * @param {WaveformOverview|WaveformZoomView} view\n */\n\nfunction SegmentShape(segment, peaks, layer, view) {\n  this._segment     = segment;\n  this._peaks       = peaks;\n  this._layer       = layer;\n  this._view        = view;\n  this._label       = null;\n  this._startMarker = null;\n  this._endMarker   = null;\n  this._color       = segment.color;\n  this._borderColor = segment.borderColor;\n  this._draggable   = this._segment.editable && this._view.isSegmentDraggingEnabled();\n  this._dragging    = false;\n\n  const viewOptions = view.getViewOptions();\n  const segmentOptions = viewOptions.segmentOptions;\n\n  this._overlayOffset = segmentOptions.overlayOffset;\n\n  if (!segment.overlay) {\n    this._waveformShape = new WaveformShape({\n      color:   segment.color,\n      view:    view,\n      segment: segment\n    });\n  }\n\n  this._onMouseEnter = this._onMouseEnter.bind(this);\n  this._onMouseLeave = this._onMouseLeave.bind(this);\n  this._onMouseDown  = this._onMouseDown.bind(this);\n  this._onMouseUp    = this._onMouseUp.bind(this);\n\n  this._dragBoundFunc      = this._dragBoundFunc.bind(this);\n  this._onSegmentDragStart = this._onSegmentDragStart.bind(this);\n  this._onSegmentDragMove  = this._onSegmentDragMove.bind(this);\n  this._onSegmentDragEnd   = this._onSegmentDragEnd.bind(this);\n\n  // Event handlers for markers\n  this._onSegmentMarkerClick       = this._onSegmentMarkerClick.bind(this);\n  this._onSegmentMarkerDragStart   = this._onSegmentMarkerDragStart.bind(this);\n  this._onSegmentMarkerDragMove    = this._onSegmentMarkerDragMove.bind(this);\n  this._onSegmentMarkerDragEnd     = this._onSegmentMarkerDragEnd.bind(this);\n  this._segmentMarkerDragBoundFunc = this._segmentMarkerDragBoundFunc.bind(this);\n\n  this._label = this._peaks.options.createSegmentLabel({\n    segment:    segment,\n    view:       this._view.getName(),\n    layer:      this._layer,\n    fontFamily: viewOptions.fontFamily,\n    fontSize:   viewOptions.fontSize,\n    fontStyle:  viewOptions.fontStyle\n  });\n\n  if (this._label) {\n    this._label.hide();\n  }\n\n  // Create with default y and height, the real values are set in fitToView().\n  const segmentStartOffset = this._view.timeToPixelOffset(this._segment.startTime);\n  const segmentEndOffset   = this._view.timeToPixelOffset(this._segment.endTime);\n\n  const overlayRectHeight = clamp(0, this._view.getHeight() - 2 * this._overlayOffset);\n\n  // The clip rectangle prevents text in the overlay from appearing\n  // outside the overlay.\n\n  this._overlay = new Konva.Group({\n    name:          'segment-overlay',\n    segment:       this._segment,\n    x:             segmentStartOffset,\n    y:             0,\n    width:         segmentEndOffset - segmentStartOffset,\n    height:        this._view.getHeight(),\n    clipX:         0,\n    clipY:         this._overlayOffset,\n    clipWidth:     segmentEndOffset - segmentStartOffset,\n    clipHeight:    overlayRectHeight,\n    draggable:     this._draggable,\n    dragBoundFunc: this._dragBoundFunc\n  });\n\n  let overlayBorderColor, overlayBorderWidth, overlayColor, overlayOpacity, overlayCornerRadius;\n\n  if (segment.overlay) {\n    overlayBorderColor  = this._borderColor || segmentOptions.overlayBorderColor;\n    overlayBorderWidth  = segmentOptions.overlayBorderWidth;\n    overlayColor        = this._color || segmentOptions.overlayColor;\n    overlayOpacity      = segmentOptions.overlayOpacity;\n    overlayCornerRadius = segmentOptions.overlayCornerRadius;\n  }\n\n  this._overlayRect = new Konva.Rect({\n    x:            0,\n    y:            this._overlayOffset,\n    width:        segmentEndOffset - segmentStartOffset,\n    stroke:       overlayBorderColor,\n    strokeWidth:  overlayBorderWidth,\n    height:       overlayRectHeight,\n    fill:         overlayColor,\n    opacity:      overlayOpacity,\n    cornerRadius: overlayCornerRadius\n  });\n\n  this._overlay.add(this._overlayRect);\n\n  if (segment.overlay) {\n    this._overlayText = new Konva.Text({\n      x:             0,\n      y:             this._overlayOffset,\n      text:          this._segment.labelText,\n      fontFamily:    segmentOptions.overlayFontFamily,\n      fontSize:      segmentOptions.overlayFontSize,\n      fontStyle:     segmentOptions.overlayFontStyle,\n      fill:          segmentOptions.overlayLabelColor,\n      listening:     false,\n      align:         segmentOptions.overlayLabelAlign,\n      width:         segmentEndOffset - segmentStartOffset,\n      verticalAlign: segmentOptions.overlayLabelVerticalAlign,\n      height:        overlayRectHeight,\n      padding:       segmentOptions.overlayLabelPadding\n    });\n\n    this._overlay.add(this._overlayText);\n  }\n\n  // Set up event handlers to show/hide the segment label text when the user\n  // hovers the mouse over the segment.\n  this._overlay.on('mouseenter', this._onMouseEnter);\n  this._overlay.on('mouseleave', this._onMouseLeave);\n\n  this._overlay.on('mousedown', this._onMouseDown);\n  this._overlay.on('mouseup', this._onMouseUp);\n\n  if (this._draggable) {\n    this._overlay.on('dragstart', this._onSegmentDragStart);\n    this._overlay.on('dragmove', this._onSegmentDragMove);\n    this._overlay.on('dragend', this._onSegmentDragEnd);\n  }\n\n  this._createMarkers();\n}\n\nfunction createOverlayMarker(options) {\n  return new OverlaySegmentMarker(options);\n}\n\nSegmentShape.prototype._createMarkers = function() {\n  const editable = this._layer.isEditingEnabled() && this._segment.editable;\n  const viewOptions = this._view.getViewOptions();\n  const segmentOptions = viewOptions.segmentOptions;\n\n  let createSegmentMarker, startMarker, endMarker;\n\n  if (this._segment.markers) {\n    createSegmentMarker = this._peaks.options.createSegmentMarker;\n  }\n  else if (this._segment.overlay) {\n    createSegmentMarker = createOverlayMarker;\n  }\n\n  if (createSegmentMarker) {\n    startMarker = createSegmentMarker({\n      segment:        this._segment,\n      editable:       editable,\n      startMarker:    true,\n      color:          segmentOptions.startMarkerColor,\n      fontFamily:     viewOptions.fontFamily,\n      fontSize:       viewOptions.fontSize,\n      fontStyle:      viewOptions.fontStyle,\n      layer:          this._layer,\n      view:           this._view.getName(),\n      segmentOptions: this._view.getViewOptions().segmentOptions\n    });\n  }\n\n  if (startMarker) {\n    this._startMarker = new SegmentMarker({\n      segment:       this._segment,\n      segmentShape:  this,\n      editable:      editable,\n      startMarker:   true,\n      marker:        startMarker,\n      onClick:       this._onSegmentMarkerClick,\n      onDragStart:   this._onSegmentMarkerDragStart,\n      onDragMove:    this._onSegmentMarkerDragMove,\n      onDragEnd:     this._onSegmentMarkerDragEnd,\n      dragBoundFunc: this._segmentMarkerDragBoundFunc\n    });\n  }\n\n  if (createSegmentMarker) {\n    endMarker = createSegmentMarker({\n      segment:        this._segment,\n      editable:       editable,\n      startMarker:    false,\n      color:          segmentOptions.endMarkerColor,\n      fontFamily:     viewOptions.fontFamily,\n      fontSize:       viewOptions.fontSize,\n      fontStyle:      viewOptions.fontStyle,\n      layer:          this._layer,\n      view:           this._view.getName(),\n      segmentOptions: this._view.getViewOptions().segmentOptions\n    });\n  }\n\n  if (endMarker) {\n    this._endMarker = new SegmentMarker({\n      segment:       this._segment,\n      segmentShape:  this,\n      editable:      editable,\n      startMarker:   false,\n      marker:        endMarker,\n      onClick:       this._onSegmentMarkerClick,\n      onDragStart:   this._onSegmentMarkerDragStart,\n      onDragMove:    this._onSegmentMarkerDragMove,\n      onDragEnd:     this._onSegmentMarkerDragEnd,\n      dragBoundFunc: this._segmentMarkerDragBoundFunc\n    });\n  }\n};\n\nSegmentShape.prototype._dragBoundFunc = function(pos) {\n  // Allow the segment to be moved horizontally but not vertically.\n  return {\n    x: pos.x,\n    y: 0\n  };\n};\n\n/**\n * Update the segment shape after the segment's attributes have changed.\n */\n\nSegmentShape.prototype.update = function(options) {\n  const segmentStartOffset = this._view.timeToPixelOffset(this._segment.startTime);\n  const segmentEndOffset   = this._view.timeToPixelOffset(this._segment.endTime);\n  const width = segmentEndOffset - segmentStartOffset;\n  let marker;\n\n  if ((marker = this.getStartMarker())) {\n    marker.setX(segmentStartOffset - marker.getWidth());\n\n    if (options) {\n      marker.update(options);\n    }\n  }\n\n  if ((marker = this.getEndMarker())) {\n    marker.setX(segmentEndOffset);\n\n    if (options) {\n      marker.update(options);\n    }\n  }\n\n  this._color = this._segment.color;\n  this._borderColor = this._segment.bordercolor;\n\n  if (this._label) {\n    this._label.text(this._segment.labelText);\n  }\n\n  if (this._overlayText) {\n    this._overlayText.text(this._segment.labelText);\n  }\n\n  if (this._segment.overlay) {\n    if (this._color) {\n      this._overlayRect.fill(this._color);\n    }\n\n    if (this._borderColor) {\n      this._overlayRect.stroke(this._borderColor);\n    }\n  }\n  else {\n    this._waveformShape.setWaveformColor(this._segment.color);\n  }\n\n  // While dragging, the overlay position is controlled in _onSegmentDragMove().\n\n  if (!this._dragging) {\n    if (this._overlay) {\n      this._overlay.setAttrs({\n        x:         segmentStartOffset,\n        width:     width,\n        clipWidth: width < 1 ? 1 : width\n      });\n\n      this._overlayRect.setAttrs({\n        x:     0,\n        width: width\n      });\n\n      if (this._overlayText) {\n        this._overlayText.setAttrs({\n          width: width\n        });\n      }\n    }\n  }\n};\n\nSegmentShape.prototype.getSegment = function() {\n  return this._segment;\n};\n\nSegmentShape.prototype.getStartMarker = function() {\n  return this._startMarker;\n};\n\nSegmentShape.prototype.getEndMarker = function() {\n  return this._endMarker;\n};\n\nSegmentShape.prototype.addToLayer = function(layer) {\n  if (this._waveformShape) {\n    this._waveformShape.addToLayer(layer);\n  }\n\n  if (this._label) {\n    layer.add(this._label);\n  }\n\n  if (this._overlay) {\n    layer.add(this._overlay);\n  }\n\n  if (this._startMarker) {\n    this._startMarker.addToLayer(layer);\n  }\n\n  if (this._endMarker) {\n    this._endMarker.addToLayer(layer);\n  }\n};\n\nSegmentShape.prototype.isDragging = function() {\n  return this._dragging;\n};\n\nSegmentShape.prototype._onMouseEnter = function(event) {\n  if (this._label) {\n    this._label.moveToTop();\n    this._label.show();\n  }\n\n  this._peaks.emit('segments.mouseenter', {\n    segment: this._segment,\n    evt: event.evt\n  });\n};\n\nSegmentShape.prototype._onMouseLeave = function(event) {\n  if (this._label) {\n    this._label.hide();\n  }\n\n  this._peaks.emit('segments.mouseleave', {\n    segment: this._segment,\n    evt: event.evt\n  });\n};\n\nSegmentShape.prototype._onMouseDown = function(event) {\n  this._peaks.emit('segments.mousedown', {\n    segment: this._segment,\n    evt: event.evt\n  });\n};\n\nSegmentShape.prototype._onMouseUp = function(event) {\n  this._peaks.emit('segments.mouseup', {\n    segment: this._segment,\n    evt: event.evt\n  });\n};\n\nSegmentShape.prototype.segmentClicked = function(eventName, event) {\n  this._moveToTop();\n\n  this._peaks.emit('segments.' + eventName, event);\n};\n\nSegmentShape.prototype._moveToTop = function() {\n  this._overlay.moveToTop();\n\n  this._layer.moveSegmentMarkersToTop();\n};\n\nSegmentShape.prototype.enableSegmentDragging = function(enable) {\n  if (!this._segment.editable) {\n    return;\n  }\n\n  if (!this._draggable && enable) {\n    this._overlay.on('dragstart', this._onSegmentDragStart);\n    this._overlay.on('dragmove', this._onSegmentDragMove);\n    this._overlay.on('dragend', this._onSegmentDragEnd);\n  }\n  else if (this._draggable && !enable) {\n    this._overlay.off('dragstart', this._onSegmentDragStart);\n    this._overlay.off('dragmove', this._onSegmentDragMove);\n    this._overlay.off('dragend', this._onSegmentDragEnd);\n  }\n\n  this._overlay.draggable(enable);\n  this._draggable = enable;\n};\n\nSegmentShape.prototype._setPreviousAndNextSegments = function() {\n  if (this._view.getSegmentDragMode() !== 'overlap') {\n    this._nextSegment = this._peaks.segments.findNextSegment(this._segment);\n    this._previousSegment = this._peaks.segments.findPreviousSegment(this._segment);\n  }\n  else {\n    this._nextSegment = null;\n    this._previousSegment = null;\n  }\n};\n\nSegmentShape.prototype._onSegmentDragStart = function(event) {\n  this._setPreviousAndNextSegments();\n\n  this._dragging = true;\n  this._dragStartX = this._overlay.getX();\n  this._dragStartTime = this._segment.startTime;\n  this._dragEndTime = this._segment.endTime;\n\n  this._peaks.emit('segments.dragstart', {\n    segment: this._segment,\n    marker: false,\n    startMarker: false,\n    evt: event.evt\n  });\n};\n\nSegmentShape.prototype._onSegmentDragMove = function(event) {\n  const x = this._overlay.getX();\n  const offsetX = x - this._dragStartX;\n  const timeOffset = this._view.pixelsToTime(offsetX);\n\n  // The WaveformShape for a segment fills the canvas width\n  // but only draws a subset of the horizontal range. When dragged\n  // we need to keep the shape object in its position but\n  // update the segment start and end time so that the right\n  // subset is drawn.\n\n  // Calculate new segment start/end time based on drag position. We'll\n  // correct this later based on the drag mode, to prevent overlapping\n  // segments or to compress the adjacent segment.\n\n  let startTime = this._dragStartTime + timeOffset;\n  let endTime = this._dragEndTime + timeOffset;\n  const segmentDuration = this._segment.endTime - this._segment.startTime;\n  let dragMode;\n  const minSegmentWidth = this._view.getMinSegmentDragWidth();\n  const minSegmentDuration = this._view.pixelsToTime(minSegmentWidth);\n  let previousSegmentUpdated = false;\n  let nextSegmentUpdated = false;\n\n  // Prevent the segment from being dragged beyond the start of the waveform.\n\n  if (startTime < 0) {\n    startTime = 0;\n    endTime = segmentDuration;\n    this._overlay.setX(this._view.timeToPixelOffset(startTime));\n  }\n\n  // Adjust segment position if it now overlaps the previous segment?\n\n  if (this._previousSegment) {\n    let previousSegmentEndX = this._view.timeToPixelOffset(this._previousSegment.endTime);\n\n    if (startTime < this._previousSegment.endTime) {\n      dragMode = this._view.getSegmentDragMode();\n\n      if (dragMode === 'no-overlap' ||\n          (dragMode === 'compress' && !this._previousSegment.editable)) {\n        startTime = this._previousSegment.endTime;\n        endTime = startTime + segmentDuration;\n        this._overlay.setX(previousSegmentEndX);\n      }\n      else if (dragMode === 'compress') {\n        let previousSegmentEndTime = startTime;\n\n        const minPreviousSegmentEndTime = this._previousSegment.startTime + minSegmentDuration;\n\n        if (previousSegmentEndTime < minPreviousSegmentEndTime) {\n          previousSegmentEndTime = minPreviousSegmentEndTime;\n\n          previousSegmentEndX = this._view.timeToPixelOffset(previousSegmentEndTime);\n\n          this._overlay.setX(previousSegmentEndX);\n\n          startTime = previousSegmentEndTime;\n          endTime = startTime + segmentDuration;\n        }\n\n        this._previousSegment.update({ endTime: previousSegmentEndTime });\n\n        previousSegmentUpdated = true;\n      }\n    }\n  }\n\n  // Adjust segment position if it now overlaps the following segment?\n\n  if (this._nextSegment) {\n    let nextSegmentStartX = this._view.timeToPixelOffset(this._nextSegment.startTime);\n\n    if (endTime > this._nextSegment.startTime) {\n      dragMode = this._view.getSegmentDragMode();\n\n      if (dragMode === 'no-overlap' ||\n          (dragMode === 'compress' && !this._nextSegment.editable)) {\n        endTime = this._nextSegment.startTime;\n        startTime = endTime - segmentDuration;\n        this._overlay.setX(nextSegmentStartX - this._overlay.getWidth());\n      }\n      else if (dragMode === 'compress') {\n        let nextSegmentStartTime = endTime;\n\n        const maxNextSegmentStartTime = this._nextSegment.endTime - minSegmentDuration;\n\n        if (nextSegmentStartTime > maxNextSegmentStartTime) {\n          nextSegmentStartTime = maxNextSegmentStartTime;\n\n          nextSegmentStartX = this._view.timeToPixelOffset(nextSegmentStartTime);\n\n          this._overlay.setX(nextSegmentStartX - this._overlay.getWidth());\n\n          endTime = nextSegmentStartTime;\n          startTime = endTime - segmentDuration;\n        }\n\n        this._nextSegment.update({ startTime: nextSegmentStartTime });\n\n        nextSegmentUpdated = true;\n      }\n    }\n  }\n\n  this._segment._setStartTime(startTime);\n  this._segment._setEndTime(endTime);\n\n  this._peaks.emit('segments.dragged', {\n    segment: this._segment,\n    marker: false,\n    startMarker: false,\n    evt: event.evt\n  });\n\n  if (previousSegmentUpdated) {\n    this._peaks.emit('segments.dragged', {\n      segment: this._previousSegment,\n      marker: false,\n      startMarker: false,\n      evt: event.evt\n    });\n  }\n  else if (nextSegmentUpdated) {\n    this._peaks.emit('segments.dragged', {\n      segment: this._nextSegment,\n      marker: false,\n      startMarker: false,\n      evt: event.evt\n    });\n  }\n};\n\nSegmentShape.prototype._onSegmentDragEnd = function(event) {\n  this._dragging = false;\n\n  this._peaks.emit('segments.dragend', {\n    segment: this._segment,\n    marker: false,\n    startMarker: false,\n    evt: event.evt\n  });\n};\n\nSegmentShape.prototype.moveMarkersToTop = function() {\n  if (this._startMarker) {\n    this._startMarker.moveToTop();\n  }\n\n  if (this._endMarker) {\n    this._endMarker.moveToTop();\n  }\n};\n\nSegmentShape.prototype.startDrag = function() {\n  if (this._endMarker) {\n    this._endMarker.startDrag();\n  }\n};\n\nSegmentShape.prototype.stopDrag = function() {\n  if (this._endMarker) {\n    this._endMarker.stopDrag();\n  }\n};\n\n/**\n * @param {SegmentMarker} segmentMarker\n */\n\nSegmentShape.prototype._onSegmentMarkerDragStart = function(segmentMarker, event) {\n  this._setPreviousAndNextSegments();\n\n  // Move this segment to the top of the z-order, so that it remains on top\n  // of any adjacent segments that the marker is dragged over.\n  this._moveToTop();\n\n  this._startMarkerX = this._startMarker.getX();\n  this._endMarkerX = this._endMarker.getX();\n\n  this._peaks.emit('segments.dragstart', {\n    segment: this._segment,\n    marker: true,\n    startMarker: segmentMarker.isStartMarker(),\n    evt: event.evt\n  });\n};\n\n/**\n * @param {SegmentMarker} segmentMarker\n */\n\nSegmentShape.prototype._onSegmentMarkerDragMove = function(segmentMarker, event) {\n  if (segmentMarker.isStartMarker()) {\n    this._segmentStartMarkerDragMove(segmentMarker, event);\n    segmentMarker.update({ startTime: this._segment.startTime });\n  }\n  else {\n    this._segmentEndMarkerDragMove(segmentMarker, event);\n    segmentMarker.update({ endTime: this._segment.endTime });\n  }\n};\n\nfunction getDuration(segment) {\n  return segment.endTime - segment.startTime;\n}\n\nSegmentShape.prototype._segmentStartMarkerDragMove = function(segmentMarker, event) {\n  const width = this._view.getWidth();\n\n  let startMarkerX = this._startMarker.getX();\n  const endMarkerX = this._endMarker.getX();\n\n  let minSegmentDuration = this._view.pixelsToTime(50);\n  const minSegmentWidth = this._view.getMinSegmentDragWidth();\n\n  let upperLimit = this._endMarker.getX() - minSegmentWidth;\n\n  if (upperLimit > width) {\n    upperLimit = width;\n  }\n\n  let previousSegmentVisible = false;\n  let previousSegmentUpdated = false;\n  let previousSegmentEndX;\n\n  if (this._previousSegment) {\n    previousSegmentEndX = this._view.timeToPixelOffset(this._previousSegment.endTime);\n    previousSegmentVisible = previousSegmentEndX >= 0;\n  }\n\n  if (startMarkerX > upperLimit) {\n    segmentMarker.setX(upperLimit);\n    this._overlay.clipWidth(upperLimit - endMarkerX);\n\n    if (minSegmentWidth === 0 && upperLimit < width) {\n      this._segment._setStartTime(this._segment.endTime);\n    }\n    else {\n      this._segment._setStartTime(this._view.pixelOffsetToTime(upperLimit));\n    }\n  }\n  else if (this._previousSegment && previousSegmentVisible) {\n    const dragMode = this._view.getSegmentDragMode();\n\n    const fixedPreviousSegment = dragMode === 'no-overlap' ||\n      (dragMode === 'compress' && !this._previousSegment.editable);\n\n    const compressPreviousSegment = dragMode === 'compress' && this._previousSegment.editable;\n\n    if (startMarkerX <= previousSegmentEndX) {\n      if (fixedPreviousSegment) {\n        segmentMarker.setX(previousSegmentEndX);\n        this._overlay.clipWidth(previousSegmentEndX - endMarkerX);\n\n        this._segment._setStartTime(this._previousSegment.endTime);\n      }\n      else if (compressPreviousSegment) {\n        const previousSegmentDuration = getDuration(this._previousSegment);\n\n        if (previousSegmentDuration < minSegmentDuration) {\n          minSegmentDuration = previousSegmentDuration;\n        }\n\n        const lowerLimit = this._view.timeToPixelOffset(\n          this._previousSegment.startTime + minSegmentDuration\n        );\n\n        if (startMarkerX < lowerLimit) {\n          startMarkerX = lowerLimit;\n        }\n\n        segmentMarker.setX(startMarkerX);\n        this._overlay.clipWidth(endMarkerX - startMarkerX);\n\n        this._segment._setStartTime(this._view.pixelOffsetToTime(startMarkerX));\n\n        this._previousSegment.update({\n          endTime: this._view.pixelOffsetToTime(startMarkerX)\n        });\n\n        previousSegmentUpdated = true;\n      }\n    }\n    else {\n      if (startMarkerX < 0) {\n        startMarkerX = 0;\n      }\n\n      segmentMarker.setX(startMarkerX);\n      this._overlay.clipWidth(endMarkerX - startMarkerX);\n\n      this._segment._setStartTime(this._view.pixelOffsetToTime(startMarkerX));\n    }\n  }\n  else {\n    if (startMarkerX < 0) {\n      startMarkerX = 0;\n    }\n\n    segmentMarker.setX(startMarkerX);\n    this._overlay.clipWidth(endMarkerX - startMarkerX);\n\n    this._segment._setStartTime(this._view.pixelOffsetToTime(startMarkerX));\n  }\n\n  this._peaks.emit('segments.dragged', {\n    segment: this._segment,\n    marker: true,\n    startMarker: true,\n    evt: event.evt\n  });\n\n  if (previousSegmentUpdated) {\n    this._peaks.emit('segments.dragged', {\n      segment: this._previousSegment,\n      marker: true,\n      startMarker: false,\n      evt: event.evt\n    });\n  }\n};\n\nSegmentShape.prototype._segmentEndMarkerDragMove = function(segmentMarker, event) {\n  const width = this._view.getWidth();\n\n  const startMarkerX = this._startMarker.getX();\n  let endMarkerX = this._endMarker.getX();\n\n  let minSegmentDuration = this._view.pixelsToTime(50);\n  const minSegmentWidth = this._view.getMinSegmentDragWidth();\n\n  let lowerLimit = this._startMarker.getX() + minSegmentWidth;\n\n  if (lowerLimit < 0) {\n    lowerLimit = 0;\n  }\n\n  let nextSegmentVisible = false;\n  let nextSegmentUpdated = false;\n  let nextSegmentStartX;\n\n  if (this._nextSegment) {\n    nextSegmentStartX = this._view.timeToPixelOffset(this._nextSegment.startTime);\n    nextSegmentVisible = nextSegmentStartX < width;\n  }\n\n  if (endMarkerX < lowerLimit) {\n    segmentMarker.setX(lowerLimit);\n    this._overlay.clipWidth(lowerLimit - startMarkerX);\n\n    if (minSegmentWidth === 0 && lowerLimit > 0) {\n      this._segment._setEndTime(this._segment.startTime);\n    }\n    else {\n      this._segment._setEndTime(this._view.pixelOffsetToTime(lowerLimit));\n    }\n  }\n  else if (this._nextSegment && nextSegmentVisible) {\n    const dragMode = this._view.getSegmentDragMode();\n\n    const fixedNextSegment = dragMode === 'no-overlap' ||\n      (dragMode === 'compress' && !this._nextSegment.editable);\n\n    const compressNextSegment = dragMode === 'compress' && this._nextSegment.editable;\n\n    if (endMarkerX >= nextSegmentStartX) {\n      if (fixedNextSegment) {\n        segmentMarker.setX(nextSegmentStartX);\n        this._overlay.clipWidth(nextSegmentStartX - startMarkerX);\n\n        this._segment._setEndTime(this._nextSegment.startTime);\n      }\n      else if (compressNextSegment) {\n        const nextSegmentDuration = getDuration(this._nextSegment);\n\n        if (nextSegmentDuration < minSegmentDuration) {\n          minSegmentDuration = nextSegmentDuration;\n        }\n\n        const upperLimit = this._view.timeToPixelOffset(\n          this._nextSegment.endTime - minSegmentDuration\n        );\n\n        if (endMarkerX > upperLimit) {\n          endMarkerX = upperLimit;\n        }\n\n        segmentMarker.setX(endMarkerX);\n        this._overlay.clipWidth(endMarkerX - startMarkerX);\n\n        this._segment._setEndTime(this._view.pixelOffsetToTime(endMarkerX));\n\n        this._nextSegment.update({\n          startTime: this._view.pixelOffsetToTime(endMarkerX)\n        });\n\n        nextSegmentUpdated = true;\n      }\n    }\n    else {\n      if (endMarkerX > width) {\n        endMarkerX = width;\n      }\n\n      segmentMarker.setX(endMarkerX);\n      this._overlay.clipWidth(endMarkerX - startMarkerX);\n\n      this._segment._setEndTime(this._view.pixelOffsetToTime(endMarkerX));\n    }\n  }\n  else {\n    if (endMarkerX > width) {\n      endMarkerX = width;\n    }\n\n    segmentMarker.setX(endMarkerX);\n    this._overlay.clipWidth(endMarkerX - startMarkerX);\n\n    this._segment._setEndTime(this._view.pixelOffsetToTime(endMarkerX));\n  }\n\n  this._peaks.emit('segments.dragged', {\n    segment: this._segment,\n    marker: true,\n    startMarker: false,\n    evt: event.evt\n  });\n\n  if (nextSegmentUpdated) {\n    this._peaks.emit('segments.dragged', {\n      segment: this._nextSegment,\n      marker: true,\n      startMarker: true,\n      evt: event.evt\n    });\n  }\n};\n\n/**\n * @param {SegmentMarker} segmentMarker\n */\n\nSegmentShape.prototype._onSegmentMarkerDragEnd = function(segmentMarker, event) {\n  this._nextSegment = null;\n  this._previousSegment = null;\n\n  const startMarker = segmentMarker.isStartMarker();\n\n  this._peaks.emit('segments.dragend', {\n    segment: this._segment,\n    marker: true,\n    startMarker: startMarker,\n    evt: event.evt\n  });\n};\n\nSegmentShape.prototype._segmentMarkerDragBoundFunc = function(segmentMarker, pos) {\n  // Allow the marker to be moved horizontally but not vertically.\n  return {\n    x: pos.x,\n    y: segmentMarker.getAbsolutePosition().y\n  };\n};\n\nSegmentShape.prototype._onSegmentMarkerClick = function() {\n  // Move this segment to the top of the z-order.\n  this._moveToTop();\n};\n\nSegmentShape.prototype.fitToView = function() {\n  if (this._startMarker) {\n    this._startMarker.fitToView();\n  }\n\n  if (this._endMarker) {\n    this._endMarker.fitToView();\n  }\n\n  if (this._overlay) {\n    const height = this._view.getHeight();\n\n    const overlayRectHeight = clamp(0, height - (this._overlayOffset * 2));\n\n    this._overlay.setAttrs({\n      y:          0,\n      height:     height,\n      clipY:      this._overlayOffset,\n      clipHeight: overlayRectHeight\n    });\n\n    this._overlayRect.setAttrs({\n      y:      this._overlayOffset,\n      height: overlayRectHeight\n    });\n\n    if (this._overlayText) {\n      this._overlayText.setAttrs({\n        y:      this._overlayOffset,\n        height: overlayRectHeight\n      });\n    }\n  }\n};\n\nSegmentShape.prototype.destroy = function() {\n  if (this._waveformShape) {\n    this._waveformShape.destroy();\n  }\n\n  if (this._label) {\n    this._label.destroy();\n  }\n\n  if (this._startMarker) {\n    this._startMarker.destroy();\n  }\n\n  if (this._endMarker) {\n    this._endMarker.destroy();\n  }\n\n  if (this._overlay) {\n    this._overlay.destroy();\n  }\n};\n\nexport default SegmentShape;\n","/**\n * @file\n *\n * Defines the {@link SegmentsLayer} class.\n *\n * @module segments-layer\n */\n\nimport SegmentShape from './segment-shape';\nimport { objectHasProperty } from './utils';\nimport Konva from 'konva/lib/Core';\n\n/**\n * Creates a Konva.Layer that displays segment markers against the audio\n * waveform.\n *\n * @class\n * @alias SegmentsLayer\n *\n * @param {Peaks} peaks\n * @param {WaveformOverview|WaveformZoomView} view\n * @param {Boolean} enableEditing\n */\n\nfunction SegmentsLayer(peaks, view, enableEditing) {\n  this._peaks         = peaks;\n  this._view          = view;\n  this._enableEditing = enableEditing;\n  this._segmentShapes = {};\n  this._layer         = new Konva.Layer();\n\n  this._onSegmentsUpdate    = this._onSegmentsUpdate.bind(this);\n  this._onSegmentsAdd       = this._onSegmentsAdd.bind(this);\n  this._onSegmentsRemove    = this._onSegmentsRemove.bind(this);\n  this._onSegmentsRemoveAll = this._onSegmentsRemoveAll.bind(this);\n  this._onSegmentsDragged   = this._onSegmentsDragged.bind(this);\n\n  this._peaks.on('segments.update', this._onSegmentsUpdate);\n  this._peaks.on('segments.add', this._onSegmentsAdd);\n  this._peaks.on('segments.remove', this._onSegmentsRemove);\n  this._peaks.on('segments.remove_all', this._onSegmentsRemoveAll);\n  this._peaks.on('segments.dragged', this._onSegmentsDragged);\n}\n\n/**\n * Adds the layer to the given {Konva.Stage}.\n *\n * @param {Konva.Stage} stage\n */\n\nSegmentsLayer.prototype.addToStage = function(stage) {\n  stage.add(this._layer);\n};\n\nSegmentsLayer.prototype.setListening = function(listening) {\n  this._layer.listening(listening);\n};\n\nSegmentsLayer.prototype.enableEditing = function(enable) {\n  this._enableEditing = enable;\n};\n\nSegmentsLayer.prototype.isEditingEnabled = function() {\n  return this._enableEditing;\n};\n\nSegmentsLayer.prototype.enableSegmentDragging = function(enable) {\n  for (const segmentPid in this._segmentShapes) {\n    if (objectHasProperty(this._segmentShapes, segmentPid)) {\n      this._segmentShapes[segmentPid].enableSegmentDragging(enable);\n    }\n  }\n};\n\nSegmentsLayer.prototype.getSegmentShape = function(segment) {\n  return this._segmentShapes[segment.pid];\n};\n\nSegmentsLayer.prototype.formatTime = function(time) {\n  return this._view.formatTime(time);\n};\n\nSegmentsLayer.prototype._onSegmentsUpdate = function(segment, options) {\n  const frameStartTime = this._view.getStartTime();\n  const frameEndTime = this._view.getEndTime();\n\n  let segmentShape = this.getSegmentShape(segment);\n  const isVisible = segment.isVisible(frameStartTime, frameEndTime);\n\n  if (segmentShape && !isVisible) {\n    // Remove segment shape that is no longer visible.\n\n    if (!segmentShape.isDragging()) {\n      this._removeSegment(segment);\n    }\n  }\n  else if (!segmentShape && isVisible) {\n    // Add segment shape for visible segment.\n    segmentShape = this._updateSegment(segment);\n  }\n  else if (segmentShape && isVisible) {\n    // Update the segment shape with the changed attributes.\n    segmentShape.update(options);\n  }\n};\n\nSegmentsLayer.prototype._onSegmentsAdd = function(event) {\n  const self = this;\n\n  const frameStartTime = self._view.getStartTime();\n  const frameEndTime   = self._view.getEndTime();\n\n  event.segments.forEach(function(segment) {\n    if (segment.isVisible(frameStartTime, frameEndTime)) {\n      const segmentShape = self._addSegmentShape(segment);\n\n      segmentShape.update();\n    }\n  });\n\n  // Ensure segment markers are always draggable.\n  this.moveSegmentMarkersToTop();\n};\n\nSegmentsLayer.prototype._onSegmentsRemove = function(event) {\n  const self = this;\n\n  event.segments.forEach(function(segment) {\n    self._removeSegment(segment);\n  });\n};\n\nSegmentsLayer.prototype._onSegmentsRemoveAll = function() {\n  this._layer.removeChildren();\n  this._segmentShapes = {};\n};\n\nSegmentsLayer.prototype._onSegmentsDragged = function(event) {\n  this._updateSegment(event.segment);\n};\n\n/**\n * Creates the Konva UI objects for a given segment.\n *\n * @private\n * @param {Segment} segment\n * @returns {SegmentShape}\n */\n\nSegmentsLayer.prototype._createSegmentShape = function(segment) {\n  return new SegmentShape(segment, this._peaks, this, this._view);\n};\n\n/**\n * Adds a Konva UI object to the layer for a given segment.\n *\n * @private\n * @param {Segment} segment\n * @returns {SegmentShape}\n */\n\nSegmentsLayer.prototype._addSegmentShape = function(segment) {\n  const segmentShape = this._createSegmentShape(segment);\n\n  segmentShape.addToLayer(this._layer);\n\n  this._segmentShapes[segment.pid] = segmentShape;\n\n  return segmentShape;\n};\n\n/**\n * Updates the positions of all displayed segments in the view.\n *\n * @param {Number} startTime The start of the visible range in the view,\n *   in seconds.\n * @param {Number} endTime The end of the visible range in the view,\n *   in seconds.\n */\n\nSegmentsLayer.prototype.updateSegments = function(startTime, endTime) {\n  // Update segments in visible time range.\n  const segments = this._peaks.segments.find(startTime, endTime);\n\n  segments.forEach(this._updateSegment.bind(this));\n\n  // TODO: In the overview all segments are visible, so no need to do this.\n  this._removeInvisibleSegments(startTime, endTime);\n};\n\n/**\n * @private\n * @param {Segment} segment\n */\n\nSegmentsLayer.prototype._updateSegment = function(segment) {\n  let segmentShape = this.getSegmentShape(segment);\n\n  if (!segmentShape) {\n    segmentShape = this._addSegmentShape(segment);\n  }\n\n  segmentShape.update();\n};\n\n/**\n * Removes any segments that are not visible, i.e., are not within and do not\n * overlap the given time range.\n *\n * @private\n * @param {Number} startTime The start of the visible time range, in seconds.\n * @param {Number} endTime The end of the visible time range, in seconds.\n */\n\nSegmentsLayer.prototype._removeInvisibleSegments = function(startTime, endTime) {\n  for (const segmentPid in this._segmentShapes) {\n    if (objectHasProperty(this._segmentShapes, segmentPid)) {\n      const segment = this._segmentShapes[segmentPid].getSegment();\n\n      if (!segment.isVisible(startTime, endTime)) {\n        this._removeSegment(segment);\n      }\n    }\n  }\n};\n\n/**\n * Removes the given segment from the view.\n *\n * @param {Segment} segment\n */\n\nSegmentsLayer.prototype._removeSegment = function(segment) {\n  const segmentShape = this._segmentShapes[segment.pid];\n\n  if (segmentShape) {\n    segmentShape.destroy();\n    delete this._segmentShapes[segment.pid];\n  }\n};\n\n/**\n * Moves all segment markers to the top of the z-order,\n * so the user can always drag them.\n */\n\nSegmentsLayer.prototype.moveSegmentMarkersToTop = function() {\n  for (const segmentPid in this._segmentShapes) {\n    if (objectHasProperty(this._segmentShapes, segmentPid)) {\n      this._segmentShapes[segmentPid].moveMarkersToTop();\n    }\n  }\n};\n\n/**\n * Toggles visibility of the segments layer.\n *\n * @param {Boolean} visible\n */\n\nSegmentsLayer.prototype.setVisible = function(visible) {\n  this._layer.setVisible(visible);\n};\n\nSegmentsLayer.prototype.segmentClicked = function(eventName, event) {\n  const segmentShape = this._segmentShapes[event.segment.pid];\n\n  if (segmentShape) {\n    segmentShape.segmentClicked(eventName, event);\n  }\n};\n\nSegmentsLayer.prototype.destroy = function() {\n  this._peaks.off('segments.update', this._onSegmentsUpdate);\n  this._peaks.off('segments.add', this._onSegmentsAdd);\n  this._peaks.off('segments.remove', this._onSegmentsRemove);\n  this._peaks.off('segments.remove_all', this._onSegmentsRemoveAll);\n  this._peaks.off('segments.dragged', this._onSegmentsDragged);\n};\n\nSegmentsLayer.prototype.fitToView = function() {\n  for (const segmentPid in this._segmentShapes) {\n    if (objectHasProperty(this._segmentShapes, segmentPid)) {\n      const segmentShape = this._segmentShapes[segmentPid];\n\n      segmentShape.fitToView();\n    }\n  }\n};\n\nSegmentsLayer.prototype.draw = function() {\n  this._layer.draw();\n};\n\nSegmentsLayer.prototype.getHeight = function() {\n  return this._layer.getHeight();\n};\n\nexport default SegmentsLayer;\n","/**\n * @file\n *\n * Defines the {@link WaveformAxis} class.\n *\n * @module waveform-axis\n */\n\nimport { formatTime, objectHasProperty, roundUpToNearest } from './utils';\nimport Konva from 'konva/lib/Core';\n\n/**\n * Creates the waveform axis shapes and adds them to the given view layer.\n *\n * @class\n * @alias WaveformAxis\n *\n * @param {WaveformOverview|WaveformZoomView} view\n * @param {Object} options\n * @param {String} options.axisGridlineColor\n * @param {String} options.axisLabelColor\n * @param {Boolean} options.showAxisLabels\n * @param {Function} options.formatAxisTime\n * @param {String} options.fontFamily\n * @param {Number} options.fontSize\n * @param {String} options.fontStyle\n */\n\nfunction WaveformAxis(view, options) {\n  const self = this;\n\n  self._axisGridlineColor      = options.axisGridlineColor;\n  self._axisLabelColor         = options.axisLabelColor;\n  self._showAxisLabels         = options.showAxisLabels;\n  self._axisTopMarkerHeight    = options.axisTopMarkerHeight;\n  self._axisBottomMarkerHeight = options.axisBottomMarkerHeight;\n\n  if (options.formatAxisTime) {\n    self._formatAxisTime = options.formatAxisTime;\n  }\n  else {\n    self._formatAxisTime = function(time) {\n      // precision = 0, drops the fractional seconds\n      return formatTime(time, 0);\n    };\n  }\n\n  self._axisLabelFont = WaveformAxis._buildFontString(\n    options.fontFamily,\n    options.fontSize,\n    options.fontStyle\n  );\n\n  self._axisShape = new Konva.Shape({\n    sceneFunc: function(context) {\n      self._drawAxis(context, view);\n    }\n  });\n}\n\nWaveformAxis._buildFontString = function(fontFamily, fontSize, fontStyle) {\n  if (!fontSize) {\n    fontSize = 11;\n  }\n\n  if (!fontFamily) {\n    fontFamily = 'sans-serif';\n  }\n\n  if (!fontStyle) {\n    fontStyle = 'normal';\n  }\n\n  return fontStyle + ' ' + fontSize + 'px ' + fontFamily;\n};\n\nWaveformAxis.prototype.addToLayer = function(layer) {\n  layer.add(this._axisShape);\n};\n\nWaveformAxis.prototype.showAxisLabels = function(show, options) {\n  this._showAxisLabels = show;\n\n  if (options) {\n    if (objectHasProperty(options, 'topMarkerHeight')) {\n      this._axisTopMarkerHeight = options.topMarkerHeight;\n    }\n\n    if (objectHasProperty(options, 'bottomMarkerHeight')) {\n      this._axisBottomMarkerHeight = options.bottomMarkerHeight;\n    }\n  }\n};\n\nWaveformAxis.prototype.setAxisLabelColor = function(color) {\n  this._axisLabelColor = color;\n};\n\nWaveformAxis.prototype.setAxisGridlineColor = function(color) {\n  this._axisGridlineColor = color;\n};\n\n/**\n * Returns number of seconds for each x-axis marker, appropriate for the\n * current zoom level, ensuring that markers are not too close together\n * and that markers are placed at intuitive time intervals (i.e., every 1,\n * 2, 5, 10, 20, 30 seconds, then every 1, 2, 5, 10, 20, 30 minutes, then\n * every 1, 2, 5, 10, 20, 30 hours).\n *\n * @param {WaveformOverview|WaveformZoomView} view\n * @returns {Number}\n */\n\nWaveformAxis.prototype._getAxisLabelScale = function(view) {\n  let baseSecs = 1; // seconds\n  const steps = [1, 2, 5, 10, 20, 30];\n  const minSpacing = 60;\n  let index = 0;\n\n  let secs;\n\n  for (;;) {\n    secs = baseSecs * steps[index];\n    const pixels = view.timeToPixels(secs);\n\n    if (pixels < minSpacing) {\n      if (++index === steps.length) {\n        baseSecs *= 60; // seconds -> minutes -> hours\n        index = 0;\n      }\n    }\n    else {\n      break;\n    }\n  }\n\n  return secs;\n};\n\n/**\n * Draws the time axis and labels onto a view.\n *\n * @param {Konva.Context} context The context to draw on.\n * @param {WaveformOverview|WaveformZoomView} view\n */\n\nWaveformAxis.prototype._drawAxis = function(context, view) {\n  const currentFrameStartTime = view.getStartTime();\n\n  // Time interval between axis markers (seconds)\n  const axisLabelIntervalSecs = this._getAxisLabelScale(view);\n\n  // Time of first axis marker (seconds)\n  const firstAxisLabelSecs = roundUpToNearest(currentFrameStartTime, axisLabelIntervalSecs);\n\n  // Distance between waveform start time and first axis marker (seconds)\n  const axisLabelOffsetSecs = firstAxisLabelSecs - currentFrameStartTime;\n\n  // Distance between waveform start time and first axis marker (pixels)\n  const axisLabelOffsetPixels = view.timeToPixels(axisLabelOffsetSecs);\n\n  context.setAttr('strokeStyle', this._axisGridlineColor);\n  context.setAttr('lineWidth', 1);\n\n  // Set text style\n  context.setAttr('font', this._axisLabelFont);\n  context.setAttr('fillStyle', this._axisLabelColor);\n  context.setAttr('textAlign', 'left');\n  context.setAttr('textBaseline', 'bottom');\n\n  const width  = view.getWidth();\n  const height = view.getHeight();\n\n  let secs = firstAxisLabelSecs;\n\n  for (;;) {\n    // Position of axis marker (pixels)\n    const x = axisLabelOffsetPixels + view.timeToPixels(secs - firstAxisLabelSecs);\n\n    if (x >= width) {\n      break;\n    }\n\n    if (this._axisTopMarkerHeight > 0) {\n      context.beginPath();\n      context.moveTo(x + 0.5, 0);\n      context.lineTo(x + 0.5, 0 + this._axisTopMarkerHeight);\n      context.stroke();\n    }\n\n    if (this._axisBottomMarkerHeight > 0) {\n      context.beginPath();\n      context.moveTo(x + 0.5, height);\n      context.lineTo(x + 0.5, height - this._axisBottomMarkerHeight);\n      context.stroke();\n    }\n\n    if (this._showAxisLabels) {\n      const label      = this._formatAxisTime(secs);\n      const labelWidth = context.measureText(label).width;\n      const labelX     = x - labelWidth / 2;\n      const labelY     = height - 1 - this._axisBottomMarkerHeight;\n\n      if (labelX >= 0) {\n        context.fillText(label, labelX, labelY);\n      }\n    }\n\n    secs += axisLabelIntervalSecs;\n  }\n};\n\nexport default WaveformAxis;\n","/**\n * @file\n *\n * Defines the {@link WaveformView} class.\n *\n * @module waveform-view\n */\n\nimport PointsLayer from './points-layer';\nimport PlayheadLayer from './playhead-layer';\nimport SegmentsLayer from './segments-layer';\nimport WaveformAxis from './waveform-axis';\nimport WaveformShape from './waveform-shape';\n\nimport { formatTime, getMarkerObject, isFinite, isNumber } from './utils';\n\nimport Konva from 'konva/lib/Core';\n\nfunction WaveformView(waveformData, container, peaks, viewOptions) {\n  const self = this;\n\n  self._container = container;\n  self._peaks = peaks;\n  self._options = peaks.options;\n  self._viewOptions = viewOptions;\n\n  self._originalWaveformData = waveformData;\n  self._data = waveformData;\n\n  // The pixel offset of the current frame being displayed\n  self._frameOffset = 0;\n  self._width = container.clientWidth;\n  self._height = container.clientHeight;\n\n  self._amplitudeScale = 1.0;\n\n  self._waveformColor = self._viewOptions.waveformColor;\n  self._playedWaveformColor = self._viewOptions.playedWaveformColor;\n\n  self._timeLabelPrecision = self._viewOptions.timeLabelPrecision;\n\n  if (self._viewOptions.formatPlayheadTime) {\n    self._formatPlayheadTime = self._viewOptions.formatPlayheadTime;\n  }\n  else {\n    self._formatPlayheadTime = function(time) {\n      return formatTime(time, self._timeLabelPrecision);\n    };\n  }\n\n  self._enableSeek = true;\n\n  self.initWaveformData();\n\n  // Disable warning: The stage has 6 layers.\n  // Recommended maximum number of layers is 3-5.\n  Konva.showWarnings = false;\n\n  self._stage = new Konva.Stage({\n    container: container,\n    width: self._width,\n    height: self._height\n  });\n\n  self._createWaveform();\n\n  if (self._viewOptions.enableSegments) {\n    self._segmentsLayer = new SegmentsLayer(peaks, self, self._viewOptions.enableEditing);\n    self._segmentsLayer.addToStage(self._stage);\n  }\n\n  if (self._viewOptions.enablePoints) {\n    self._pointsLayer = new PointsLayer(peaks, self, self._viewOptions.enableEditing);\n    self._pointsLayer.addToStage(self._stage);\n  }\n\n  self.initHighlightLayer();\n\n  self._createAxisLabels();\n\n  self._playheadLayer = new PlayheadLayer(\n    self._peaks.player,\n    self,\n    self._viewOptions\n  );\n\n  self._playheadLayer.addToStage(self._stage);\n\n  self._onClick = self._onClick.bind(self);\n  self._onDblClick = self._onDblClick.bind(self);\n  self._onContextMenu = self._onContextMenu.bind(self);\n\n  self._stage.on('click', self._onClick);\n  self._stage.on('dblclick', self._onDblClick);\n  self._stage.on('contextmenu', self._onContextMenu);\n}\n\nWaveformView.prototype.getViewOptions = function() {\n  return this._viewOptions;\n};\n\n/**\n * @returns {WaveformData} The view's waveform data.\n */\n\nWaveformView.prototype.getWaveformData = function() {\n  return this._data;\n};\n\nWaveformView.prototype.setWaveformData = function(waveformData) {\n  this._data = waveformData;\n};\n\n/**\n * Returns the pixel index for a given time, for the current zoom level.\n *\n * @param {Number} time Time, in seconds.\n * @returns {Number} Pixel index.\n */\n\nWaveformView.prototype.timeToPixels = function(time) {\n  return Math.floor(time * this._data.sample_rate / this._data.scale);\n};\n\n/**\n * Returns the time for a given pixel index, for the current zoom level.\n *\n * @param {Number} pixels Pixel index.\n * @returns {Number} Time, in seconds.\n */\n\nWaveformView.prototype.pixelsToTime = function(pixels) {\n  return pixels * this._data.scale / this._data.sample_rate;\n};\n\n/**\n * Returns the time for a given pixel offset (relative to the\n * current scroll position), for the current zoom level.\n *\n * @param {Number} offset Offset from left-visible-edge of view\n * @returns {Number} Time, in seconds.\n */\n\nWaveformView.prototype.pixelOffsetToTime = function(offset) {\n  const pixels = this._frameOffset + offset;\n\n  return pixels * this._data.scale / this._data.sample_rate;\n};\n\nWaveformView.prototype.timeToPixelOffset = function(time) {\n  return Math.floor(time * this._data.sample_rate / this._data.scale) - this._frameOffset;\n};\n\n/**\n * @returns {Number} The start position of the waveform shown in the view,\n *   in pixels.\n */\n\nWaveformView.prototype.getFrameOffset = function() {\n  return this._frameOffset;\n};\n\n/**\n * @returns {Number} The width of the view, in pixels.\n */\n\nWaveformView.prototype.getWidth = function() {\n  return this._width;\n};\n\n/**\n * @returns {Number} The height of the view, in pixels.\n */\n\nWaveformView.prototype.getHeight = function() {\n  return this._height;\n};\n\n/**\n * @returns {Number} The time at the left edge of the waveform view.\n */\n\nWaveformView.prototype.getStartTime = function() {\n  return this.pixelOffsetToTime(0);\n};\n\n/**\n * @returns {Number} The time at the right edge of the waveform view.\n */\n\nWaveformView.prototype.getEndTime = function() {\n  return this.pixelOffsetToTime(this._width);\n};\n\n/**\n * @returns {Number} The media duration, in seconds.\n */\n\nWaveformView.prototype._getDuration = function() {\n  return this._peaks.player.getDuration();\n};\n\nWaveformView.prototype._createWaveform = function() {\n  this._waveformLayer = new Konva.Layer({ listening: false });\n\n  this._createWaveformShapes();\n\n  this._stage.add(this._waveformLayer);\n};\n\nWaveformView.prototype._createWaveformShapes = function() {\n  if (!this._waveformShape) {\n    this._waveformShape = new WaveformShape({\n      color: this._waveformColor,\n      view: this\n    });\n\n    this._waveformShape.addToLayer(this._waveformLayer);\n  }\n\n  if (this._playedWaveformColor && !this._playedWaveformShape) {\n    const time = this._peaks.player.getCurrentTime();\n\n    this._playedSegment = {\n      startTime: 0,\n      endTime: time\n    };\n\n    this._unplayedSegment = {\n      startTime: time,\n      endTime: this._getDuration()\n    };\n\n    this._waveformShape.setSegment(this._unplayedSegment);\n\n    this._playedWaveformShape = new WaveformShape({\n      color: this._playedWaveformColor,\n      view: this,\n      segment: this._playedSegment\n    });\n\n    this._playedWaveformShape.addToLayer(this._waveformLayer);\n  }\n};\n\nWaveformView.prototype.setWaveformColor = function(color) {\n  this._waveformColor = color;\n  this._waveformShape.setWaveformColor(color);\n};\n\nWaveformView.prototype.setPlayedWaveformColor = function(color) {\n  this._playedWaveformColor = color;\n\n  if (color) {\n    if (!this._playedWaveformShape) {\n      this._createWaveformShapes();\n    }\n\n    this._playedWaveformShape.setWaveformColor(color);\n  }\n  else {\n    if (this._playedWaveformShape) {\n      this._destroyPlayedWaveformShape();\n    }\n  }\n};\n\nWaveformView.prototype._destroyPlayedWaveformShape = function() {\n  this._waveformShape.setSegment(null);\n\n  this._playedWaveformShape.destroy();\n  this._playedWaveformShape = null;\n\n  this._playedSegment = null;\n  this._unplayedSegment = null;\n};\n\nWaveformView.prototype._createAxisLabels = function() {\n  this._axisLayer = new Konva.Layer({ listening: false });\n  this._axis = new WaveformAxis(this, this._viewOptions);\n\n  this._axis.addToLayer(this._axisLayer);\n  this._stage.add(this._axisLayer);\n};\n\nWaveformView.prototype.showAxisLabels = function(show, options) {\n  this._axis.showAxisLabels(show, options);\n  this._axisLayer.draw();\n};\n\nWaveformView.prototype.setAxisLabelColor = function(color) {\n  this._axis.setAxisLabelColor(color);\n  this._axisLayer.draw();\n};\n\nWaveformView.prototype.setAxisGridlineColor = function(color) {\n  this._axis.setAxisGridlineColor(color);\n  this._axisLayer.draw();\n};\n\nWaveformView.prototype.showPlayheadTime = function(show) {\n  this._playheadLayer.showPlayheadTime(show);\n};\n\nWaveformView.prototype.setTimeLabelPrecision = function(precision) {\n  this._timeLabelPrecision = precision;\n  this._playheadLayer.updatePlayheadText();\n};\n\nWaveformView.prototype.formatTime = function(time) {\n  return this._formatPlayheadTime(time);\n};\n\n/**\n * Adjusts the amplitude scale of waveform shown in the view, which allows\n * users to zoom the waveform vertically.\n *\n * @param {Number} scale The new amplitude scale factor\n */\n\nWaveformView.prototype.setAmplitudeScale = function(scale) {\n  if (!isNumber(scale) || !isFinite(scale)) {\n    throw new Error('view.setAmplitudeScale(): Scale must be a valid number');\n  }\n\n  this._amplitudeScale = scale;\n\n  this.drawWaveformLayer();\n\n  if (this._segmentsLayer) {\n    this._segmentsLayer.draw();\n  }\n};\n\nWaveformView.prototype.getAmplitudeScale = function() {\n  return this._amplitudeScale;\n};\n\nWaveformView.prototype.enableSeek = function(enable) {\n  this._enableSeek = enable;\n};\n\nWaveformView.prototype.isSeekEnabled = function() {\n  return this._enableSeek;\n};\n\nWaveformView.prototype._onClick = function(event) {\n  this._clickHandler(event, 'click');\n};\n\nWaveformView.prototype._onDblClick = function(event) {\n  this._clickHandler(event, 'dblclick');\n};\n\nWaveformView.prototype._onContextMenu = function(event) {\n  this._clickHandler(event, 'contextmenu');\n};\n\nWaveformView.prototype._clickHandler = function(event, eventName) {\n  let offsetX = event.evt.offsetX;\n\n  if (offsetX < 0) {\n    offsetX = 0;\n  }\n\n  let emitViewEvent = true;\n\n  if (event.target !== this._stage) {\n    const marker = getMarkerObject(event.target);\n\n    if (marker) {\n      if (marker.attrs.name === 'point-marker') {\n        const point = marker.getAttr('point');\n\n        if (point) {\n          this._peaks.emit('points.' + eventName, {\n            point: point,\n            evt: event.evt,\n            preventViewEvent: function() {\n              emitViewEvent = false;\n            }\n          });\n        }\n      }\n      else if (marker.attrs.name === 'segment-overlay') {\n        const segment = marker.getAttr('segment');\n\n        if (segment) {\n          const clickEvent = {\n            segment: segment,\n            evt: event.evt,\n            preventViewEvent: function() {\n              emitViewEvent = false;\n            }\n          };\n\n          if (this._segmentsLayer) {\n            this._segmentsLayer.segmentClicked(eventName, clickEvent);\n          }\n        }\n      }\n    }\n  }\n\n  if (emitViewEvent) {\n    const time = this.pixelOffsetToTime(offsetX);\n    const viewName = this.getName();\n\n    this._peaks.emit(viewName + '.' + eventName, {\n      time: time,\n      evt: event.evt\n    });\n  }\n};\n\nWaveformView.prototype.updatePlayheadTime = function(time) {\n  this._playheadLayer.updatePlayheadTime(time);\n};\n\nWaveformView.prototype.playheadPosChanged = function(time) {\n  if (this._playedWaveformShape) {\n    this._playedSegment.endTime = time;\n    this._unplayedSegment.startTime = time;\n\n    this.drawWaveformLayer();\n  }\n};\n\nWaveformView.prototype.drawWaveformLayer = function() {\n  this._waveformLayer.draw();\n};\n\nWaveformView.prototype.enableMarkerEditing = function(enable) {\n  if (this._segmentsLayer) {\n    this._segmentsLayer.enableEditing(enable);\n  }\n\n  if (this._pointsLayer) {\n    this._pointsLayer.enableEditing(enable);\n  }\n};\n\n/**\n * Called when the user starts or stops dragging the playhead.\n * We use this to disable interaction with the points and segments layers,\n * e.g., so that when the user drags the playhead over a marker, the timestamp\n * labels don't appear.\n */\n\nWaveformView.prototype.dragSeek = function(dragging) {\n  if (this._segmentsLayer) {\n    this._segmentsLayer.setListening(!dragging);\n  }\n\n  if (this._pointsLayer) {\n    this._pointsLayer.setListening(!dragging);\n  }\n};\n\nWaveformView.prototype.fitToContainer = function() {\n  if (this._container.clientWidth === 0 && this._container.clientHeight === 0) {\n    return;\n  }\n\n  let updateWaveform = false;\n\n  if (this._container.clientWidth !== this._width) {\n    this._width = this._container.clientWidth;\n    this._stage.setWidth(this._width);\n\n    updateWaveform = this.containerWidthChange();\n  }\n\n  let heightChanged = false;\n\n  if (this._container.clientHeight !== this._height) {\n    this._height = this._container.clientHeight;\n    this._stage.setHeight(this._height);\n\n    this._waveformShape.fitToView();\n    this._playheadLayer.fitToView();\n\n    this.containerHeightChange();\n\n    heightChanged = true;\n  }\n\n  if (updateWaveform) {\n    this.updateWaveform(this._frameOffset, true);\n  }\n  else if (heightChanged) {\n    if (this._segmentsLayer) {\n      this._segmentsLayer.fitToView();\n    }\n\n    if (this._pointsLayer) {\n      this._pointsLayer.fitToView();\n    }\n  }\n};\n\nWaveformView.prototype.destroy = function() {\n  this._playheadLayer.destroy();\n\n  if (this._segmentsLayer) {\n    this._segmentsLayer.destroy();\n  }\n\n  if (this._pointsLayer) {\n    this._pointsLayer.destroy();\n  }\n\n  if (this._stage) {\n    this._stage.destroy();\n    this._stage = null;\n  }\n};\n\nexport default WaveformView;\n","/**\n * @file\n *\n * Defines the {@link MouseDragHandler} class.\n *\n * @module mouse-drag-handler\n */\n\nimport { getMarkerObject } from './utils';\n\n/**\n * An object to receive callbacks on mouse drag events. Each function is\n * called with the current mouse X position, relative to the stage's\n * container HTML element.\n *\n * @typedef {Object} MouseDragHandlers\n * @global\n * @property {Function} onMouseDown Mouse down event handler.\n * @property {Function} onMouseMove Mouse move event handler.\n * @property {Function} onMouseUp Mouse up event handler.\n */\n\n/**\n * Creates a handler for mouse events to allow interaction with the waveform\n * views by clicking and dragging the mouse.\n *\n * @class\n * @alias MouseDragHandler\n *\n * @param {Konva.Stage} stage\n * @param {MouseDragHandlers} handlers\n */\n\nfunction MouseDragHandler(stage, handlers) {\n  this._stage     = stage;\n  this._handlers  = handlers;\n  this._dragging  = false;\n  this._mouseDown = this._mouseDown.bind(this);\n  this._mouseUp   = this._mouseUp.bind(this);\n  this._mouseMove = this._mouseMove.bind(this);\n\n  this._stage.on('mousedown', this._mouseDown);\n  this._stage.on('touchstart', this._mouseDown);\n\n  this._lastMouseClientX = null;\n}\n\n/**\n * Mouse down event handler.\n *\n * @param {MouseEvent} event\n */\n\nMouseDragHandler.prototype._mouseDown = function(event) {\n  let segment = null;\n\n  if (event.type === 'mousedown' && event.evt.button !== 0) {\n    // Mouse drag only applies to the primary mouse button.\n    // The secondary button may be used to show a context menu\n    // and we don't want to also treat this as a mouse drag operation.\n    return;\n  }\n\n  const marker = getMarkerObject(event.target);\n\n  if (marker) {\n    // Avoid interfering with drag/drop of point and segment markers.\n    if (marker.attrs.name === 'point-marker' ||\n        marker.attrs.name === 'segment-marker') {\n      return;\n    }\n\n    // Check if we're dragging a segment.\n    if (marker.attrs.name === 'segment-overlay') {\n      segment = marker;\n    }\n  }\n\n  this._lastMouseClientX = Math.floor(\n    event.type === 'touchstart' ? event.evt.touches[0].clientX : event.evt.clientX\n  );\n\n  if (this._handlers.onMouseDown) {\n    const mouseDownPosX = this._getMousePosX(this._lastMouseClientX);\n\n    this._handlers.onMouseDown(mouseDownPosX, segment);\n  }\n\n  // Use the window mousemove and mouseup handlers instead of the\n  // Konva.Stage ones so that we still receive events if the user moves the\n  // mouse outside the stage.\n  window.addEventListener('mousemove', this._mouseMove, { capture: false, passive: true });\n  window.addEventListener('touchmove', this._mouseMove, { capture: false, passive: true });\n  window.addEventListener('mouseup', this._mouseUp, { capture: false, passive: true });\n  window.addEventListener('touchend', this._mouseUp, { capture: false /* , passive: true */ });\n  window.addEventListener('blur', this._mouseUp, { capture: false, passive: true });\n};\n\n/**\n * Mouse move event handler.\n *\n * @param {MouseEvent} event\n */\n\nMouseDragHandler.prototype._mouseMove = function(event) {\n  const clientX = Math.floor(\n    event.type === 'touchmove' ? event.changedTouches[0].clientX : event.clientX\n  );\n\n  // Don't update on vertical mouse movement.\n  if (clientX === this._lastMouseClientX) {\n    return;\n  }\n\n  this._lastMouseClientX = clientX;\n\n  this._dragging = true;\n\n  if (this._handlers.onMouseMove) {\n    const mousePosX = this._getMousePosX(clientX);\n\n    this._handlers.onMouseMove(mousePosX);\n  }\n};\n\n/**\n * Mouse up event handler.\n *\n * @param {MouseEvent} event\n */\n\nMouseDragHandler.prototype._mouseUp = function(event) {\n  let clientX;\n\n  if (event.type === 'touchend') {\n    clientX = Math.floor(event.changedTouches[0].clientX);\n\n    if (event.cancelable) {\n      event.preventDefault();\n    }\n  }\n  else {\n    clientX = Math.floor(event.clientX);\n  }\n\n  if (this._handlers.onMouseUp) {\n    const mousePosX = this._getMousePosX(clientX);\n\n    this._handlers.onMouseUp(mousePosX);\n  }\n\n  window.removeEventListener('mousemove', this._mouseMove, { capture: false });\n  window.removeEventListener('touchmove', this._mouseMove, { capture: false });\n  window.removeEventListener('mouseup', this._mouseUp, { capture: false });\n  window.removeEventListener('touchend', this._mouseUp, { capture: false });\n  window.removeEventListener('blur', this._mouseUp, { capture: false });\n\n  this._dragging = false;\n};\n\n/**\n * @returns {Number} The mouse X position, relative to the container that\n * received the mouse down event.\n *\n * @private\n * @param {Number} clientX Mouse client X position.\n */\n\nMouseDragHandler.prototype._getMousePosX = function(clientX) {\n  const containerPos = this._stage.getContainer().getBoundingClientRect();\n\n  return Math.floor(clientX - containerPos.left);\n};\n\n/**\n * Returns <code>true</code> if the mouse is being dragged, i.e., moved with\n * the mouse button held down.\n *\n * @returns {Boolean}\n */\n\nMouseDragHandler.prototype.isDragging = function() {\n  return this._dragging;\n};\n\nMouseDragHandler.prototype.destroy = function() {\n  this._stage.off('mousedown', this._mouseDown);\n  this._stage.off('touchstart', this._mouseDown);\n};\n\nexport default MouseDragHandler;\n","/**\n * @file\n *\n * Defines the {@link SeekMouseDragHandler} class.\n *\n * @module seek-mouse-drag-handler\n */\n\nimport MouseDragHandler from './mouse-drag-handler';\nimport { clamp } from './utils';\n\n/**\n * Creates a handler for mouse events to allow seeking the waveform\n * views by clicking and dragging the mouse.\n *\n * @class\n * @alias SeekMouseDragHandler\n *\n * @param {Peaks} peaks\n * @param {WaveformOverview} view\n */\n\nfunction SeekMouseDragHandler(peaks, view) {\n  this._peaks = peaks;\n  this._view = view;\n  this._firstMove = false;\n\n  this._onMouseDown = this._onMouseDown.bind(this);\n  this._onMouseMove = this._onMouseMove.bind(this);\n  this._onMouseUp = this._onMouseUp.bind(this);\n\n  this._mouseDragHandler = new MouseDragHandler(view._stage, {\n    onMouseDown: this._onMouseDown,\n    onMouseMove: this._onMouseMove,\n    onMouseUp: this._onMouseUp\n  });\n}\n\nSeekMouseDragHandler.prototype._onMouseDown = function(mousePosX) {\n  this._firstMove = true;\n  this._seek(mousePosX);\n};\n\nSeekMouseDragHandler.prototype._onMouseMove = function(mousePosX) {\n  if (this._firstMove) {\n    this._view.dragSeek(true);\n    this._firstMove = false;\n  }\n\n  this._seek(mousePosX);\n};\n\nSeekMouseDragHandler.prototype._onMouseUp = function() {\n  this._view.dragSeek(false);\n};\n\nSeekMouseDragHandler.prototype._seek = function(mousePosX) {\n  if (!this._view.isSeekEnabled()) {\n    return;\n  }\n\n  mousePosX = clamp(mousePosX, 0, this._width);\n\n  let time = this._view.pixelsToTime(mousePosX);\n  const duration = this._peaks.player.getDuration();\n\n  // Prevent the playhead position from jumping by limiting click\n  // handling to the waveform duration.\n  if (time > duration) {\n    time = duration;\n  }\n\n  // Update the playhead position. This gives a smoother visual update\n  // than if we only use the player.timeupdate event.\n  this._view.updatePlayheadTime(time);\n\n  this._peaks.player.seek(time);\n};\n\nSeekMouseDragHandler.prototype.destroy = function() {\n  this._mouseDragHandler.destroy();\n};\n\nexport default SeekMouseDragHandler;\n","/**\n * @file\n *\n * Defines the {@link WaveformOverview} class.\n *\n * @module waveform-overview\n */\n\nimport HighlightLayer from './highlight-layer';\nimport WaveformView from './waveform-view';\nimport SeekMouseDragHandler from './seek-mouse-drag-handler';\n\n/**\n * Creates the overview waveform view.\n *\n * @class\n * @alias WaveformOverview\n *\n * @param {WaveformData} waveformData\n * @param {HTMLElement} container\n * @param {Peaks} peaks\n */\n\nfunction WaveformOverview(waveformData, container, peaks) {\n  const self = this;\n\n  WaveformView.call(self, waveformData, container, peaks, peaks.options.overview);\n\n  // Bind event handlers\n  self._onTimeUpdate = self._onTimeUpdate.bind(self);\n  self._onPlaying = self._onPlaying.bind(self);\n  self._onPause = self._onPause.bind(self);\n  self._onZoomviewUpdate = self._onZoomviewUpdate.bind(self);\n\n  // Register event handlers\n  peaks.on('player.timeupdate', self._onTimeUpdate);\n  peaks.on('player.playing', self._onPlaying);\n  peaks.on('player.pause', self._onPause);\n  peaks.on('zoomview.update', self._onZoomviewUpdate);\n\n  const time = self._peaks.player.getCurrentTime();\n\n  self._playheadLayer.updatePlayheadTime(time);\n\n  self._mouseDragHandler = new SeekMouseDragHandler(peaks, self);\n\n  const zoomview = peaks.views.getView('zoomview');\n\n  if (zoomview) {\n    self._highlightLayer.showHighlight(zoomview.getStartTime(), zoomview.getEndTime());\n  }\n}\n\nWaveformOverview.prototype = Object.create(WaveformView.prototype);\n\nWaveformOverview.prototype.initWaveformData = function() {\n  if (this._width !== 0) {\n    this._resampleAndSetWaveformData(this._originalWaveformData, this._width);\n  }\n};\n\nWaveformOverview.prototype.initHighlightLayer = function() {\n  this._highlightLayer = new HighlightLayer(\n    this,\n    this._viewOptions\n  );\n\n  this._highlightLayer.addToStage(this._stage);\n};\n\nWaveformOverview.prototype.isSegmentDraggingEnabled = function() {\n  return false;\n};\n\nWaveformOverview.prototype.getName = function() {\n  return 'overview';\n};\n\nWaveformOverview.prototype._onTimeUpdate = function(time) {\n  this._playheadLayer.updatePlayheadTime(time);\n};\n\nWaveformOverview.prototype._onPlaying = function(time) {\n  this._playheadLayer.updatePlayheadTime(time);\n};\n\nWaveformOverview.prototype._onPause = function(time) {\n  this._playheadLayer.stop(time);\n};\n\nWaveformOverview.prototype._onZoomviewUpdate = function(event) {\n  this.showHighlight(event.startTime, event.endTime);\n};\n\nWaveformOverview.prototype.showHighlight = function(startTime, endTime) {\n  this._highlightLayer.showHighlight(startTime, endTime);\n};\n\nWaveformOverview.prototype.setWaveformData = function(waveformData) {\n  this._originalWaveformData = waveformData;\n\n  if (this._width !== 0) {\n    this._resampleAndSetWaveformData(waveformData, this._width);\n  }\n  else {\n    this._data = waveformData;\n  }\n\n  this.updateWaveform();\n};\n\nWaveformOverview.prototype._resampleAndSetWaveformData = function(waveformData, width) {\n  try {\n    this._data = waveformData.resample({ width: width });\n    return true;\n  }\n  catch (error) { // eslint-disable-line no-unused-vars\n    // This error usually indicates that the waveform length\n    // is less than the container width. Ignore, and use the\n    // given waveform data\n    this._data = waveformData;\n    return false;\n  }\n};\n\nWaveformOverview.prototype.removeHighlightRect = function() {\n  this._highlightLayer.removeHighlight();\n};\n\nWaveformOverview.prototype.updateWaveform = function(/* frameOffset, forceUpdate */) {\n  this._waveformLayer.draw();\n  this._axisLayer.draw();\n\n  const playheadTime = this._peaks.player.getCurrentTime();\n\n  this._playheadLayer.updatePlayheadTime(playheadTime);\n\n  this._highlightLayer.updateHighlight();\n\n  const frameStartTime = 0;\n  const frameEndTime   = this.pixelsToTime(this._width);\n\n  if (this._pointsLayer) {\n    this._pointsLayer.updatePoints(frameStartTime, frameEndTime);\n  }\n\n  if (this._segmentsLayer) {\n    this._segmentsLayer.updateSegments(frameStartTime, frameEndTime);\n  }\n};\n\nWaveformOverview.prototype.containerWidthChange = function() {\n  return this._resampleAndSetWaveformData(this._originalWaveformData, this._width);\n};\n\nWaveformOverview.prototype.containerHeightChange = function() {\n  this._highlightLayer.fitToView();\n};\n\nWaveformOverview.prototype.destroy = function() {\n  // Unregister event handlers\n  this._peaks.off('player.playing', this._onPlaying);\n  this._peaks.off('player.pause', this._onPause);\n  this._peaks.off('player.timeupdate', this._onTimeUpdate);\n  this._peaks.off('zoomview.update', this._onZoomviewUpdate);\n\n  this._mouseDragHandler.destroy();\n\n  WaveformView.prototype.destroy.call(this);\n};\n\nexport default WaveformOverview;\n","/**\n * @file\n *\n * Defines the {@link InsertSegmentMouseDragHandler} class.\n *\n * @module insert-segment-mouse-drag-handler\n */\n\nimport MouseDragHandler from './mouse-drag-handler';\n\n/**\n * Creates a handler for mouse events to allow inserting new waveform\n * segments by clicking and dragging the mouse.\n *\n * @class\n * @alias InsertSegmentMouseDragHandler\n *\n * @param {Peaks} peaks\n * @param {WaveformZoomView} view\n */\n\nfunction InsertSegmentMouseDragHandler(peaks, view) {\n  this._peaks = peaks;\n  this._view = view;\n\n  this._onMouseDown = this._onMouseDown.bind(this);\n  this._onMouseMove = this._onMouseMove.bind(this);\n  this._onMouseUp = this._onMouseUp.bind(this);\n\n  this._mouseDragHandler = new MouseDragHandler(view._stage, {\n    onMouseDown: this._onMouseDown,\n    onMouseMove: this._onMouseMove,\n    onMouseUp: this._onMouseUp\n  });\n}\n\nInsertSegmentMouseDragHandler.prototype.isDragging = function() {\n  return this._mouseDragHandler.isDragging();\n};\n\nInsertSegmentMouseDragHandler.prototype._reset = function() {\n  this._insertSegment = null;\n  this._insertSegmentShape = null;\n  this._segmentIsDraggable = false;\n  this._peaks.segments.setInserting(false);\n};\n\nInsertSegmentMouseDragHandler.prototype._onMouseDown = function(mousePosX, segment) {\n  this._reset();\n  this._segment = segment;\n\n  if (this._segment) {\n    if (this._view.getSegmentDragMode() !== 'overlap') {\n      return;\n    }\n    else {\n      // The user has clicked within a segment. We want to prevent\n      // the segment from being dragged while the user inserts a new\n      // segment. So we temporarily make the segment non-draggable,\n      // and restore its draggable state in onMouseUp().\n      this._segmentIsDraggable = this._segment.draggable();\n      this._segment.draggable(false);\n    }\n  }\n\n  const time = this._view.pixelsToTime(mousePosX + this._view.getFrameOffset());\n\n  this._peaks.segments.setInserting(true);\n\n  this._insertSegment = this._peaks.segments.add({\n    startTime: time,\n    endTime: time,\n    editable: true\n  });\n\n  this._insertSegmentShape = this._view._segmentsLayer.getSegmentShape(this._insertSegment);\n\n  if (this._insertSegmentShape) {\n    this._insertSegmentShape.moveMarkersToTop();\n    this._insertSegmentShape.startDrag();\n  }\n};\n\nInsertSegmentMouseDragHandler.prototype._onMouseMove = function() {\n};\n\nInsertSegmentMouseDragHandler.prototype._onMouseUp = function() {\n  if (!this._insertSegment) {\n    return;\n  }\n\n  if (this._insertSegmentShape) {\n    this._insertSegmentShape.stopDrag();\n    this._insertSegmentShape = null;\n  }\n\n  // If the user was dragging within an existing segment,\n  // restore the segment's original draggable state.\n  if (this._segment && this._segmentIsDraggable) {\n    this._segment.draggable(true);\n  }\n\n  this._peaks.emit('segments.insert', {\n    segment: this._insertSegment\n  });\n\n  this._peaks.segments.setInserting(false);\n};\n\nInsertSegmentMouseDragHandler.prototype.destroy = function() {\n  this._mouseDragHandler.destroy();\n};\n\nexport default InsertSegmentMouseDragHandler;\n","/**\n * @file\n *\n * Defines the {@link ScrollMouseDragHandler} class.\n *\n * @module scroll-mouse-drag-handler\n */\n\nimport MouseDragHandler from './mouse-drag-handler';\nimport { clamp } from './utils';\n\n/**\n * Creates a handler for mouse events to allow scrolling the zoomable\n * waveform view by clicking and dragging the mouse.\n *\n * @class\n * @alias ScrollMouseDragHandler\n *\n * @param {Peaks} peaks\n * @param {WaveformZoomView} view\n */\n\nfunction ScrollMouseDragHandler(peaks, view) {\n  this._peaks = peaks;\n  this._view = view;\n  this._seeking = false;\n  this._firstMove = false;\n  this._segment = null;\n  this._segmentIsDraggable = false;\n  this._initialFrameOffset = 0;\n  this._mouseDownX = 0;\n\n  this._onMouseDown = this._onMouseDown.bind(this);\n  this._onMouseMove = this._onMouseMove.bind(this);\n  this._onMouseUp = this._onMouseUp.bind(this);\n\n  this._mouseDragHandler = new MouseDragHandler(view._stage, {\n    onMouseDown: this._onMouseDown,\n    onMouseMove: this._onMouseMove,\n    onMouseUp: this._onMouseUp\n  });\n}\n\nScrollMouseDragHandler.prototype.isDragging = function() {\n  return this._mouseDragHandler.isDragging();\n};\n\nScrollMouseDragHandler.prototype._onMouseDown = function(mousePosX, segment) {\n  this._seeking = false;\n  this._firstMove = true;\n\n  if (segment && !segment.attrs.draggable) {\n    this._segment = null;\n  }\n  else {\n    this._segment = segment;\n  }\n\n  const playheadOffset = this._view.getPlayheadOffset();\n\n  if (this._view.isSeekEnabled() &&\n      Math.abs(mousePosX - playheadOffset) <= this._view.getPlayheadClickTolerance()) {\n    this._seeking = true;\n\n    // The user has clicked near the playhead, and the playhead is within\n    // a segment. In this case we want to allow the playhead to move, but\n    // prevent the segment from being dragged. So we temporarily make the\n    // segment non-draggable, and restore its draggable state in onMouseUp().\n    if (this._segment) {\n      this._segmentIsDraggable = this._segment.draggable();\n      this._segment.draggable(false);\n    }\n  }\n\n  if (this._seeking) {\n    mousePosX = clamp(mousePosX, 0, this._view.getWidth());\n\n    const time = this._view.pixelsToTime(mousePosX + this._view.getFrameOffset());\n\n    this._seek(time);\n  }\n  else {\n    this._initialFrameOffset = this._view.getFrameOffset();\n    this._mouseDownX = mousePosX;\n  }\n};\n\nScrollMouseDragHandler.prototype._onMouseMove = function(mousePosX) {\n  // Prevent scrolling the waveform if the user is dragging a segment.\n  if (this._segment && !this._seeking) {\n    return;\n  }\n\n  if (this._seeking) {\n    if (this._firstMove) {\n      this._view.dragSeek(true);\n      this._firstMove = false;\n    }\n\n    mousePosX = clamp(mousePosX, 0, this._view.getWidth());\n\n    const time = this._view.pixelsToTime(mousePosX + this._view.getFrameOffset());\n\n    this._seek(time);\n  }\n  else {\n    // TODO: Prevent scrolling when zoomed to fit the waveform to the\n    // view width. Sometimes the waveform is a few pixels longer.\n    if (!this._view.isAutoZoom()) {\n      // Moving the mouse to the left increases the time position of the\n      // left-hand edge of the visible waveform.\n      const diff = this._mouseDownX - mousePosX;\n      const newFrameOffset = this._initialFrameOffset + diff;\n\n      if (newFrameOffset !== this._initialFrameOffset) {\n        this._view.updateWaveform(newFrameOffset);\n      }\n    }\n  }\n};\n\nScrollMouseDragHandler.prototype._onMouseUp = function() {\n  if (this._seeking) {\n    this._view.dragSeek(false);\n  }\n  else {\n    // Set playhead position only on click release, when not dragging.\n    if (this._view._enableSeek && !this._mouseDragHandler.isDragging()) {\n      const time = this._view.pixelOffsetToTime(this._mouseDownX);\n\n      this._seek(time);\n    }\n  }\n\n  // If the user was dragging within an existing segment,\n  // restore the segment's original draggable state.\n  if (this._segment && this._seeking) {\n    if (this._segmentIsDraggable) {\n      this._segment.draggable(true);\n    }\n  }\n};\n\nScrollMouseDragHandler.prototype._seek = function(time) {\n  const duration = this._peaks.player.getDuration();\n\n  // Prevent the playhead position from jumping by limiting click\n  // handling to the waveform duration.\n  if (time > duration) {\n    time = duration;\n  }\n\n  // Update the playhead position. This gives a smoother visual update\n  // than if we only use the player.timeupdate event.\n  this._view.updatePlayheadTime(time);\n\n  this._peaks.player.seek(time);\n};\n\nScrollMouseDragHandler.prototype.destroy = function() {\n  this._mouseDragHandler.destroy();\n};\n\nexport default ScrollMouseDragHandler;\n","/**\n * @file\n *\n * Defines the {@link WaveformZoomView} class.\n *\n * @module waveform-zoomview\n */\n\nimport WaveformView from './waveform-view';\nimport InsertSegmentMouseDragHandler from './insert-segment-mouse-drag-handler';\nimport ScrollMouseDragHandler from './scroll-mouse-drag-handler';\nimport { clamp, isValidTime, objectHasProperty } from './utils';\n\n/**\n * Creates a zoomable waveform view.\n *\n * @class\n * @alias WaveformZoomView\n *\n * @param {WaveformData} waveformData\n * @param {HTMLElement} container\n * @param {Peaks} peaks\n */\n\nfunction WaveformZoomView(waveformData, container, peaks) {\n  const self = this;\n\n  WaveformView.call(self, waveformData, container, peaks, peaks.options.zoomview);\n\n  // Bind event handlers\n  self._onTimeUpdate = self._onTimeUpdate.bind(self);\n  self._onPlaying = self._onPlaying.bind(self);\n  self._onPause = self._onPause.bind(self);\n  self._onKeyboardLeft = self._onKeyboardLeft.bind(self);\n  self._onKeyboardRight = self._onKeyboardRight.bind(self);\n  self._onKeyboardShiftLeft  = self._onKeyboardShiftLeft.bind(self);\n  self._onKeyboardShiftRight = self._onKeyboardShiftRight.bind(self);\n\n  // Register event handlers\n  self._peaks.on('player.timeupdate', self._onTimeUpdate);\n  self._peaks.on('player.playing', self._onPlaying);\n  self._peaks.on('player.pause', self._onPause);\n  self._peaks.on('keyboard.left', self._onKeyboardLeft);\n  self._peaks.on('keyboard.right', self._onKeyboardRight);\n  self._peaks.on('keyboard.shift_left', self._onKeyboardShiftLeft);\n  self._peaks.on('keyboard.shift_right', self._onKeyboardShiftRight);\n\n  self._autoScroll = self._viewOptions.autoScroll;\n  self._autoScrollOffset = self._viewOptions.autoScrollOffset;\n\n  self._enableSegmentDragging = false;\n  self._segmentDragMode = 'overlap';\n  self._minSegmentDragWidth = 0;\n  self._insertSegmentShape = null;\n\n  self._playheadClickTolerance = self._viewOptions.playheadClickTolerance;\n\n  self._zoomLevelAuto = false;\n  self._zoomLevelSeconds = null;\n\n  const time = self._peaks.player.getCurrentTime();\n\n  self._syncPlayhead(time);\n\n  self._mouseDragHandler = new ScrollMouseDragHandler(peaks, self);\n\n  self._onWheel = self._onWheel.bind(self);\n  self._onWheelCaptureVerticalScroll = self._onWheelCaptureVerticalScroll.bind(self);\n  self.setWheelMode(self._viewOptions.wheelMode);\n\n  self._peaks.emit('zoomview.update', {\n    startTime: 0,\n    endTime: self.getEndTime()\n  });\n}\n\nWaveformZoomView.prototype = Object.create(WaveformView.prototype);\n\nWaveformZoomView.prototype.initWaveformData = function() {\n  this._enableWaveformCache = this._options.waveformCache;\n\n  this._initWaveformCache();\n\n  const initialZoomLevel = this._peaks.zoom.getZoomLevel();\n\n  this._resampleData({ scale: initialZoomLevel });\n};\n\nWaveformZoomView.prototype._initWaveformCache = function() {\n  if (this._enableWaveformCache) {\n    this._waveformData = new Map();\n    this._waveformData.set(this._originalWaveformData.scale, this._originalWaveformData);\n    this._waveformScales = [this._originalWaveformData.scale];\n  }\n};\n\nWaveformZoomView.prototype.initHighlightLayer = function() {\n};\n\nWaveformZoomView.prototype.setWheelMode = function(mode, options) {\n  if (!options) {\n    options = {};\n  }\n\n  if (mode !== this._wheelMode ||\n      options.captureVerticalScroll !== this._captureVerticalScroll) {\n    this._stage.off('wheel');\n\n    this._wheelMode = mode;\n    this._captureVerticalScroll = options.captureVerticalScroll;\n\n    switch (mode) {\n      case 'scroll':\n        if (options.captureVerticalScroll) {\n          this._stage.on('wheel', this._onWheelCaptureVerticalScroll);\n        }\n        else {\n          this._stage.on('wheel', this._onWheel);\n        }\n        break;\n    }\n  }\n};\n\nWaveformZoomView.prototype._onWheel = function(event) {\n  const wheelEvent = event.evt;\n  let delta;\n\n  if (wheelEvent.shiftKey) {\n    if (wheelEvent.deltaY !== 0) {\n      delta = wheelEvent.deltaY;\n    }\n    else if (wheelEvent.deltaX !== 0) {\n      delta = wheelEvent.deltaX;\n    }\n    else {\n      return;\n    }\n  }\n  else {\n    // Ignore the event if it looks like the user is scrolling vertically\n    // down the page\n    if (Math.abs(wheelEvent.deltaX) < Math.abs(wheelEvent.deltaY)) {\n      return;\n    }\n\n    delta = wheelEvent.deltaX;\n  }\n\n  if (wheelEvent.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n    delta *= this._width;\n  }\n\n  wheelEvent.preventDefault();\n\n  const frameOffset = clamp(\n    this._frameOffset + Math.floor(delta), 0, this._pixelLength - this._width\n  );\n\n  this.updateWaveform(frameOffset, false);\n};\n\nWaveformZoomView.prototype._onWheelCaptureVerticalScroll = function(event) {\n  const wheelEvent = event.evt;\n\n  const delta = Math.abs(wheelEvent.deltaX) < Math.abs(wheelEvent.deltaY) ?\n    wheelEvent.deltaY : wheelEvent.deltaX;\n\n  wheelEvent.preventDefault();\n\n  const frameOffset = clamp(\n    this._frameOffset + Math.floor(delta), 0, this._pixelLength - this._width\n  );\n\n  this.updateWaveform(frameOffset, false);\n};\n\nWaveformZoomView.prototype.setWaveformDragMode = function(mode) {\n  if (this._segmentsLayer) {\n    this._mouseDragHandler.destroy();\n    this.dragSeek(false);\n\n    if (mode === 'insert-segment') {\n      this._mouseDragHandler = new InsertSegmentMouseDragHandler(this._peaks, this);\n    }\n    else {\n      this._mouseDragHandler = new ScrollMouseDragHandler(this._peaks, this);\n    }\n  }\n};\n\nWaveformZoomView.prototype.enableSegmentDragging = function(enable) {\n  this._enableSegmentDragging = enable;\n\n  // Update all existing segments\n  if (this._segmentsLayer) {\n    this._segmentsLayer.enableSegmentDragging(enable);\n  }\n};\n\nWaveformZoomView.prototype.isSegmentDraggingEnabled = function() {\n  return this._enableSegmentDragging;\n};\n\nWaveformZoomView.prototype.setSegmentDragMode = function(mode) {\n  this._segmentDragMode = mode;\n};\n\nWaveformZoomView.prototype.getSegmentDragMode = function() {\n  return this._segmentDragMode;\n};\n\nWaveformZoomView.prototype.getName = function() {\n  return 'zoomview';\n};\n\nWaveformZoomView.prototype._onTimeUpdate = function(time) {\n  if (this._mouseDragHandler.isDragging()) {\n    return;\n  }\n\n  this._syncPlayhead(time);\n};\n\nWaveformZoomView.prototype._onPlaying = function(time) {\n  this._playheadLayer.updatePlayheadTime(time);\n};\n\nWaveformZoomView.prototype._onPause = function(time) {\n  this._playheadLayer.stop(time);\n};\n\nWaveformZoomView.prototype._onKeyboardLeft = function() {\n  this._keyboardScroll(-1, false);\n};\n\nWaveformZoomView.prototype._onKeyboardRight = function() {\n  this._keyboardScroll(1, false);\n};\n\nWaveformZoomView.prototype._onKeyboardShiftLeft = function() {\n  this._keyboardScroll(-1, true);\n};\n\nWaveformZoomView.prototype._onKeyboardShiftRight = function() {\n  this._keyboardScroll(1, true);\n};\n\nWaveformZoomView.prototype._keyboardScroll = function(direction, large) {\n  let increment;\n\n  if (large) {\n    increment = direction * this._width;\n  }\n  else {\n    increment = direction * this.timeToPixels(this._options.nudgeIncrement);\n  }\n\n  this.scrollWaveform({ pixels: increment });\n};\n\nWaveformZoomView.prototype.setWaveformData = function(waveformData) {\n  this._originalWaveformData = waveformData;\n  // Clear cached waveforms\n  this._initWaveformCache();\n\n  // Don't update the UI here, call setZoom().\n};\n\n/**\n * Returns the position of the playhead marker, in pixels relative to the\n * left hand side of the waveform view.\n *\n * @return {Number}\n */\n\nWaveformZoomView.prototype.getPlayheadOffset = function() {\n  return this._playheadLayer.getPlayheadPixel() - this._frameOffset;\n};\n\nWaveformZoomView.prototype.getPlayheadClickTolerance = function() {\n  return this._playheadClickTolerance;\n};\n\nWaveformZoomView.prototype._syncPlayhead = function(time) {\n  this._playheadLayer.updatePlayheadTime(time);\n\n  if (this._autoScroll && !this._zoomLevelAuto) {\n    // Check for the playhead reaching the right-hand side of the window.\n\n    const pixelIndex = this.timeToPixels(time);\n\n    // TODO: move this code to animation function?\n    // TODO: don't scroll if user has positioned view manually (e.g., using\n    // the keyboard)\n    const endThreshold = this._frameOffset + this._width - this._autoScrollOffset;\n\n    let frameOffset = this._frameOffset;\n\n    if (pixelIndex >= endThreshold || pixelIndex < frameOffset) {\n      // Put the playhead at 100 pixels from the left edge\n      frameOffset = pixelIndex - this._autoScrollOffset;\n\n      if (frameOffset < 0) {\n        frameOffset = 0;\n      }\n\n      this.updateWaveform(frameOffset, false);\n    }\n  }\n};\n\nWaveformZoomView.prototype._getScale = function(duration) {\n  return Math.floor(duration * this._data.sample_rate / this._width);\n};\n\nfunction isAutoScale(options) {\n  return ((objectHasProperty(options, 'scale') && options.scale === 'auto') ||\n          (objectHasProperty(options, 'seconds') && options.seconds === 'auto'));\n}\n\n/**\n * Options for [WaveformZoomView.setZoom]{@link WaveformZoomView#setZoom}.\n *\n * @typedef {Object} SetZoomOptions\n * @global\n * @property {Number|String} scale Zoom level, in samples per pixel, or 'auto'\n *   to fit the entire waveform to the view width\n * @property {Number|String} seconds Number of seconds to fit to the view width,\n *   or 'auto' to fit the entire waveform to the view width\n */\n\n/**\n * Changes the zoom level.\n *\n * @param {SetZoomOptions} options\n * @returns {Boolean}\n */\n\nWaveformZoomView.prototype.setZoom = function(options) {\n  let scale;\n\n  if (isAutoScale(options)) {\n    // Use waveform duration, to match WaveformOverview\n    const seconds = this._originalWaveformData.duration;\n\n    this._zoomLevelAuto = true;\n    this._zoomLevelSeconds = null;\n    scale = this._getScale(seconds);\n  }\n  else {\n    if (objectHasProperty(options, 'scale')) {\n      this._zoomLevelSeconds = null;\n      scale = Math.floor(options.scale);\n    }\n    else if (objectHasProperty(options, 'seconds')) {\n      if (!isValidTime(options.seconds)) {\n        return false;\n      }\n\n      this._zoomLevelSeconds = options.seconds;\n      scale = this._getScale(options.seconds);\n    }\n\n    this._zoomLevelAuto = false;\n  }\n\n  if (scale < this._originalWaveformData.scale) {\n    // eslint-disable-next-line @stylistic/js/max-len\n    this._peaks._logger('peaks.zoomview.setZoom(): zoom level must be at least ' + this._originalWaveformData.scale);\n    scale = this._originalWaveformData.scale;\n  }\n\n  const currentTime = this._peaks.player.getCurrentTime();\n  let apexTime;\n  let playheadOffsetPixels = this.getPlayheadOffset();\n\n  if (playheadOffsetPixels >= 0 && playheadOffsetPixels < this._width) {\n    // Playhead is visible. Change the zoom level while keeping the\n    // playhead at the same position in the window.\n    apexTime = currentTime;\n  }\n  else {\n    // Playhead is not visible. Change the zoom level while keeping the\n    // centre of the window at the same position in the waveform.\n    playheadOffsetPixels = Math.floor(this._width / 2);\n    apexTime = this.pixelOffsetToTime(playheadOffsetPixels);\n  }\n\n  const prevScale = this._scale;\n\n  this._resampleData({ scale: scale });\n\n  const apexPixel = this.timeToPixels(apexTime);\n\n  const frameOffset = apexPixel - playheadOffsetPixels;\n\n  this.updateWaveform(frameOffset, true);\n\n  this._playheadLayer.zoomLevelChanged();\n\n  // Update the playhead position after zooming.\n  this._playheadLayer.updatePlayheadTime(currentTime);\n\n  this._peaks.emit('zoom.update', {\n    currentZoom: scale,\n    previousZoom: prevScale\n  });\n\n  return true;\n};\n\nWaveformZoomView.prototype._resampleData = function(options) {\n  const scale = options.scale;\n\n  if (this._enableWaveformCache) {\n    if (!this._waveformData.has(scale)) {\n      let sourceWaveform = this._originalWaveformData;\n\n      // Resample from the next lowest available zoom level\n\n      for (let i = 0; i < this._waveformScales.length; i++) {\n        if (this._waveformScales[i] < scale) {\n          sourceWaveform = this._waveformData.get(this._waveformScales[i]);\n        }\n        else {\n          break;\n        }\n      }\n\n      this._waveformData.set(scale, sourceWaveform.resample(options));\n\n      this._waveformScales.push(scale);\n      this._waveformScales.sort(function(a, b) {\n        return a - b; // Ascending order\n      });\n    }\n\n    this._data = this._waveformData.get(scale);\n  }\n  else {\n    this._data = this._originalWaveformData.resample(options);\n  }\n\n  this._scale = this._data.scale;\n  this._pixelLength = this._data.length;\n};\n\nWaveformZoomView.prototype.isAutoZoom = function() {\n  return this._zoomLevelAuto;\n};\n\nWaveformZoomView.prototype.setStartTime = function(time) {\n  if (time < 0) {\n    time = 0;\n  }\n\n  if (this._zoomLevelAuto) {\n    time = 0;\n  }\n\n  this.updateWaveform(this.timeToPixels(time), false);\n};\n\n/**\n * @returns {Number} The length of the waveform, in pixels.\n */\n\nWaveformZoomView.prototype.getPixelLength = function() {\n  return this._pixelLength;\n};\n\n/**\n * Scrolls the region of waveform shown in the view.\n *\n * @param {Number} scrollAmount How far to scroll, in pixels\n */\n\nWaveformZoomView.prototype.scrollWaveform = function(options) {\n  let scrollAmount;\n\n  if (objectHasProperty(options, 'pixels')) {\n    scrollAmount = Math.floor(options.pixels);\n  }\n  else if (objectHasProperty(options, 'seconds')) {\n    scrollAmount = this.timeToPixels(options.seconds);\n  }\n  else {\n    throw new TypeError('view.scrollWaveform(): Missing umber of pixels or seconds');\n  }\n\n  this.updateWaveform(this._frameOffset + scrollAmount, false);\n};\n\n/**\n * Updates the region of waveform shown in the view.\n *\n * @param {Number} frameOffset The new frame offset, in pixels.\n * @param {Boolean} forceUpdate Forces the waveform view to be redrawn, if the\n *   frameOffset is unchanged.\n */\n\nWaveformZoomView.prototype.updateWaveform = function(frameOffset, forceUpdate) {\n  let upperLimit;\n\n  if (this._pixelLength < this._width) {\n    // Total waveform is shorter than viewport, so reset the offset to 0.\n    frameOffset = 0;\n    upperLimit = this._width;\n  }\n  else {\n    // Calculate the very last possible position.\n    upperLimit = this._pixelLength - this._width;\n  }\n\n  frameOffset = clamp(frameOffset, 0, upperLimit);\n\n  if (!forceUpdate && frameOffset === this._frameOffset) {\n    return;\n  }\n\n  this._frameOffset = frameOffset;\n\n  // Display playhead if it is within the zoom frame width.\n  const playheadPixel = this._playheadLayer.getPlayheadPixel();\n\n  this._playheadLayer.updatePlayheadTime(this.pixelsToTime(playheadPixel));\n\n  this.drawWaveformLayer();\n  this._axisLayer.draw();\n\n  const frameStartTime = this.getStartTime();\n  const frameEndTime   = this.getEndTime();\n\n  if (this._pointsLayer) {\n    this._pointsLayer.updatePoints(frameStartTime, frameEndTime);\n  }\n\n  if (this._segmentsLayer) {\n    this._segmentsLayer.updateSegments(frameStartTime, frameEndTime);\n  }\n\n  this._peaks.emit('zoomview.update', {\n    startTime: frameStartTime,\n    endTime: frameEndTime\n  });\n};\n\nWaveformZoomView.prototype.enableAutoScroll = function(enable, options) {\n  if (!options) {\n    options = {};\n  }\n\n  this._autoScroll = enable;\n\n  if (objectHasProperty(options, 'offset')) {\n    this._autoScrollOffset = options.offset;\n  }\n};\n\nWaveformZoomView.prototype.getMinSegmentDragWidth = function() {\n  return this._insertSegmentShape ? 0 : this._minSegmentDragWidth;\n};\n\nWaveformZoomView.prototype.setMinSegmentDragWidth = function(width) {\n  this._minSegmentDragWidth = width;\n};\n\nWaveformZoomView.prototype.containerWidthChange = function() {\n  let resample = false;\n  let resampleOptions;\n\n  if (this._zoomLevelAuto) {\n    resample = true;\n    resampleOptions = { width: this._width };\n  }\n  else if (this._zoomLevelSeconds !== null) {\n    resample = true;\n    resampleOptions = { scale: this._getScale(this._zoomLevelSeconds) };\n  }\n\n  if (resample) {\n    try {\n      this._resampleData(resampleOptions);\n    }\n    catch (error) { // eslint-disable-line no-unused-vars\n      // Ignore, and leave this._data as it was\n    }\n  }\n\n  return true;\n};\n\nWaveformZoomView.prototype.containerHeightChange = function() {\n  // Nothing\n};\n\nWaveformZoomView.prototype.getStage = function() {\n  return this._stage;\n};\n\nWaveformZoomView.prototype.getSegmentsLayer = function() {\n  return this._segmentsLayer;\n};\n\nWaveformZoomView.prototype.destroy = function() {\n  // Unregister event handlers\n  this._peaks.off('player.playing', this._onPlaying);\n  this._peaks.off('player.pause', this._onPause);\n  this._peaks.off('player.timeupdate', this._onTimeUpdate);\n  this._peaks.off('keyboard.left', this._onKeyboardLeft);\n  this._peaks.off('keyboard.right', this._onKeyboardRight);\n  this._peaks.off('keyboard.shift_left', this._onKeyboardShiftLeft);\n  this._peaks.off('keyboard.shift_right', this._onKeyboardShiftRight);\n\n  if (this._enableWaveformCache) {\n    this._waveformData.clear();\n    delete this._waveformData;\n    delete this._waveformScales;\n  }\n  else {\n    delete this._data;\n  }\n\n  this._mouseDragHandler.destroy();\n\n  WaveformView.prototype.destroy.call(this);\n};\n\nexport default WaveformZoomView;\n","/**\n * @file\n *\n * Defines the {@link Scrollbar} class.\n *\n * @module scrollbar\n */\n\nimport { clamp } from './utils';\n\nimport Konva from 'konva/lib/Core';\nimport { Rect } from 'konva/lib/shapes/Rect';\n\n/**\n * Creates a scrollbar.\n *\n * @class\n * @alias Scrollbar\n *\n * @param {HTMLElement} container\n * @param {Peaks} peaks\n */\n\nfunction Scrollbar(container, peaks) {\n  this._container = container;\n  this._peaks = peaks;\n  this._options = peaks.options.scrollbar;\n  this._zoomview = peaks.views.getView('zoomview');\n\n  this._dragBoundFunc = this._dragBoundFunc.bind(this);\n  this._onScrollboxDragStart = this._onScrollboxDragStart.bind(this);\n  this._onScrollboxDragMove = this._onScrollboxDragMove.bind(this);\n  this._onScrollboxDragEnd = this._onScrollboxDragEnd.bind(this);\n  this._onZoomviewUpdate = this._onZoomviewUpdate.bind(this);\n  this._onScrollbarClick = this._onScrollbarClick.bind(this);\n\n  this._peaks.on('zoomview.update', this._onZoomviewUpdate);\n\n  this._width = container.clientWidth;\n  this._height = container.clientHeight;\n\n  this._stage = new Konva.Stage({\n    container: container,\n    width: this._width,\n    height: this._height\n  });\n\n  this._layer = new Konva.Layer();\n  this._stage.on('click', this._onScrollbarClick);\n\n  this._stage.add(this._layer);\n\n  this._color = this._options.color;\n  this._scrollboxX = 0;\n  this._minScrollboxWidth = this._options.minWidth;\n\n  this._offsetY = 0;\n\n  this._scrollbox = new Konva.Group({\n    draggable:     true,\n    dragBoundFunc: this._dragBoundFunc\n  });\n\n  this._scrollboxRect = new Rect({\n    x:      this._scrollboxX,\n    y:      this._offsetY,\n    width:  0,\n    height: this._height,\n    fill:   this._color\n  });\n\n  this._scrollbox.add(this._scrollboxRect);\n  this._setScrollboxWidth();\n\n  this._scrollbox.on('dragstart', this._onScrollboxDragStart);\n  this._scrollbox.on('dragmove', this._onScrollboxDragMove);\n  this._scrollbox.on('dragend', this._onScrollboxDragEnd);\n\n  this._layer.add(this._scrollbox);\n\n  this._updateScrollbarWidthAndPosition();\n}\n\nScrollbar.prototype.setZoomview = function(zoomview) {\n  this._zoomview = zoomview;\n\n  this._updateScrollbarWidthAndPosition();\n};\n\n/**\n * Sets the width of the scrollbox, based on the visible waveform region\n * in the zoomview and minimum scrollbox width option.\n */\n\nScrollbar.prototype._setScrollboxWidth = function() {\n  if (this._zoomview) {\n    this._scrollboxWidth = Math.floor(\n      this._width * this._zoomview.pixelsToTime(this._zoomview.getWidth()) /\n        this._peaks.player.getDuration()\n    );\n\n    if (this._scrollboxWidth < this._minScrollboxWidth) {\n      this._scrollboxWidth = this._minScrollboxWidth;\n    }\n  }\n  else {\n    this._scrollboxWidth = this._width;\n  }\n\n  this._scrollboxRect.width(this._scrollboxWidth);\n};\n\n/**\n * @returns {Number} The maximum scrollbox position, in pixels.\n */\n\nScrollbar.prototype._getScrollbarRange = function() {\n  return this._width - this._scrollboxWidth;\n};\n\nScrollbar.prototype._dragBoundFunc = function(pos) {\n  // Allow the scrollbar to be moved horizontally but not vertically.\n  return {\n    x: pos.x,\n    y: 0\n  };\n};\n\nScrollbar.prototype._onScrollboxDragStart = function() {\n  this._dragging = true;\n};\n\nScrollbar.prototype._onScrollboxDragEnd = function() {\n  this._dragging = false;\n};\n\nScrollbar.prototype._onScrollboxDragMove = function() {\n  const range = this._getScrollbarRange();\n  const x = clamp(this._scrollbox.x(), 0, range);\n\n  this._scrollbox.x(x);\n\n  if (x !== this._scrollboxX) {\n    this._scrollboxX = x;\n\n    if (this._zoomview) {\n      this._updateWaveform(x);\n    }\n  }\n};\n\nScrollbar.prototype._onZoomviewUpdate = function(/* event */) {\n  if (!this._dragging) {\n    this._updateScrollbarWidthAndPosition();\n  }\n};\n\nScrollbar.prototype._updateScrollbarWidthAndPosition = function() {\n  this._setScrollboxWidth();\n\n  if (this._zoomview) {\n    const startTime = this._zoomview.getStartTime();\n\n    const zoomviewRange = this._zoomview.getPixelLength() - this._zoomview.getWidth();\n\n    const scrollBoxPos = Math.floor(\n      this._zoomview.timeToPixels(startTime) * this._getScrollbarRange() / zoomviewRange\n    );\n\n    this._scrollbox.x(scrollBoxPos);\n    this._layer.draw();\n  }\n};\n\nScrollbar.prototype._onScrollbarClick = function(event) {\n  // Handle clicks on the scrollbar outside the scrollbox.\n  if (event.target === this._stage) {\n    if (this._zoomview) {\n      // Centre the scrollbox where the user clicked.\n      let x = Math.floor(event.evt.offsetX - this._scrollboxWidth / 2);\n\n      if (x < 0) {\n        x = 0;\n      }\n\n      this._updateWaveform(x);\n    }\n  }\n};\n\n/**\n * Sets the zoomview waveform position based on scrollbar position.\n */\n\nScrollbar.prototype._updateWaveform = function(x) {\n  const offset = Math.floor(\n    (this._zoomview.getPixelLength() - this._zoomview.getWidth()) * x / this._getScrollbarRange()\n  );\n\n  this._zoomview.updateWaveform(offset);\n};\n\nScrollbar.prototype.fitToContainer = function() {\n  if (this._container.clientWidth === 0 && this._container.clientHeight === 0) {\n    return;\n  }\n\n  if (this._container.clientWidth !== this._width) {\n    this._width = this._container.clientWidth;\n    this._stage.width(this._width);\n\n    this._updateScrollbarWidthAndPosition();\n  }\n\n  this._height = this._container.clientHeight;\n  this._stage.height(this._height);\n};\n\nScrollbar.prototype.destroy = function() {\n  this._peaks.off('zoomview.update', this._onZoomviewUpdate);\n\n  this._layer.destroy();\n\n  this._stage.destroy();\n  this._stage = null;\n};\n\nexport default Scrollbar;\n","/**\n * @file\n *\n * Defines the {@link ViewController} class.\n *\n * @module view-controller\n */\n\nimport WaveformOverview from './waveform-overview';\nimport WaveformZoomView from './waveform-zoomview';\nimport Scrollbar from './scrollbar';\nimport { isNullOrUndefined } from './utils';\n\n/**\n * Creates an object that allows users to create and manage waveform views.\n *\n * @class\n * @alias ViewController\n *\n * @param {Peaks} peaks\n */\n\nfunction ViewController(peaks) {\n  this._peaks = peaks;\n  this._overview = null;\n  this._zoomview = null;\n  this._scrollbar = null;\n}\n\nViewController.prototype.createOverview = function(container) {\n  if (this._overview) {\n    return this._overview;\n  }\n\n  const waveformData = this._peaks.getWaveformData();\n\n  this._overview = new WaveformOverview(\n    waveformData,\n    container,\n    this._peaks\n  );\n\n  if (this._zoomview) {\n    this._overview.showHighlight(\n      this._zoomview.getStartTime(),\n      this._zoomview.getEndTime()\n    );\n  }\n\n  return this._overview;\n};\n\nViewController.prototype.createZoomview = function(container) {\n  if (this._zoomview) {\n    return this._zoomview;\n  }\n\n  const waveformData = this._peaks.getWaveformData();\n\n  this._zoomview = new WaveformZoomView(\n    waveformData,\n    container,\n    this._peaks\n  );\n\n  if (this._scrollbar) {\n    this._scrollbar.setZoomview(this._zoomview);\n  }\n\n  return this._zoomview;\n};\n\nViewController.prototype.createScrollbar = function(container) {\n  this._scrollbar = new Scrollbar(\n    container,\n    this._peaks\n  );\n\n  return this._scrollbar;\n};\n\nViewController.prototype.destroyOverview = function() {\n  if (!this._overview) {\n    return;\n  }\n\n  if (!this._zoomview) {\n    return;\n  }\n\n  this._overview.destroy();\n  this._overview = null;\n};\n\nViewController.prototype.destroyZoomview = function() {\n  if (!this._zoomview) {\n    return;\n  }\n\n  if (!this._overview) {\n    return;\n  }\n\n  this._zoomview.destroy();\n  this._zoomview = null;\n\n  this._overview.removeHighlightRect();\n};\n\nViewController.prototype.destroy = function() {\n  if (this._overview) {\n    this._overview.destroy();\n    this._overview = null;\n  }\n\n  if (this._zoomview) {\n    this._zoomview.destroy();\n    this._zoomview = null;\n  }\n\n  if (this._scrollbar) {\n    this._scrollbar.destroy();\n    this._scrollbar = null;\n  }\n};\n\nViewController.prototype.getView = function(name) {\n  if (isNullOrUndefined(name)) {\n    if (this._overview && this._zoomview) {\n      return null;\n    }\n    else if (this._overview) {\n      return this._overview;\n    }\n    else if (this._zoomview) {\n      return this._zoomview;\n    }\n    else {\n      return null;\n    }\n  }\n  else {\n    switch (name) {\n      case 'overview':\n        return this._overview;\n\n      case 'zoomview':\n        return this._zoomview;\n\n      default:\n        return null;\n    }\n  }\n};\n\nViewController.prototype.getScrollbar = function() {\n  return this._scrollbar;\n};\n\nexport default ViewController;\n","/**\n * @file\n *\n * Defines the {@link ZoomController} class.\n *\n * @module zoom-controller\n */\n\n/**\n * Creates an object to control zoom levels in a {@link WaveformZoomView}.\n *\n * @class\n * @alias ZoomController\n *\n * @param {Peaks} peaks\n * @param {Array<Integer>} zoomLevels\n */\n\nfunction ZoomController(peaks, zoomLevels) {\n  this._peaks = peaks;\n  this._zoomLevels = zoomLevels;\n  this._zoomLevelIndex = 0;\n}\n\nZoomController.prototype.setZoomLevels = function(zoomLevels) {\n  this._zoomLevels = zoomLevels;\n  this.setZoom(0, true);\n};\n\n/**\n * Zoom in one level.\n */\n\nZoomController.prototype.zoomIn = function() {\n  this.setZoom(this._zoomLevelIndex - 1, false);\n};\n\n/**\n * Zoom out one level.\n */\n\nZoomController.prototype.zoomOut = function() {\n  this.setZoom(this._zoomLevelIndex + 1, false);\n};\n\n/**\n * Given a particular zoom level, triggers a resampling of the data in the\n * zoomed view.\n *\n * @param {number} zoomLevelIndex An index into the options.zoomLevels array.\n */\n\nZoomController.prototype.setZoom = function(zoomLevelIndex, forceUpdate) {\n  if (zoomLevelIndex >= this._zoomLevels.length) {\n    zoomLevelIndex = this._zoomLevels.length - 1;\n  }\n\n  if (zoomLevelIndex < 0) {\n    zoomLevelIndex = 0;\n  }\n\n  if (!forceUpdate && (zoomLevelIndex === this._zoomLevelIndex)) {\n    // Nothing to do.\n    return;\n  }\n\n  this._zoomLevelIndex = zoomLevelIndex;\n\n  const zoomview = this._peaks.views.getView('zoomview');\n\n  if (!zoomview) {\n    return;\n  }\n\n  zoomview.setZoom({ scale: this._zoomLevels[zoomLevelIndex] });\n};\n\n/**\n * Returns the current zoom level index.\n *\n * @returns {Number}\n */\n\nZoomController.prototype.getZoom = function() {\n  return this._zoomLevelIndex;\n};\n\n/**\n * Returns the current zoom level, in samples per pixel.\n *\n * @returns {Number}\n */\n\nZoomController.prototype.getZoomLevel = function() {\n  return this._zoomLevels[this._zoomLevelIndex];\n};\n\nexport default ZoomController;\n","/**\n * Provides access to the waveform data for a single audio channel.\n */\n\nfunction WaveformDataChannel(waveformData, channelIndex) {\n  this._waveformData = waveformData;\n  this._channelIndex = channelIndex;\n}\n\n/**\n * Returns the waveform minimum at the given index position.\n */\n\nWaveformDataChannel.prototype.min_sample = function (index) {\n  var offset = (index * this._waveformData.channels + this._channelIndex) * 2;\n  return this._waveformData._at(offset);\n};\n\n/**\n * Returns the waveform maximum at the given index position.\n */\n\nWaveformDataChannel.prototype.max_sample = function (index) {\n  var offset = (index * this._waveformData.channels + this._channelIndex) * 2 + 1;\n  return this._waveformData._at(offset);\n};\n\n/**\n * Sets the waveform minimum at the given index position.\n */\n\nWaveformDataChannel.prototype.set_min_sample = function (index, sample) {\n  var offset = (index * this._waveformData.channels + this._channelIndex) * 2;\n  return this._waveformData._set_at(offset, sample);\n};\n\n/**\n * Sets the waveform maximum at the given index position.\n */\n\nWaveformDataChannel.prototype.set_max_sample = function (index, sample) {\n  var offset = (index * this._waveformData.channels + this._channelIndex) * 2 + 1;\n  return this._waveformData._set_at(offset, sample);\n};\n\n/**\n * Returns all the waveform minimum values as an array.\n */\n\nWaveformDataChannel.prototype.min_array = function () {\n  var length = this._waveformData.length;\n  var values = [];\n  for (var i = 0; i < length; i++) {\n    values.push(this.min_sample(i));\n  }\n  return values;\n};\n\n/**\n * Returns all the waveform maximum values as an array.\n */\n\nWaveformDataChannel.prototype.max_array = function () {\n  var length = this._waveformData.length;\n  var values = [];\n  for (var i = 0; i < length; i++) {\n    values.push(this.max_sample(i));\n  }\n  return values;\n};\n\n/**\n * AudioBuffer-based WaveformData generator\n *\n * Adapted from BlockFile::CalcSummary in Audacity, with permission.\n * See https://github.com/audacity/audacity/blob/\n *   1108c1376c09166162335fab4743008cba57c4ee/src/BlockFile.cpp#L198\n */\n\nvar INT8_MAX = 127;\nvar INT8_MIN = -128;\nvar INT16_MAX = 32767;\nvar INT16_MIN = -32768;\nfunction calculateWaveformDataLength(audio_sample_count, scale) {\n  var data_length = Math.floor(audio_sample_count / scale);\n  var samples_remaining = audio_sample_count - data_length * scale;\n  if (samples_remaining > 0) {\n    data_length++;\n  }\n  return data_length;\n}\nfunction generateWaveformData(options) {\n  var scale = options.scale;\n  var amplitude_scale = options.amplitude_scale;\n  var split_channels = options.split_channels;\n  var length = options.length;\n  var sample_rate = options.sample_rate;\n  var channels = options.channels.map(function (channel) {\n    return new Float32Array(channel);\n  });\n  var output_channels = split_channels ? channels.length : 1;\n  var header_size = 24;\n  var data_length = calculateWaveformDataLength(length, scale);\n  var bytes_per_sample = options.bits === 8 ? 1 : 2;\n  var total_size = header_size + data_length * 2 * bytes_per_sample * output_channels;\n  var buffer = new ArrayBuffer(total_size);\n  var data_view = new DataView(buffer);\n  var scale_counter = 0;\n  var offset = header_size;\n  var min_value = new Array(output_channels);\n  var max_value = new Array(output_channels);\n  for (var channel = 0; channel < output_channels; channel++) {\n    min_value[channel] = Infinity;\n    max_value[channel] = -Infinity;\n  }\n  var range_min = options.bits === 8 ? INT8_MIN : INT16_MIN;\n  var range_max = options.bits === 8 ? INT8_MAX : INT16_MAX;\n  data_view.setInt32(0, 2, true); // Version\n  data_view.setUint32(4, options.bits === 8, true); // Is 8 bit?\n  data_view.setInt32(8, sample_rate, true); // Sample rate\n  data_view.setInt32(12, scale, true); // Scale\n  data_view.setInt32(16, data_length, true); // Length\n  data_view.setInt32(20, output_channels, true);\n  for (var i = 0; i < length; i++) {\n    var sample = 0;\n    if (output_channels === 1) {\n      for (var _channel = 0; _channel < channels.length; ++_channel) {\n        sample += channels[_channel][i];\n      }\n      sample = Math.floor(range_max * sample * amplitude_scale / channels.length);\n      if (sample < min_value[0]) {\n        min_value[0] = sample;\n        if (min_value[0] < range_min) {\n          min_value[0] = range_min;\n        }\n      }\n      if (sample > max_value[0]) {\n        max_value[0] = sample;\n        if (max_value[0] > range_max) {\n          max_value[0] = range_max;\n        }\n      }\n    } else {\n      for (var _channel2 = 0; _channel2 < output_channels; ++_channel2) {\n        sample = Math.floor(range_max * channels[_channel2][i] * amplitude_scale);\n        if (sample < min_value[_channel2]) {\n          min_value[_channel2] = sample;\n          if (min_value[_channel2] < range_min) {\n            min_value[_channel2] = range_min;\n          }\n        }\n        if (sample > max_value[_channel2]) {\n          max_value[_channel2] = sample;\n          if (max_value[_channel2] > range_max) {\n            max_value[_channel2] = range_max;\n          }\n        }\n      }\n    }\n    if (++scale_counter === scale) {\n      for (var _channel3 = 0; _channel3 < output_channels; _channel3++) {\n        if (options.bits === 8) {\n          data_view.setInt8(offset++, min_value[_channel3]);\n          data_view.setInt8(offset++, max_value[_channel3]);\n        } else {\n          data_view.setInt16(offset, min_value[_channel3], true);\n          data_view.setInt16(offset + 2, max_value[_channel3], true);\n          offset += 4;\n        }\n        min_value[_channel3] = Infinity;\n        max_value[_channel3] = -Infinity;\n      }\n      scale_counter = 0;\n    }\n  }\n  if (scale_counter > 0) {\n    for (var _channel4 = 0; _channel4 < output_channels; _channel4++) {\n      if (options.bits === 8) {\n        data_view.setInt8(offset++, min_value[_channel4]);\n        data_view.setInt8(offset++, max_value[_channel4]);\n      } else {\n        data_view.setInt16(offset, min_value[_channel4], true);\n        data_view.setInt16(offset + 2, max_value[_channel4], true);\n      }\n    }\n  }\n  return buffer;\n}\n\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\n\nfunction isJsonWaveformData(data) {\n  return data && _typeof(data) === 'object' && 'sample_rate' in data && 'samples_per_pixel' in data && 'bits' in data && 'length' in data && 'data' in data;\n}\nfunction isBinaryWaveformData(data) {\n  var isCompatible = data && _typeof(data) === 'object' && 'byteLength' in data;\n  if (isCompatible) {\n    var view = new DataView(data);\n    var version = view.getInt32(0, true);\n    if (version !== 1 && version !== 2) {\n      throw new TypeError('WaveformData.create(): This waveform data version not supported');\n    }\n  }\n  return isCompatible;\n}\nfunction convertJsonToBinary(data) {\n  var waveformData = data.data;\n  var channels = data.channels || 1;\n  var header_size = 24; // version 2\n  var bytes_per_sample = data.bits === 8 ? 1 : 2;\n  var expected_length = data.length * 2 * channels;\n  if (waveformData.length !== expected_length) {\n    throw new Error('WaveformData.create(): Length mismatch in JSON waveform data');\n  }\n  var total_size = header_size + waveformData.length * bytes_per_sample;\n  var array_buffer = new ArrayBuffer(total_size);\n  var data_object = new DataView(array_buffer);\n  data_object.setInt32(0, 2, true); // Version\n  data_object.setUint32(4, data.bits === 8, true);\n  data_object.setInt32(8, data.sample_rate, true);\n  data_object.setInt32(12, data.samples_per_pixel, true);\n  data_object.setInt32(16, data.length, true);\n  data_object.setInt32(20, channels, true);\n  var index = header_size;\n  if (data.bits === 8) {\n    for (var i = 0; i < waveformData.length; i++) {\n      data_object.setInt8(index++, waveformData[i], true);\n    }\n  } else {\n    for (var _i = 0; _i < waveformData.length; _i++) {\n      data_object.setInt16(index, waveformData[_i], true);\n      index += 2;\n    }\n  }\n  return array_buffer;\n}\n\nfunction isNullOrUndefined(value) {\n  return value === undefined || value === null;\n}\n\nfunction decodeBase64(base64, enableUnicode) {\n    var binaryString = atob(base64);\n    if (enableUnicode) {\n        var binaryView = new Uint8Array(binaryString.length);\n        for (var i = 0, n = binaryString.length; i < n; ++i) {\n            binaryView[i] = binaryString.charCodeAt(i);\n        }\n        return String.fromCharCode.apply(null, new Uint16Array(binaryView.buffer));\n    }\n    return binaryString;\n}\n\nfunction createURL(base64, sourcemapArg, enableUnicodeArg) {\n    var sourcemap = sourcemapArg === undefined ? null : sourcemapArg;\n    var enableUnicode = enableUnicodeArg === undefined ? false : enableUnicodeArg;\n    var source = decodeBase64(base64, enableUnicode);\n    var start = source.indexOf('\\n', 10) + 1;\n    var body = source.substring(start) + (sourcemap ? '\\/\\/# sourceMappingURL=' + sourcemap : '');\n    var blob = new Blob([body], { type: 'application/javascript' });\n    return URL.createObjectURL(blob);\n}\n\nfunction createBase64WorkerFactory(base64, sourcemapArg, enableUnicodeArg) {\n    var url;\n    return function WorkerFactory(options) {\n        url = url || createURL(base64, sourcemapArg, enableUnicodeArg);\n        return new Worker(url, options);\n    };\n}\n\nvar WorkerFactory = /*#__PURE__*/createBase64WorkerFactory('Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgLyoqCiAgICogQXVkaW9CdWZmZXItYmFzZWQgV2F2ZWZvcm1EYXRhIGdlbmVyYXRvcgogICAqCiAgICogQWRhcHRlZCBmcm9tIEJsb2NrRmlsZTo6Q2FsY1N1bW1hcnkgaW4gQXVkYWNpdHksIHdpdGggcGVybWlzc2lvbi4KICAgKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2F1ZGFjaXR5L2F1ZGFjaXR5L2Jsb2IvCiAgICogICAxMTA4YzEzNzZjMDkxNjYxNjIzMzVmYWI0NzQzMDA4Y2JhNTdjNGVlL3NyYy9CbG9ja0ZpbGUuY3BwI0wxOTgKICAgKi8KCiAgdmFyIElOVDhfTUFYID0gMTI3OwogIHZhciBJTlQ4X01JTiA9IC0xMjg7CiAgdmFyIElOVDE2X01BWCA9IDMyNzY3OwogIHZhciBJTlQxNl9NSU4gPSAtMzI3Njg7CiAgZnVuY3Rpb24gY2FsY3VsYXRlV2F2ZWZvcm1EYXRhTGVuZ3RoKGF1ZGlvX3NhbXBsZV9jb3VudCwgc2NhbGUpIHsKICAgIHZhciBkYXRhX2xlbmd0aCA9IE1hdGguZmxvb3IoYXVkaW9fc2FtcGxlX2NvdW50IC8gc2NhbGUpOwogICAgdmFyIHNhbXBsZXNfcmVtYWluaW5nID0gYXVkaW9fc2FtcGxlX2NvdW50IC0gZGF0YV9sZW5ndGggKiBzY2FsZTsKICAgIGlmIChzYW1wbGVzX3JlbWFpbmluZyA+IDApIHsKICAgICAgZGF0YV9sZW5ndGgrKzsKICAgIH0KICAgIHJldHVybiBkYXRhX2xlbmd0aDsKICB9CiAgZnVuY3Rpb24gZ2VuZXJhdGVXYXZlZm9ybURhdGEob3B0aW9ucykgewogICAgdmFyIHNjYWxlID0gb3B0aW9ucy5zY2FsZTsKICAgIHZhciBhbXBsaXR1ZGVfc2NhbGUgPSBvcHRpb25zLmFtcGxpdHVkZV9zY2FsZTsKICAgIHZhciBzcGxpdF9jaGFubmVscyA9IG9wdGlvbnMuc3BsaXRfY2hhbm5lbHM7CiAgICB2YXIgbGVuZ3RoID0gb3B0aW9ucy5sZW5ndGg7CiAgICB2YXIgc2FtcGxlX3JhdGUgPSBvcHRpb25zLnNhbXBsZV9yYXRlOwogICAgdmFyIGNoYW5uZWxzID0gb3B0aW9ucy5jaGFubmVscy5tYXAoZnVuY3Rpb24gKGNoYW5uZWwpIHsKICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoY2hhbm5lbCk7CiAgICB9KTsKICAgIHZhciBvdXRwdXRfY2hhbm5lbHMgPSBzcGxpdF9jaGFubmVscyA/IGNoYW5uZWxzLmxlbmd0aCA6IDE7CiAgICB2YXIgaGVhZGVyX3NpemUgPSAyNDsKICAgIHZhciBkYXRhX2xlbmd0aCA9IGNhbGN1bGF0ZVdhdmVmb3JtRGF0YUxlbmd0aChsZW5ndGgsIHNjYWxlKTsKICAgIHZhciBieXRlc19wZXJfc2FtcGxlID0gb3B0aW9ucy5iaXRzID09PSA4ID8gMSA6IDI7CiAgICB2YXIgdG90YWxfc2l6ZSA9IGhlYWRlcl9zaXplICsgZGF0YV9sZW5ndGggKiAyICogYnl0ZXNfcGVyX3NhbXBsZSAqIG91dHB1dF9jaGFubmVsczsKICAgIHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodG90YWxfc2l6ZSk7CiAgICB2YXIgZGF0YV92aWV3ID0gbmV3IERhdGFWaWV3KGJ1ZmZlcik7CiAgICB2YXIgc2NhbGVfY291bnRlciA9IDA7CiAgICB2YXIgb2Zmc2V0ID0gaGVhZGVyX3NpemU7CiAgICB2YXIgbWluX3ZhbHVlID0gbmV3IEFycmF5KG91dHB1dF9jaGFubmVscyk7CiAgICB2YXIgbWF4X3ZhbHVlID0gbmV3IEFycmF5KG91dHB1dF9jaGFubmVscyk7CiAgICBmb3IgKHZhciBjaGFubmVsID0gMDsgY2hhbm5lbCA8IG91dHB1dF9jaGFubmVsczsgY2hhbm5lbCsrKSB7CiAgICAgIG1pbl92YWx1ZVtjaGFubmVsXSA9IEluZmluaXR5OwogICAgICBtYXhfdmFsdWVbY2hhbm5lbF0gPSAtSW5maW5pdHk7CiAgICB9CiAgICB2YXIgcmFuZ2VfbWluID0gb3B0aW9ucy5iaXRzID09PSA4ID8gSU5UOF9NSU4gOiBJTlQxNl9NSU47CiAgICB2YXIgcmFuZ2VfbWF4ID0gb3B0aW9ucy5iaXRzID09PSA4ID8gSU5UOF9NQVggOiBJTlQxNl9NQVg7CiAgICBkYXRhX3ZpZXcuc2V0SW50MzIoMCwgMiwgdHJ1ZSk7IC8vIFZlcnNpb24KICAgIGRhdGFfdmlldy5zZXRVaW50MzIoNCwgb3B0aW9ucy5iaXRzID09PSA4LCB0cnVlKTsgLy8gSXMgOCBiaXQ/CiAgICBkYXRhX3ZpZXcuc2V0SW50MzIoOCwgc2FtcGxlX3JhdGUsIHRydWUpOyAvLyBTYW1wbGUgcmF0ZQogICAgZGF0YV92aWV3LnNldEludDMyKDEyLCBzY2FsZSwgdHJ1ZSk7IC8vIFNjYWxlCiAgICBkYXRhX3ZpZXcuc2V0SW50MzIoMTYsIGRhdGFfbGVuZ3RoLCB0cnVlKTsgLy8gTGVuZ3RoCiAgICBkYXRhX3ZpZXcuc2V0SW50MzIoMjAsIG91dHB1dF9jaGFubmVscywgdHJ1ZSk7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBzYW1wbGUgPSAwOwogICAgICBpZiAob3V0cHV0X2NoYW5uZWxzID09PSAxKSB7CiAgICAgICAgZm9yICh2YXIgX2NoYW5uZWwgPSAwOyBfY2hhbm5lbCA8IGNoYW5uZWxzLmxlbmd0aDsgKytfY2hhbm5lbCkgewogICAgICAgICAgc2FtcGxlICs9IGNoYW5uZWxzW19jaGFubmVsXVtpXTsKICAgICAgICB9CiAgICAgICAgc2FtcGxlID0gTWF0aC5mbG9vcihyYW5nZV9tYXggKiBzYW1wbGUgKiBhbXBsaXR1ZGVfc2NhbGUgLyBjaGFubmVscy5sZW5ndGgpOwogICAgICAgIGlmIChzYW1wbGUgPCBtaW5fdmFsdWVbMF0pIHsKICAgICAgICAgIG1pbl92YWx1ZVswXSA9IHNhbXBsZTsKICAgICAgICAgIGlmIChtaW5fdmFsdWVbMF0gPCByYW5nZV9taW4pIHsKICAgICAgICAgICAgbWluX3ZhbHVlWzBdID0gcmFuZ2VfbWluOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoc2FtcGxlID4gbWF4X3ZhbHVlWzBdKSB7CiAgICAgICAgICBtYXhfdmFsdWVbMF0gPSBzYW1wbGU7CiAgICAgICAgICBpZiAobWF4X3ZhbHVlWzBdID4gcmFuZ2VfbWF4KSB7CiAgICAgICAgICAgIG1heF92YWx1ZVswXSA9IHJhbmdlX21heDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yICh2YXIgX2NoYW5uZWwyID0gMDsgX2NoYW5uZWwyIDwgb3V0cHV0X2NoYW5uZWxzOyArK19jaGFubmVsMikgewogICAgICAgICAgc2FtcGxlID0gTWF0aC5mbG9vcihyYW5nZV9tYXggKiBjaGFubmVsc1tfY2hhbm5lbDJdW2ldICogYW1wbGl0dWRlX3NjYWxlKTsKICAgICAgICAgIGlmIChzYW1wbGUgPCBtaW5fdmFsdWVbX2NoYW5uZWwyXSkgewogICAgICAgICAgICBtaW5fdmFsdWVbX2NoYW5uZWwyXSA9IHNhbXBsZTsKICAgICAgICAgICAgaWYgKG1pbl92YWx1ZVtfY2hhbm5lbDJdIDwgcmFuZ2VfbWluKSB7CiAgICAgICAgICAgICAgbWluX3ZhbHVlW19jaGFubmVsMl0gPSByYW5nZV9taW47CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmIChzYW1wbGUgPiBtYXhfdmFsdWVbX2NoYW5uZWwyXSkgewogICAgICAgICAgICBtYXhfdmFsdWVbX2NoYW5uZWwyXSA9IHNhbXBsZTsKICAgICAgICAgICAgaWYgKG1heF92YWx1ZVtfY2hhbm5lbDJdID4gcmFuZ2VfbWF4KSB7CiAgICAgICAgICAgICAgbWF4X3ZhbHVlW19jaGFubmVsMl0gPSByYW5nZV9tYXg7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCsrc2NhbGVfY291bnRlciA9PT0gc2NhbGUpIHsKICAgICAgICBmb3IgKHZhciBfY2hhbm5lbDMgPSAwOyBfY2hhbm5lbDMgPCBvdXRwdXRfY2hhbm5lbHM7IF9jaGFubmVsMysrKSB7CiAgICAgICAgICBpZiAob3B0aW9ucy5iaXRzID09PSA4KSB7CiAgICAgICAgICAgIGRhdGFfdmlldy5zZXRJbnQ4KG9mZnNldCsrLCBtaW5fdmFsdWVbX2NoYW5uZWwzXSk7CiAgICAgICAgICAgIGRhdGFfdmlldy5zZXRJbnQ4KG9mZnNldCsrLCBtYXhfdmFsdWVbX2NoYW5uZWwzXSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkYXRhX3ZpZXcuc2V0SW50MTYob2Zmc2V0LCBtaW5fdmFsdWVbX2NoYW5uZWwzXSwgdHJ1ZSk7CiAgICAgICAgICAgIGRhdGFfdmlldy5zZXRJbnQxNihvZmZzZXQgKyAyLCBtYXhfdmFsdWVbX2NoYW5uZWwzXSwgdHJ1ZSk7CiAgICAgICAgICAgIG9mZnNldCArPSA0OwogICAgICAgICAgfQogICAgICAgICAgbWluX3ZhbHVlW19jaGFubmVsM10gPSBJbmZpbml0eTsKICAgICAgICAgIG1heF92YWx1ZVtfY2hhbm5lbDNdID0gLUluZmluaXR5OwogICAgICAgIH0KICAgICAgICBzY2FsZV9jb3VudGVyID0gMDsKICAgICAgfQogICAgfQogICAgaWYgKHNjYWxlX2NvdW50ZXIgPiAwKSB7CiAgICAgIGZvciAodmFyIF9jaGFubmVsNCA9IDA7IF9jaGFubmVsNCA8IG91dHB1dF9jaGFubmVsczsgX2NoYW5uZWw0KyspIHsKICAgICAgICBpZiAob3B0aW9ucy5iaXRzID09PSA4KSB7CiAgICAgICAgICBkYXRhX3ZpZXcuc2V0SW50OChvZmZzZXQrKywgbWluX3ZhbHVlW19jaGFubmVsNF0pOwogICAgICAgICAgZGF0YV92aWV3LnNldEludDgob2Zmc2V0KyssIG1heF92YWx1ZVtfY2hhbm5lbDRdKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZGF0YV92aWV3LnNldEludDE2KG9mZnNldCwgbWluX3ZhbHVlW19jaGFubmVsNF0sIHRydWUpOwogICAgICAgICAgZGF0YV92aWV3LnNldEludDE2KG9mZnNldCArIDIsIG1heF92YWx1ZVtfY2hhbm5lbDRdLCB0cnVlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBidWZmZXI7CiAgfQoKICBvbm1lc3NhZ2UgPSBmdW5jdGlvbiBvbm1lc3NhZ2UoZXZ0KSB7CiAgICB2YXIgYnVmZmVyID0gZ2VuZXJhdGVXYXZlZm9ybURhdGEoZXZ0LmRhdGEpOwoKICAgIC8vIFRyYW5zZmVyIGJ1ZmZlciB0byB0aGUgY2FsbGluZyB0aHJlYWQKICAgIHRoaXMucG9zdE1lc3NhZ2UoYnVmZmVyLCBbYnVmZmVyXSk7CiAgICB0aGlzLmNsb3NlKCk7CiAgfTsKCn0pKCk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPXdhdmVmb3JtLWRhdGEtd29ya2VyLmpzLm1hcAoK', null, false);\n/* eslint-enable */\n\n/**\n * Provides access to waveform data.\n */\n\nfunction WaveformData(data) {\n  if (isJsonWaveformData(data)) {\n    data = convertJsonToBinary(data);\n  }\n  if (isBinaryWaveformData(data)) {\n    this._data = new DataView(data);\n    this._offset = this._version() === 2 ? 24 : 20;\n    this._channels = [];\n    for (var channel = 0; channel < this.channels; channel++) {\n      this._channels[channel] = new WaveformDataChannel(this, channel);\n    }\n  } else {\n    throw new TypeError('WaveformData.create(): Unknown data format');\n  }\n}\nvar defaultOptions = {\n  scale: 512,\n  bits: 8,\n  amplitude_scale: 1.0,\n  split_channels: false,\n  disable_worker: false\n};\nfunction getOptions(options) {\n  var opts = {\n    scale: options.scale || defaultOptions.scale,\n    bits: options.bits || defaultOptions.bits,\n    amplitude_scale: options.amplitude_scale || defaultOptions.amplitude_scale,\n    split_channels: options.split_channels || defaultOptions.split_channels,\n    disable_worker: options.disable_worker || defaultOptions.disable_worker\n  };\n  return opts;\n}\nfunction getChannelData(audio_buffer) {\n  var channels = [];\n  for (var i = 0; i < audio_buffer.numberOfChannels; ++i) {\n    channels.push(audio_buffer.getChannelData(i).buffer);\n  }\n  return channels;\n}\nfunction createFromAudioBuffer(audio_buffer, options, callback) {\n  var channels = getChannelData(audio_buffer);\n  if (options.disable_worker) {\n    var buffer = generateWaveformData({\n      scale: options.scale,\n      bits: options.bits,\n      amplitude_scale: options.amplitude_scale,\n      split_channels: options.split_channels,\n      length: audio_buffer.length,\n      sample_rate: audio_buffer.sampleRate,\n      channels: channels\n    });\n    callback(undefined, new WaveformData(buffer), audio_buffer);\n  } else {\n    var worker = new WorkerFactory();\n    worker.onmessage = function (evt) {\n      callback(undefined, new WaveformData(evt.data), audio_buffer);\n    };\n    worker.postMessage({\n      scale: options.scale,\n      bits: options.bits,\n      amplitude_scale: options.amplitude_scale,\n      split_channels: options.split_channels,\n      length: audio_buffer.length,\n      sample_rate: audio_buffer.sampleRate,\n      channels: channels\n    }, channels);\n  }\n}\nfunction createFromArrayBuffer(audioContext, audioData, options, callback) {\n  // The following function is a workaround for a Webkit bug where decodeAudioData\n  // invokes the errorCallback with null instead of a DOMException.\n  // See https://webaudio.github.io/web-audio-api/#dom-baseaudiocontext-decodeaudiodata\n  // and http://stackoverflow.com/q/10365335/103396\n\n  function errorCallback(error) {\n    if (!error) {\n      error = new DOMException('EncodingError');\n    }\n    callback(error);\n    // prevent double-calling the callback on errors:\n    callback = function callback() {};\n  }\n  var promise = audioContext.decodeAudioData(audioData, function (audio_buffer) {\n    createFromAudioBuffer(audio_buffer, options, callback);\n  }, errorCallback);\n  if (promise) {\n    promise.catch(errorCallback);\n  }\n}\n\n/**\n * Creates and returns a WaveformData instance from the given waveform data.\n */\n\nWaveformData.create = function create(data) {\n  return new WaveformData(data);\n};\n\n/**\n * Creates a WaveformData instance from audio.\n */\n\nWaveformData.createFromAudio = function (options, callback) {\n  var opts = getOptions(options);\n  if (options.audio_context && options.array_buffer) {\n    return createFromArrayBuffer(options.audio_context, options.array_buffer, opts, callback);\n  } else if (options.audio_buffer) {\n    return createFromAudioBuffer(options.audio_buffer, opts, callback);\n  } else {\n    throw new TypeError(\n    // eslint-disable-next-line\n    'WaveformData.createFromAudio(): Pass either an AudioContext and ArrayBuffer, or an AudioBuffer object');\n  }\n};\nfunction WaveformResampler(options) {\n  this._inputData = options.waveformData;\n\n  // Scale we want to reach\n  this._output_samples_per_pixel = options.scale;\n  this._scale = this._inputData.scale; // scale we are coming from\n\n  // The amount of data we want to resample i.e. final zoom want to resample\n  // all data but for intermediate zoom we want to resample subset\n  this._input_buffer_size = this._inputData.length;\n  var input_buffer_length_samples = this._input_buffer_size * this._inputData.scale;\n  var output_buffer_length_samples = Math.ceil(input_buffer_length_samples / this._output_samples_per_pixel);\n  var output_header_size = 24; // version 2\n  var bytes_per_sample = this._inputData.bits === 8 ? 1 : 2;\n  var total_size = output_header_size + output_buffer_length_samples * 2 * this._inputData.channels * bytes_per_sample;\n  this._output_data = new ArrayBuffer(total_size);\n  this.output_dataview = new DataView(this._output_data);\n  this.output_dataview.setInt32(0, 2, true); // Version\n  this.output_dataview.setUint32(4, this._inputData.bits === 8, true); // Is 8 bit?\n  this.output_dataview.setInt32(8, this._inputData.sample_rate, true);\n  this.output_dataview.setInt32(12, this._output_samples_per_pixel, true);\n  this.output_dataview.setInt32(16, output_buffer_length_samples, true);\n  this.output_dataview.setInt32(20, this._inputData.channels, true);\n  this._outputWaveformData = new WaveformData(this._output_data);\n  this._input_index = 0;\n  this._output_index = 0;\n  var channels = this._inputData.channels;\n  this._min = new Array(channels);\n  this._max = new Array(channels);\n  for (var channel = 0; channel < channels; ++channel) {\n    if (this._input_buffer_size > 0) {\n      this._min[channel] = this._inputData.channel(channel).min_sample(this._input_index);\n      this._max[channel] = this._inputData.channel(channel).max_sample(this._input_index);\n    } else {\n      this._min[channel] = 0;\n      this._max[channel] = 0;\n    }\n  }\n  this._min_value = this._inputData.bits === 8 ? -128 : -32768;\n  this._max_value = this._inputData.bits === 8 ? 127 : 32767;\n  this._where = 0;\n  this._prev_where = 0;\n  this._stop = 0;\n  this._last_input_index = 0;\n}\nWaveformResampler.prototype.sample_at_pixel = function (x) {\n  return Math.floor(x * this._output_samples_per_pixel);\n};\nWaveformResampler.prototype.next = function () {\n  var count = 0;\n  var total = 1000;\n  var channels = this._inputData.channels;\n  var channel;\n  while (this._input_index < this._input_buffer_size && count < total) {\n    while (Math.floor(this.sample_at_pixel(this._output_index) / this._scale) === this._input_index) {\n      if (this._output_index > 0) {\n        for (var i = 0; i < channels; ++i) {\n          channel = this._outputWaveformData.channel(i);\n          channel.set_min_sample(this._output_index - 1, this._min[i]);\n          channel.set_max_sample(this._output_index - 1, this._max[i]);\n        }\n      }\n      this._last_input_index = this._input_index;\n      this._output_index++;\n      this._where = this.sample_at_pixel(this._output_index);\n      this._prev_where = this.sample_at_pixel(this._output_index - 1);\n      if (this._where !== this._prev_where) {\n        for (var _i = 0; _i < channels; ++_i) {\n          this._min[_i] = this._max_value;\n          this._max[_i] = this._min_value;\n        }\n      }\n    }\n    this._where = this.sample_at_pixel(this._output_index);\n    this._stop = Math.floor(this._where / this._scale);\n    if (this._stop > this._input_buffer_size) {\n      this._stop = this._input_buffer_size;\n    }\n    while (this._input_index < this._stop) {\n      for (var _i2 = 0; _i2 < channels; ++_i2) {\n        channel = this._inputData.channel(_i2);\n        var value = channel.min_sample(this._input_index);\n        if (value < this._min[_i2]) {\n          this._min[_i2] = value;\n        }\n        value = channel.max_sample(this._input_index);\n        if (value > this._max[_i2]) {\n          this._max[_i2] = value;\n        }\n      }\n      this._input_index++;\n    }\n    count++;\n  }\n  if (this._input_index < this._input_buffer_size) {\n    // More to do\n    return false;\n  } else {\n    // Done\n    if (this._input_index !== this._last_input_index) {\n      for (var _i3 = 0; _i3 < channels; ++_i3) {\n        channel = this._outputWaveformData.channel(_i3);\n        channel.set_min_sample(this._output_index - 1, this._min[_i3]);\n        channel.set_max_sample(this._output_index - 1, this._max[_i3]);\n      }\n    }\n    return true;\n  }\n};\nWaveformResampler.prototype.getOutputData = function () {\n  return this._output_data;\n};\nWaveformData.prototype = {\n  _getResampleOptions: function _getResampleOptions(options) {\n    var opts = {};\n    opts.scale = options.scale;\n    opts.width = options.width;\n    if (!isNullOrUndefined(opts.width) && (typeof opts.width !== 'number' || opts.width <= 0)) {\n      throw new RangeError('WaveformData.resample(): width should be a positive integer value');\n    }\n    if (!isNullOrUndefined(opts.scale) && (typeof opts.scale !== 'number' || opts.scale <= 0)) {\n      throw new RangeError('WaveformData.resample(): scale should be a positive integer value');\n    }\n    if (!opts.scale && !opts.width) {\n      throw new Error('WaveformData.resample(): Missing scale or width option');\n    }\n    if (opts.width) {\n      // Calculate the target scale for the resampled waveform\n      opts.scale = Math.floor(this.duration * this.sample_rate / opts.width);\n    }\n    if (opts.scale < this.scale) {\n      throw new Error('WaveformData.resample(): Zoom level ' + opts.scale + ' too low, minimum: ' + this.scale);\n    }\n    opts.abortSignal = options.abortSignal;\n    return opts;\n  },\n  resample: function resample(options) {\n    options = this._getResampleOptions(options);\n    options.waveformData = this;\n    var resampler = new WaveformResampler(options);\n    while (!resampler.next()) {\n      // nothing\n    }\n    return new WaveformData(resampler.getOutputData());\n  },\n  /**\n   * Concatenates with one or more other waveforms, returning a new WaveformData object.\n   */\n\n  concat: function concat() {\n    var self = this;\n    var otherWaveforms = Array.prototype.slice.call(arguments);\n\n    // Check that all the supplied waveforms are compatible\n    otherWaveforms.forEach(function (otherWaveform) {\n      if (self.channels !== otherWaveform.channels || self.sample_rate !== otherWaveform.sample_rate || self.bits !== otherWaveform.bits || self.scale !== otherWaveform.scale) {\n        throw new Error('WaveformData.concat(): Waveforms are incompatible');\n      }\n    });\n    var combinedBuffer = this._concatBuffers.apply(this, otherWaveforms);\n    return WaveformData.create(combinedBuffer);\n  },\n  /**\n   * Returns a new ArrayBuffer with the concatenated waveform.\n   * All waveforms must have identical metadata (version, channels, etc)\n   */\n\n  _concatBuffers: function _concatBuffers() {\n    var otherWaveforms = Array.prototype.slice.call(arguments);\n    var headerSize = this._offset;\n    var totalSize = headerSize;\n    var totalDataLength = 0;\n    var bufferCollection = [this].concat(otherWaveforms).map(function (w) {\n      return w._data.buffer;\n    });\n    for (var i = 0; i < bufferCollection.length; i++) {\n      var buffer = bufferCollection[i];\n      var dataSize = new DataView(buffer).getInt32(16, true);\n      totalSize += buffer.byteLength - headerSize;\n      totalDataLength += dataSize;\n    }\n    var totalBuffer = new ArrayBuffer(totalSize);\n    var sourceHeader = new DataView(bufferCollection[0]);\n    var totalBufferView = new DataView(totalBuffer);\n\n    // Copy the header from the first chunk\n    for (var _i4 = 0; _i4 < headerSize; _i4++) {\n      totalBufferView.setUint8(_i4, sourceHeader.getUint8(_i4));\n    }\n\n    // Rewrite the data-length header item to reflect all of the samples concatenated together\n    totalBufferView.setInt32(16, totalDataLength, true);\n    var offset = 0;\n    var dataOfTotalBuffer = new Uint8Array(totalBuffer, headerSize);\n    for (var _i5 = 0; _i5 < bufferCollection.length; _i5++) {\n      var _buffer = bufferCollection[_i5];\n      dataOfTotalBuffer.set(new Uint8Array(_buffer, headerSize), offset);\n      offset += _buffer.byteLength - headerSize;\n    }\n    return totalBuffer;\n  },\n  slice: function slice(options) {\n    var startIndex = 0;\n    var endIndex = 0;\n    if (!isNullOrUndefined(options.startIndex) && !isNullOrUndefined(options.endIndex)) {\n      startIndex = options.startIndex;\n      endIndex = options.endIndex;\n    } else if (!isNullOrUndefined(options.startTime) && !isNullOrUndefined(options.endTime)) {\n      startIndex = this.at_time(options.startTime);\n      endIndex = this.at_time(options.endTime);\n    }\n    if (startIndex < 0) {\n      throw new RangeError('startIndex or startTime must not be negative');\n    }\n    if (endIndex < 0) {\n      throw new RangeError('endIndex or endTime must not be negative');\n    }\n    if (startIndex > this.length) {\n      startIndex = this.length;\n    }\n    if (endIndex > this.length) {\n      endIndex = this.length;\n    }\n    if (startIndex > endIndex) {\n      startIndex = endIndex;\n    }\n    var length = endIndex - startIndex;\n    var header_size = 24; // Version 2\n    var bytes_per_sample = this.bits === 8 ? 1 : 2;\n    var total_size = header_size + length * 2 * this.channels * bytes_per_sample;\n    var output_data = new ArrayBuffer(total_size);\n    var output_dataview = new DataView(output_data);\n    output_dataview.setInt32(0, 2, true); // Version\n    output_dataview.setUint32(4, this.bits === 8, true); // Is 8 bit?\n    output_dataview.setInt32(8, this.sample_rate, true);\n    output_dataview.setInt32(12, this.scale, true);\n    output_dataview.setInt32(16, length, true);\n    output_dataview.setInt32(20, this.channels, true);\n    for (var i = 0; i < length * this.channels * 2; i++) {\n      var sample = this._at(startIndex * this.channels * 2 + i);\n      if (this.bits === 8) {\n        output_dataview.setInt8(header_size + i, sample);\n      } else {\n        output_dataview.setInt16(header_size + i * 2, sample, true);\n      }\n    }\n    return new WaveformData(output_data);\n  },\n  /**\n   * Returns the data format version number.\n   */\n\n  _version: function _version() {\n    return this._data.getInt32(0, true);\n  },\n  /**\n   * Returns the length of the waveform, in pixels.\n   */\n\n  get length() {\n    return this._data.getUint32(16, true);\n  },\n  /**\n   * Returns the number of bits per sample, either 8 or 16.\n   */\n\n  get bits() {\n    var bits = Boolean(this._data.getUint32(4, true));\n    return bits ? 8 : 16;\n  },\n  /**\n   * Returns the (approximate) duration of the audio file, in seconds.\n   */\n\n  get duration() {\n    return this.length * this.scale / this.sample_rate;\n  },\n  /**\n   * Returns the number of pixels per second.\n   */\n\n  get pixels_per_second() {\n    return this.sample_rate / this.scale;\n  },\n  /**\n   * Returns the amount of time represented by a single pixel, in seconds.\n   */\n\n  get seconds_per_pixel() {\n    return this.scale / this.sample_rate;\n  },\n  /**\n   * Returns the number of waveform channels.\n   */\n\n  get channels() {\n    if (this._version() === 2) {\n      return this._data.getInt32(20, true);\n    } else {\n      return 1;\n    }\n  },\n  /**\n   * Returns a waveform channel.\n   */\n\n  channel: function channel(index) {\n    if (index >= 0 && index < this._channels.length) {\n      return this._channels[index];\n    } else {\n      throw new RangeError('Invalid channel: ' + index);\n    }\n  },\n  /**\n   * Returns the number of audio samples per second.\n   */\n\n  get sample_rate() {\n    return this._data.getInt32(8, true);\n  },\n  /**\n   * Returns the number of audio samples per pixel.\n   */\n\n  get scale() {\n    return this._data.getInt32(12, true);\n  },\n  /**\n   * Returns a waveform data value at a specific offset.\n   */\n\n  _at: function at_sample(index) {\n    if (this.bits === 8) {\n      return this._data.getInt8(this._offset + index);\n    } else {\n      return this._data.getInt16(this._offset + index * 2, true);\n    }\n  },\n  /**\n   * Sets a waveform data value at a specific offset.\n   */\n\n  _set_at: function set_at(index, sample) {\n    if (this.bits === 8) {\n      return this._data.setInt8(this._offset + index, sample);\n    } else {\n      return this._data.setInt16(this._offset + index * 2, sample, true);\n    }\n  },\n  /**\n   * Returns the waveform data index position for a given time.\n   */\n\n  at_time: function at_time(time) {\n    return Math.floor(time * this.sample_rate / this.scale);\n  },\n  /**\n   * Returns the time in seconds for a given index.\n   */\n\n  time: function time(index) {\n    return index * this.scale / this.sample_rate;\n  },\n  /**\n   * Returns an object containing the waveform data.\n   */\n\n  toJSON: function toJSON() {\n    var waveform = {\n      version: 2,\n      channels: this.channels,\n      sample_rate: this.sample_rate,\n      samples_per_pixel: this.scale,\n      bits: this.bits,\n      length: this.length,\n      data: []\n    };\n    for (var i = 0; i < this.length; i++) {\n      for (var channel = 0; channel < this.channels; channel++) {\n        waveform.data.push(this.channel(channel).min_sample(i));\n        waveform.data.push(this.channel(channel).max_sample(i));\n      }\n    }\n    return waveform;\n  },\n  /**\n   * Returns the waveform data in binary format as an ArrayBuffer.\n   */\n\n  toArrayBuffer: function toArrayBuffer() {\n    return this._data.buffer;\n  }\n};\n\nexport { WaveformData as default };\n","/**\n * @file\n *\n * Defines the {@link WaveformBuilder} class.\n *\n * @module waveform-builder\n */\n\nimport { isArrayBuffer, isObject } from './utils';\nimport WaveformData from 'waveform-data';\n\nconst isXhr2 = ('withCredentials' in new XMLHttpRequest());\n\n/**\n * Creates and returns a WaveformData object, either by requesting the\n * waveform data from the server, or by creating the waveform data using the\n * Web Audio API.\n *\n * @class\n * @alias WaveformBuilder\n *\n * @param {Peaks} peaks\n */\n\nfunction WaveformBuilder(peaks) {\n  this._peaks = peaks;\n}\n\n/**\n * Options for requesting remote waveform data.\n *\n * @typedef {Object} RemoteWaveformDataOptions\n * @global\n * @property {String=} arraybuffer\n * @property {String=} json\n */\n\n/**\n * Options for supplying local waveform data.\n *\n * @typedef {Object} LocalWaveformDataOptions\n * @global\n * @property {ArrayBuffer=} arraybuffer\n * @property {Object=} json\n */\n\n/**\n * Options for the Web Audio waveform builder.\n *\n * @typedef {Object} WaveformBuilderWebAudioOptions\n * @global\n * @property {AudioContext} audioContext\n * @property {AudioBuffer=} audioBuffer\n * @property {Number=} scale\n * @property {Boolean=} multiChannel\n */\n\n/**\n * Options for [WaveformBuilder.init]{@link WaveformBuilder#init}.\n *\n * @typedef {Object} WaveformBuilderInitOptions\n * @global\n * @property {RemoteWaveformDataOptions=} dataUri\n * @property {LocalWaveformDataOptions=} waveformData\n * @property {WaveformBuilderWebAudioOptions=} webAudio\n * @property {Boolean=} withCredentials\n * @property {Array<Number>=} zoomLevels\n */\n\n/**\n * Callback for receiving the waveform data.\n *\n * @callback WaveformBuilderInitCallback\n * @global\n * @param {Error} error\n * @param {WaveformData} waveformData\n */\n\n/**\n * Loads or creates the waveform data.\n *\n * @private\n * @param {WaveformBuilderInitOptions} options\n * @param {WaveformBuilderInitCallback} callback\n */\n\nWaveformBuilder.prototype.init = function(options, callback) {\n  if ((options.dataUri && (options.webAudio || options.audioContext)) ||\n      (options.waveformData && (options.webAudio || options.audioContext)) ||\n      (options.dataUri && options.waveformData)) {\n    // eslint-disable-next-line @stylistic/js/max-len\n    callback(new TypeError('Peaks.init(): You may only pass one source (webAudio, dataUri, or waveformData) to render waveform data.'));\n    return;\n  }\n\n  if (options.audioContext) {\n    // eslint-disable-next-line @stylistic/js/max-len\n    this._peaks._logger('Peaks.init(): The audioContext option is deprecated, please pass a webAudio object instead');\n\n    options.webAudio = {\n      audioContext: options.audioContext\n    };\n  }\n\n  if (options.dataUri) {\n    return this._getRemoteWaveformData(options, callback);\n  }\n  else if (options.waveformData) {\n    return this._buildWaveformFromLocalData(options, callback);\n  }\n  else if (options.webAudio) {\n    if (options.webAudio.audioBuffer) {\n      return this._buildWaveformDataFromAudioBuffer(options, callback);\n    }\n    else {\n      return this._buildWaveformDataUsingWebAudio(options, callback);\n    }\n  }\n  else {\n    // eslint-disable-next-line @stylistic/js/max-len\n    callback(new Error('Peaks.init(): You must pass an audioContext, or dataUri, or waveformData to render waveform data'));\n  }\n};\n\nfunction hasValidContentRangeHeader(xhr) {\n  const contentRange = xhr.getResponseHeader('content-range');\n\n  if (!contentRange) {\n    return false;\n  }\n\n  const matches = contentRange.match(/^bytes (\\d+)-(\\d+)\\/(\\d+)$/);\n\n  if (matches && matches.length === 4) {\n    const firstPos = parseInt(matches[1], 10);\n    const lastPos = parseInt(matches[2], 10);\n    const length = parseInt(matches[3], 10);\n\n    if (firstPos === 0 && (lastPos + 1) === length) {\n      return true;\n    }\n\n    return false;\n  }\n\n  return false;\n}\n\n/* eslint-disable @stylistic/js/max-len */\n\n/**\n * Fetches waveform data, based on the given options.\n *\n * @private\n * @param {Object} options\n * @param {String|Object} options.dataUri\n * @param {String} options.dataUri.arraybuffer Waveform data URL\n *   (binary format)\n * @param {String} options.dataUri.json Waveform data URL (JSON format)\n * @param {String} options.defaultUriFormat Either 'arraybuffer' (for binary\n *   data) or 'json'\n * @param {WaveformBuilderInitCallback} callback\n *\n * @see Refer to the <a href=\"https://codeberg.org/chrisn/audiowaveform/src/branch/master/doc/DataFormat.md\">data format documentation</a>\n *   for details of the binary and JSON waveform data formats.\n */\n\n/* eslint-enable @stylistic/js/max-len */\n\nWaveformBuilder.prototype._getRemoteWaveformData = function(options, callback) {\n  const self = this;\n\n  let dataUri = null;\n  let requestType = null;\n  let url;\n\n  if (isObject(options.dataUri)) {\n    dataUri = options.dataUri;\n  }\n  else {\n    callback(new TypeError('Peaks.init(): The dataUri option must be an object'));\n    return;\n  }\n\n  ['ArrayBuffer', 'JSON'].some(function(connector) {\n    if (window[connector]) {\n      requestType = connector.toLowerCase();\n      url = dataUri[requestType];\n\n      return Boolean(url);\n    }\n  });\n\n  if (!url) {\n    // eslint-disable-next-line @stylistic/js/max-len\n    callback(new Error('Peaks.init(): Unable to determine a compatible dataUri format for this browser'));\n    return;\n  }\n\n  self._xhr = self._createXHR(url, requestType, options.withCredentials, function(event) {\n    if (this.readyState !== 4) {\n      return;\n    }\n\n    // See https://codeberg.org/chrisn/peaks.js/issues/491\n\n    if (this.status !== 200 &&\n        !(this.status === 206 && hasValidContentRangeHeader(this))) {\n      callback(\n        new Error('Unable to fetch remote data. HTTP status ' + this.status)\n      );\n\n      return;\n    }\n\n    self._xhr = null;\n\n    const waveformData = WaveformData.create(event.target.response);\n\n    if (waveformData.channels !== 1 && waveformData.channels !== 2) {\n      callback(new Error('Peaks.init(): Only mono or stereo waveforms are currently supported'));\n      return;\n    }\n    else if (waveformData.bits !== 8) {\n      callback(new Error('Peaks.init(): 16-bit waveform data is not supported'));\n      return;\n    }\n\n    callback(undefined, waveformData);\n  },\n  function() {\n    callback(new Error('XHR failed'));\n  },\n  function() {\n    callback(new Error('XHR aborted'));\n  });\n\n  self._xhr.send();\n};\n\n/* eslint-disable @stylistic/js/max-len */\n\n/**\n * Creates a waveform from given data, based on the given options.\n *\n * @private\n * @param {Object} options\n * @param {Object} options.waveformData\n * @param {ArrayBuffer} options.waveformData.arraybuffer Waveform data (binary format)\n * @param {Object} options.waveformData.json Waveform data (JSON format)\n * @param {WaveformBuilderInitCallback} callback\n *\n * @see Refer to the <a href=\"https://codeberg.org/chrisn/audiowaveform/src/branch/master/doc/DataFormat.md\">data format documentation</a>\n *   for details of the binary and JSON waveform data formats.\n */\n\n/* eslint-enable @stylistic/js/max-len */\n\nWaveformBuilder.prototype._buildWaveformFromLocalData = function(options, callback) {\n  let waveformData = null;\n  let data = null;\n\n  if (isObject(options.waveformData)) {\n    waveformData = options.waveformData;\n  }\n  else {\n    callback(new Error('Peaks.init(): The waveformData option must be an object'));\n    return;\n  }\n\n  if (isObject(waveformData.json)) {\n    data = waveformData.json;\n  }\n  else if (isArrayBuffer(waveformData.arraybuffer)) {\n    data = waveformData.arraybuffer;\n  }\n\n  if (!data) {\n    callback(new Error('Peaks.init(): Unable to determine a compatible waveformData format'));\n    return;\n  }\n\n  try {\n    const createdWaveformData = WaveformData.create(data);\n\n    if (createdWaveformData.channels !== 1 && createdWaveformData.channels !== 2) {\n      callback(new Error('Peaks.init(): Only mono or stereo waveforms are currently supported'));\n      return;\n    }\n    else if (createdWaveformData.bits !== 8) {\n      callback(new Error('Peaks.init(): 16-bit waveform data is not supported'));\n      return;\n    }\n\n    callback(undefined, createdWaveformData);\n  }\n  catch (err) {\n    callback(err);\n  }\n};\n\n/**\n * Creates waveform data using the Web Audio API.\n *\n * @private\n * @param {Object} options\n * @param {AudioContext} options.audioContext\n * @param {HTMLMediaElement} options.mediaElement\n * @param {WaveformBuilderInitCallback} callback\n */\n\nWaveformBuilder.prototype._buildWaveformDataUsingWebAudio = function(options, callback) {\n  const self = this;\n\n  const audioContext = window.AudioContext || window.webkitAudioContext;\n\n  if (!(options.webAudio.audioContext instanceof audioContext)) {\n    // eslint-disable-next-line @stylistic/js/max-len\n    callback(new TypeError('Peaks.init(): The webAudio.audioContext option must be a valid AudioContext'));\n    return;\n  }\n\n  const webAudioOptions = options.webAudio;\n\n  if (webAudioOptions.scale !== options.zoomLevels[0]) {\n    webAudioOptions.scale = options.zoomLevels[0];\n  }\n\n  // If the media element has already selected which source to play, its\n  // currentSrc attribute will contain the source media URL. Otherwise,\n  // we wait for a canplay event to tell us when the media is ready.\n\n  const mediaSourceUrl = self._peaks.options.mediaElement.currentSrc;\n\n  if (mediaSourceUrl) {\n    self._requestAudioAndBuildWaveformData(\n      mediaSourceUrl,\n      webAudioOptions,\n      options.withCredentials,\n      callback\n    );\n  }\n  else {\n    self._peaks.once('player.canplay', function() {\n      self._requestAudioAndBuildWaveformData(\n        self._peaks.options.mediaElement.currentSrc,\n        webAudioOptions,\n        options.withCredentials,\n        callback\n      );\n    });\n  }\n};\n\nWaveformBuilder.prototype._buildWaveformDataFromAudioBuffer = function(options, callback) {\n  const webAudioOptions = options.webAudio;\n\n  if (webAudioOptions.scale !== options.zoomLevels[0]) {\n    webAudioOptions.scale = options.zoomLevels[0];\n  }\n\n  const webAudioBuilderOptions = {\n    audio_buffer: webAudioOptions.audioBuffer,\n    split_channels: webAudioOptions.multiChannel,\n    scale: webAudioOptions.scale,\n    disable_worker: true\n  };\n\n  WaveformData.createFromAudio(webAudioBuilderOptions, callback);\n};\n\n/**\n * Fetches the audio content, based on the given options, and creates waveform\n * data using the Web Audio API.\n *\n * @private\n * @param {url} The media source URL\n * @param {WaveformBuilderWebAudioOptions} webAudio\n * @param {Boolean} withCredentials\n * @param {WaveformBuilderInitCallback} callback\n */\n\nWaveformBuilder.prototype._requestAudioAndBuildWaveformData = function(url,\n    webAudio, withCredentials, callback) {\n  const self = this;\n\n  if (!url) {\n    self._peaks._logger('Peaks.init(): The mediaElement src is invalid');\n    return;\n  }\n\n  self._xhr = self._createXHR(url, 'arraybuffer', withCredentials, function(event) {\n    if (this.readyState !== 4) {\n      return;\n    }\n\n    // See https://codeberg.org/chrisn/peaks.js/issues/491\n\n    if (this.status !== 200 &&\n        !(this.status === 206 && hasValidContentRangeHeader(this))) {\n      callback(\n        new Error('Unable to fetch remote data. HTTP status ' + this.status)\n      );\n\n      return;\n    }\n\n    self._xhr = null;\n\n    const webAudioBuilderOptions = {\n      audio_context: webAudio.audioContext,\n      array_buffer: event.target.response,\n      split_channels: webAudio.multiChannel,\n      scale: webAudio.scale\n    };\n\n    WaveformData.createFromAudio(webAudioBuilderOptions, callback);\n  },\n  function() {\n    callback(new Error('XHR failed'));\n  },\n  function() {\n    callback(new Error('XHR aborted'));\n  });\n\n  self._xhr.send();\n};\n\nWaveformBuilder.prototype.abort = function() {\n  if (this._xhr) {\n    this._xhr.abort();\n  }\n};\n\n/**\n * @private\n * @param {String} url\n * @param {String} requestType\n * @param {Boolean} withCredentials\n * @param {Function} onLoad\n * @param {Function} onError\n *\n * @returns {XMLHttpRequest}\n */\n\nWaveformBuilder.prototype._createXHR = function(url, requestType,\n    withCredentials, onLoad, onError, onAbort) {\n  const xhr = new XMLHttpRequest();\n\n  // open an XHR request to the data source file\n  xhr.open('GET', url, true);\n\n  if (isXhr2) {\n    try {\n      xhr.responseType = requestType;\n    }\n    catch (error) { // eslint-disable-line no-unused-vars\n      // Some browsers like Safari 6 do handle XHR2 but not the json\n      // response type, doing only a try/catch fails in IE9\n    }\n  }\n\n  xhr.onload = onLoad;\n  xhr.onerror = onError;\n\n  if (isXhr2 && withCredentials) {\n    xhr.withCredentials = true;\n  }\n\n  xhr.addEventListener('abort', onAbort);\n\n  return xhr;\n};\n\nexport default WaveformBuilder;\n","/**\n * @file\n *\n * Defines the {@link Peaks} class.\n *\n * @module main\n */\n\nimport EventEmitter from 'eventemitter3';\nimport CueEmitter from './cue-emitter';\nimport WaveformPoints from './waveform-points';\nimport WaveformSegments from './waveform-segments';\nimport KeyboardHandler from './keyboard-handler';\nimport MediaElementPlayer from './mediaelement-player';\nimport Player from './player';\nimport { createPointMarker, createSegmentMarker, createSegmentLabel } from './marker-factories';\nimport ViewController from './view-controller';\nimport ZoomController from './zoom-controller';\nimport WaveformBuilder from './waveform-builder';\nimport {\n  isHTMLElement, isFunction, isInAscendingOrder, isObject,\n  objectHasProperty,\n  extend\n} from './utils';\n\n/**\n * Initialises a new Peaks instance with default option settings.\n *\n * @class\n * @alias Peaks\n *\n * @param {Object} opts Configuration options\n */\n\nfunction Peaks() {\n  EventEmitter.call(this);\n\n  // Set default options\n  this.options = {\n    zoomLevels:          [512, 1024, 2048, 4096],\n    waveformCache:       true,\n\n    mediaElement:        null,\n    mediaUrl:            null,\n\n    dataUri:             null,\n    withCredentials:     false,\n\n    waveformData:        null,\n    webAudio:            null,\n\n    nudgeIncrement:      1.0,\n\n    pointMarkerColor:    '#39cccc',\n\n    createSegmentMarker: createSegmentMarker,\n    createSegmentLabel:  createSegmentLabel,\n    createPointMarker:   createPointMarker,\n\n    // eslint-disable-next-line no-console\n    logger:              console.error.bind(console)\n  };\n\n  return this;\n}\n\nPeaks.prototype = Object.create(EventEmitter.prototype);\n\nconst defaultViewOptions = {\n  playheadColor:           '#111111',\n  playheadTextColor:       '#aaaaaa',\n  playheadBackgroundColor: 'transparent',\n  playheadPadding:         2,\n  playheadWidth:           1,\n  axisGridlineColor:       '#cccccc',\n  showAxisLabels:          true,\n  axisTopMarkerHeight:     10,\n  axisBottomMarkerHeight:  10,\n  axisLabelColor:          '#aaaaaa',\n  fontFamily:              'sans-serif',\n  fontSize:                11,\n  fontStyle:               'normal',\n  timeLabelPrecision:      2,\n  enablePoints:            true,\n  enableSegments:          true\n};\n\nconst defaultZoomviewOptions = {\n  // showPlayheadTime:    true,\n  playheadClickTolerance: 3,\n  waveformColor:          'rgba(0, 225, 128, 1)',\n  wheelMode:              'none',\n  autoScroll:             true,\n  autoScrollOffset:       100,\n  enableEditing:          true\n};\n\nconst defaultOverviewOptions = {\n  // showPlayheadTime:    false,\n  waveformColor:          'rgba(0, 0, 0, 0.2)',\n  highlightColor:         '#aaaaaa',\n  highlightStrokeColor:   'transparent',\n  highlightOpacity:       0.3,\n  highlightOffset:        11,\n  highlightCornerRadius:  2,\n  enableEditing:          false\n};\n\nconst defaultSegmentOptions = {\n  overlay:                   false,\n  markers:                   true,\n  startMarkerColor:          '#aaaaaa',\n  endMarkerColor:            '#aaaaaa',\n  waveformColor:             '#0074d9',\n  overlayColor:              '#ff0000',\n  overlayOpacity:            0.3,\n  overlayBorderColor:        '#ff0000',\n  overlayBorderWidth:        2,\n  overlayCornerRadius:       5,\n  overlayOffset:             25,\n  overlayLabelAlign:         'left',\n  overlayLabelVerticalAlign: 'top',\n  overlayLabelPadding:       8,\n  overlayLabelColor:         '#000000',\n  overlayFontFamily:         'sans-serif',\n  overlayFontSize:           12,\n  overlayFontStyle:          'normal'\n};\n\nconst defaultScrollbarOptions = {\n  color: '#888888',\n  minWidth: 50\n};\n\nfunction getOverviewOptions(opts) {\n  const overviewOptions = {};\n\n  if (opts.overview && opts.overview.showPlayheadTime) {\n    overviewOptions.showPlayheadTime = opts.overview.showPlayheadTime;\n  }\n\n  const optNames = [\n    'container',\n    'waveformColor',\n    'playedWaveformColor',\n    'playheadColor',\n    'playheadTextColor',\n    'playheadBackgroundColor',\n    'playheadPadding',\n    'playheadWidth',\n    'formatPlayheadTime',\n    'timeLabelPrecision',\n    'axisGridlineColor',\n    'showAxisLabels',\n    'axisTopMarkerHeight',\n    'axisBottomMarkerHeight',\n    'axisLabelColor',\n    'formatAxisTime',\n    'fontFamily',\n    'fontSize',\n    'fontStyle',\n    'highlightColor',\n    'highlightStrokeColor',\n    'highlightOpacity',\n    'highlightCornerRadius',\n    'highlightOffset',\n    'enablePoints',\n    'enableSegments',\n    'enableEditing'\n  ];\n\n  optNames.forEach(function(optName) {\n    if (opts.overview && objectHasProperty(opts.overview, optName)) {\n      overviewOptions[optName] = opts.overview[optName];\n    }\n    else if (objectHasProperty(opts, optName)) {\n      overviewOptions[optName] = opts[optName];\n    }\n    else if (!objectHasProperty(overviewOptions, optName)) {\n      if (objectHasProperty(defaultOverviewOptions, optName)) {\n        overviewOptions[optName] = defaultOverviewOptions[optName];\n      }\n      else if (objectHasProperty(defaultViewOptions, optName)) {\n        overviewOptions[optName] = defaultViewOptions[optName];\n      }\n    }\n  });\n\n  return overviewOptions;\n}\n\nfunction getZoomviewOptions(opts) {\n  const zoomviewOptions = {};\n\n  if (opts.showPlayheadTime) {\n    zoomviewOptions.showPlayheadTime = opts.showPlayheadTime;\n  }\n  else if (opts.zoomview && opts.zoomview.showPlayheadTime) {\n    zoomviewOptions.showPlayheadTime = opts.zoomview.showPlayheadTime;\n  }\n\n  const optNames = [\n    'container',\n    'waveformColor',\n    'playedWaveformColor',\n    'playheadColor',\n    'playheadTextColor',\n    'playheadBackgroundColor',\n    'playheadPadding',\n    'playheadWidth',\n    'formatPlayheadTime',\n    'playheadClickTolerance',\n    'timeLabelPrecision',\n    'axisGridlineColor',\n    'showAxisLabels',\n    'axisTopMarkerHeight',\n    'axisBottomMarkerHeight',\n    'axisLabelColor',\n    'formatAxisTime',\n    'fontFamily',\n    'fontSize',\n    'fontStyle',\n    'wheelMode',\n    'autoScroll',\n    'autoScrollOffset',\n    'enablePoints',\n    'enableSegments',\n    'enableEditing'\n  ];\n\n  optNames.forEach(function(optName) {\n    if (opts.zoomview && objectHasProperty(opts.zoomview, optName)) {\n      zoomviewOptions[optName] = opts.zoomview[optName];\n    }\n    else if (objectHasProperty(opts, optName)) {\n      zoomviewOptions[optName] = opts[optName];\n    }\n    else if (!objectHasProperty(zoomviewOptions, optName)) {\n      if (objectHasProperty(defaultZoomviewOptions, optName)) {\n        zoomviewOptions[optName] = defaultZoomviewOptions[optName];\n      }\n      else if (objectHasProperty(defaultViewOptions, optName)) {\n        zoomviewOptions[optName] = defaultViewOptions[optName];\n      }\n    }\n  });\n\n  return zoomviewOptions;\n}\n\nfunction getScrollbarOptions(opts) {\n  if (!objectHasProperty(opts, 'scrollbar')) {\n    return null;\n  }\n\n  const scrollbarOptions = {};\n\n  const optNames = [\n    'container',\n    'color',\n    'minWidth'\n  ];\n\n  optNames.forEach(function(optName) {\n    if (objectHasProperty(opts.scrollbar, optName)) {\n      scrollbarOptions[optName] = opts.scrollbar[optName];\n    }\n    else {\n      scrollbarOptions[optName] = defaultScrollbarOptions[optName];\n    }\n  });\n\n  return scrollbarOptions;\n}\n\nfunction extendOptions(to, from) {\n  for (const key in from) {\n    if (objectHasProperty(from, key) &&\n        objectHasProperty(to, key)) {\n      to[key] = from[key];\n    }\n  }\n\n  return to;\n}\n\nfunction addSegmentOptions(options, opts) {\n  options.segmentOptions = {};\n\n  extend(options.segmentOptions, defaultSegmentOptions);\n\n  if (opts.segmentOptions) {\n    extendOptions(options.segmentOptions, opts.segmentOptions);\n  }\n\n  options.zoomview.segmentOptions = {};\n  extend(options.zoomview.segmentOptions, options.segmentOptions);\n\n  if (opts.zoomview && opts.zoomview.segmentOptions) {\n    extendOptions(options.zoomview.segmentOptions, opts.zoomview.segmentOptions);\n  }\n\n  options.overview.segmentOptions = {};\n  extend(options.overview.segmentOptions, options.segmentOptions);\n\n  if (opts.overview && opts.overview.segmentOptions) {\n    extendOptions(options.overview.segmentOptions, opts.overview.segmentOptions);\n  }\n}\n\nfunction checkContainerElements(options) {\n  const zoomviewContainer = options.zoomview.container;\n  const overviewContainer = options.overview.container;\n\n  if (!isHTMLElement(zoomviewContainer) &&\n      !isHTMLElement(overviewContainer)) {\n    // eslint-disable-next-line @stylistic/js/max-len\n    return new TypeError('Peaks.init(): The zoomview and/or overview container options must be valid HTML elements');\n  }\n\n  if (zoomviewContainer &&\n      (zoomviewContainer.clientWidth  <= 0 ||\n       zoomviewContainer.clientHeight <= 0)) {\n    // eslint-disable-next-line @stylistic/js/max-len\n    return new Error('Peaks.init(): The zoomview container must be visible and have non-zero width and height');\n  }\n\n  if (overviewContainer &&\n      (overviewContainer.clientWidth  <= 0 ||\n       overviewContainer.clientHeight <= 0)) {\n    // eslint-disable-next-line @stylistic/js/max-len\n    return new Error('Peaks.init(): The overview container must be visible and have non-zero width and height');\n  }\n}\n\n/**\n * Creates and initialises a new Peaks instance with the given options.\n *\n * @param {Object} opts Configuration options\n * @param {Function} callback\n *\n * @return {Peaks}\n */\n\nPeaks.init = function(opts, callback) {\n  if (!callback) {\n    throw new Error('Peaks.init(): Missing callback function');\n  }\n\n  const instance = new Peaks();\n\n  let err = instance._setOptions(opts);\n\n  if (!err) {\n    err = checkContainerElements(instance.options);\n  }\n\n  if (err) {\n    callback(err);\n    return;\n  }\n\n  let scrollbarContainer = null;\n\n  if (instance.options.scrollbar) {\n    scrollbarContainer = instance.options.scrollbar.container;\n\n    if (!isHTMLElement(scrollbarContainer)) {\n    // eslint-disable-next-line @stylistic/js/max-len\n      callback(new TypeError('Peaks.init(): The scrollbar container option must be a valid HTML element'));\n      return;\n    }\n\n    if (scrollbarContainer.clientWidth <= 0) {\n    // eslint-disable-next-line @stylistic/js/max-len\n      callback(new TypeError('Peaks.init(): The scrollbar container must be visible and have non-zero width'));\n      return;\n    }\n  }\n\n  if (opts.keyboard) {\n    instance._keyboardHandler = new KeyboardHandler(instance);\n  }\n\n  const player = opts.player ?\n    opts.player :\n    new MediaElementPlayer(instance.options.mediaElement);\n\n  instance.player = new Player(instance, player);\n  instance.segments = new WaveformSegments(instance);\n  instance.points = new WaveformPoints(instance);\n  instance.zoom = new ZoomController(instance, instance.options.zoomLevels);\n  instance.views = new ViewController(instance);\n\n  // Setup the UI components\n  instance._waveformBuilder = new WaveformBuilder(instance);\n\n  instance.player.init(instance)\n    .then(function() {\n      instance._waveformBuilder.init(instance.options, function(err, waveformData) {\n        if (err) {\n          callback(err);\n          return;\n        }\n\n        err = checkContainerElements(instance.options);\n\n        if (err) {\n          callback(err);\n          return;\n        }\n\n        instance._waveformBuilder = null;\n        instance._waveformData = waveformData;\n\n        const zoomviewContainer = instance.options.zoomview.container;\n        const overviewContainer = instance.options.overview.container;\n\n        if (zoomviewContainer) {\n          instance.views.createZoomview(zoomviewContainer);\n        }\n\n        if (overviewContainer) {\n          instance.views.createOverview(overviewContainer);\n        }\n\n        if (scrollbarContainer) {\n          instance.views.createScrollbar(scrollbarContainer);\n        }\n\n        if (opts.segments) {\n          instance.segments.add(opts.segments);\n        }\n\n        if (opts.points) {\n          instance.points.add(opts.points);\n        }\n\n        if (opts.emitCueEvents) {\n          instance._cueEmitter = new CueEmitter(instance);\n        }\n\n        callback(null, instance);\n      });\n    })\n    .catch(function(err) {\n      callback(err);\n    });\n};\n\nPeaks.prototype._setOptions = function(opts) {\n  if (!isObject(opts)) {\n    return new TypeError('Peaks.init(): The options parameter should be an object');\n  }\n\n  if (!opts.player) {\n    if (!opts.mediaElement) {\n      return new Error('Peaks.init(): Missing mediaElement option');\n    }\n\n    if (!(opts.mediaElement instanceof HTMLMediaElement)) {\n      return new TypeError('Peaks.init(): The mediaElement option should be an HTMLMediaElement');\n    }\n  }\n\n  if (opts.logger && !isFunction(opts.logger)) {\n    return new TypeError('Peaks.init(): The logger option should be a function');\n  }\n\n  if (opts.segments && !Array.isArray(opts.segments)) {\n    return new TypeError('Peaks.init(): options.segments must be an array of segment objects');\n  }\n\n  if (opts.points && !Array.isArray(opts.points)) {\n    return new TypeError('Peaks.init(): options.points must be an array of point objects');\n  }\n\n  extendOptions(this.options, opts);\n\n  this.options.overview = getOverviewOptions(opts);\n  this.options.zoomview = getZoomviewOptions(opts);\n  this.options.scrollbar = getScrollbarOptions(opts);\n\n  addSegmentOptions(this.options, opts);\n\n  if (!Array.isArray(this.options.zoomLevels)) {\n    return new TypeError('Peaks.init(): The zoomLevels option should be an array');\n  }\n  else if (this.options.zoomLevels.length === 0) {\n    return new Error('Peaks.init(): The zoomLevels array must not be empty');\n  }\n  else {\n    if (!isInAscendingOrder(this.options.zoomLevels)) {\n      return new Error('Peaks.init(): The zoomLevels array must be sorted in ascending order');\n    }\n  }\n\n  this._logger = this.options.logger;\n};\n\n/**\n * Remote waveform data options for [Peaks.setSource]{@link Peaks#setSource}.\n *\n * @typedef {Object} RemoteWaveformDataOptions\n * @global\n * @property {String=} arraybuffer\n * @property {String=} json\n */\n\n/**\n * Local waveform data options for [Peaks.setSource]{@link Peaks#setSource}.\n *\n * @typedef {Object} LocalWaveformDataOptions\n * @global\n * @property {ArrayBuffer=} arraybuffer\n * @property {Object=} json\n */\n\n/**\n * Web Audio options for [Peaks.setSource]{@link Peaks#setSource}.\n *\n * @typedef {Object} WebAudioOptions\n * @global\n * @property {AudioContext=} audioContext\n * @property {AudioBuffer=} audioBuffer\n * @property {Number=} scale\n * @property {Boolean=} multiChannel\n */\n\n/**\n * Options for [Peaks.setSource]{@link Peaks#setSource}.\n *\n * @typedef {Object} PeaksSetSourceOptions\n * @global\n * @property {String=} mediaUrl\n * @property {RemoteWaveformDataOptions=} dataUri\n * @property {LocalWaveformDataOptions=} waveformData\n * @property {WebAudioOptions=} webAudio\n * @property {Boolean=} withCredentials\n * @property {Array<Number>=} zoomLevels\n */\n\n/**\n * Changes the audio or video media source associated with the {@link Peaks}\n * instance.\n *\n * @see SetSourceHandler\n *\n * @param {PeaksSetSourceOptions} options\n * @param {Function} callback\n */\n\nPeaks.prototype.setSource = function(options, callback) {\n  const self = this;\n\n  self.player._setSource(options)\n    .then(function() {\n      if (!options.zoomLevels) {\n        options.zoomLevels = self.options.zoomLevels;\n      }\n\n      self._waveformBuilder = new WaveformBuilder(self);\n\n      self._waveformBuilder.init(options, function(err, waveformData) {\n        if (err) {\n          callback(err);\n          return;\n        }\n\n        self._waveformBuilder = null;\n        self._waveformData = waveformData;\n\n        ['overview', 'zoomview'].forEach(function(viewName) {\n          const view = self.views.getView(viewName);\n\n          if (view) {\n            view.setWaveformData(waveformData);\n          }\n        });\n\n        self.zoom.setZoomLevels(options.zoomLevels);\n\n        callback();\n      });\n    })\n    .catch(function(err) {\n      callback(err);\n    });\n};\n\nPeaks.prototype.getWaveformData = function() {\n  return this._waveformData;\n};\n\n/**\n * Cleans up a Peaks instance after use.\n */\n\nPeaks.prototype.destroy = function() {\n  if (this._waveformBuilder) {\n    this._waveformBuilder.abort();\n  }\n\n  if (this._keyboardHandler) {\n    this._keyboardHandler.destroy();\n  }\n\n  if (this.views) {\n    this.views.destroy();\n  }\n\n  if (this.player) {\n    this.player.destroy();\n  }\n\n  if (this._cueEmitter) {\n    this._cueEmitter.destroy();\n  }\n};\n\nexport default Peaks;\n"],"names":["has","Object","prototype","hasOwnProperty","prefix","Events","create","__proto__","EE","fn","context","once","addListener","emitter","event","TypeError","listener","evt","_events","_eventsCount","push","clearEvent","EventEmitter","eventNames","names","events","name","call","slice","getOwnPropertySymbols","concat","listeners","handlers","i","l","length","ee","Array","listenerCount","emit","a1","a2","a3","a4","a5","len","arguments","args","removeListener","undefined","apply","j","on","removeAllListeners","off","prefixed","module","Cue","time","type","id","POINT","SEGMENT_START","SEGMENT_END","sorter","a","b","defineProperty","exports","value","_registerNode","Konva","glob","PI_OVER_180","Math","PI","detectBrowser","window","toString","global","WorkerGlobalScope","self","_global","version","isBrowser","isUnminified","test","param","dblClickWindow","getAngle","angle","angleDeg","enableTrace","pointerEventsEnabled","autoDrawEnabled","hitOnDragEnabled","capturePointerEventsEnabled","_mouseListenClick","_touchListenClick","_pointerListenClick","_mouseInDblClickWindow","_touchInDblClickWindow","_pointerInDblClickWindow","_mouseDblClickPointerId","_touchDblClickPointerId","_pointerDblClickPointerId","_fixTextRendering","pixelRatio","devicePixelRatio","dragDistance","showWarnings","dragButtons","isDragging","isTransforming","_a","isDragReady","node","releaseCanvasOnDestroy","document","_injectGlobal","NodeClass","getClassName","Util","Transform","Global_1","require$$0","m","_classCallCheck","dirty","_createClass","key","reset","copy","copyInto","tr","point","x","y","translate","scale","sx","sy","rotate","rad","c","cos","s","sin","m11","m12","m21","m22","getTranslation","skew","multiply","matrix","dx","dy","invert","d","m0","m1","m2","m3","m4","m5","getMatrix","decompose","e","f","delta","result","rotation","scaleX","scaleY","skewX","skewY","r","sqrt","acos","_getRotation","OBJECT_ARRAY","OBJECT_NUMBER","OBJECT_STRING","OBJECT_BOOLEAN","PI_OVER_DEG180","DEG180_OVER_PI","HASH","EMPTY_STRING","ZERO","KONVA_WARNING","KONVA_ERROR","RGB_PAREN","COLORS","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","transparent","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","RGB_REGEX","animQueue","req","requestAnimationFrame","setTimeout","_isElement","obj","nodeType","_isFunction","constructor","_isPlainObject","_isArray","_isNumber","isNaN","isFinite","_isString","_isBoolean","isObject","val","isValidSelector","selector","firstChar","toUpperCase","_sign","number","requestAnimFrame","callback","queue","forEach","cb","createCanvasElement","canvas","createElement","style","createImageElement","_isInDocument","el","parentNode","_urlToImage","url","imageObj","onload","src","_rgbToHex","g","_hexToRgb","hex","replace","bigint","parseInt","getRandomColor","randColor","random","getRGB","color","rgb","substring","substr","exec","colorToRGBA","str","_namedColorToRBA","_hex3ColorToRGBA","_hex4ColorToRGBA","_hex6ColorToRGBA","_hex8ColorToRGBA","_rgbColorToRGBA","_rgbaColorToRGBA","_hslColorToRGBA","toLowerCase","indexOf","match","parts","split","map","Number","n","index","_exec","_exec2","_toArray","_","hsl","h","t2","t3","round","t1","haveIntersection","r1","r2","width","height","cloneObject","retObj","cloneArray","arr","degToRad","deg","radToDeg","_degToRad","warn","_radToDeg","radians","_capitalize","charAt","throw","Error","error","console","each","func","_inRange","left","right","_getProjectionToSegment","x1","y1","x2","y2","x3","y3","dist","pd2","u","_getProjectionToLine","pt","line","isClosed","pc","MAX_VALUE","p1","p2","proj","px","py","pdist","_prepareArrayForTween","startArray","endArray","start","end","temp","newStart","pr","_prepareToStringify","desc","visitedByCircularReferenceRemoval","_typeof","getOwnPropertyDescriptor","configurable","_assign","target","source","_getFirstPointerId","touches","pointerId","changedTouches","identifier","releaseCanvas","_len","canvases","_key","drawRoundedRectPath","cornerRadius","topLeft","topRight","bottomLeft","bottomRight","min","moveTo","lineTo","arc","Context_1","HitContext","SceneContext","Context","Util_1","require$$1","simplifyArray","retArr","util","COMMA","OPEN_PAREN","CLOSE_PAREN","OPEN_PAREN_BRACKET","CLOSE_BRACKET_PAREN","SEMICOLON","DOUBLE_PAREN","EQUALS","CONTEXT_METHODS","CONTEXT_PROPERTIES","traceArrMax","traceArr","_enableTrace","fillShape","shape","fillEnabled","_fill","strokeShape","hasStroke","_stroke","fillStrokeShape","attrs","fillAfterStrokeEnabled","getTrace","relaxed","rounded","trace","method","join","floor","property","clearTrace","_trace","shift","getCanvas","getPixelRatio","setTransform","clear","bounds","clearRect","getWidth","getHeight","_applyLineCap","lineCap","setAttr","_applyOpacity","absOpacity","getAbsoluteOpacity","_applyLineJoin","lineJoin","attr","_context","radius","startAngle","endAngle","counterClockwise","arcTo","beginPath","bezierCurveTo","cp1x","cp1y","cp2x","cp2y","clip","closePath","createImageData","createLinearGradient","x0","y0","createPattern","image","repetition","createRadialGradient","r0","drawImage","sWidth","sHeight","dWidth","dHeight","ellipse","radiusX","radiusY","counterclockwise","isPointInPath","path","fillRule","fill","_len2","_key2","fillRect","strokeRect","fillText","text","maxWidth","measureText","getImageData","sw","sh","rect","roundRect","radii","putImageData","imageData","quadraticCurveTo","cpx","cpy","restore","save","setLineDash","segments","getLineDash","stroke","path2d","strokeText","transform","that","origSetter","methodName","origMethod","ret","prop","_applyGlobalCompositeOperation","op","globalCompositeOperation","def","get","set","_Context","_this","_ref","_ref$willReadFrequent","willReadFrequently","_callSuper","_canvas","getContext","_inherits","_fillColor","_fillFunc","_fillPattern","_getFillPattern","_fillLinearGradient","grd","_getLinearGradient","_fillRadialGradient","_getRadialGradient","hasColor","fillPriority","getFillPriority","hasPattern","getFillPatternImage","hasLinearGradient","getFillLinearGradientColorStops","hasRadialGradient","getFillRadialGradientColorStops","_strokeLinearGradient","getStrokeLinearGradientStartPoint","getStrokeLinearGradientEndPoint","colorStops","getStrokeLinearGradientColorStops","addColorStop","dash","strokeScaleEnabled","getStrokeScaleEnabled","dashEnabled","dashOffset","strokeWidth","getShadowForStrokeEnabled","_strokeFunc","_applyShadow","_b","_c","getShadowRGBA","blur","getShadowBlur","offset","getShadowOffset","getAbsoluteScale","ratio","abs","_Context2","_this2","colorKey","_fillFuncHit","hasHitStroke","hitStrokeWidth","_strokeFuncHit","Canvas_1","HitCanvas","SceneCanvas","Canvas","require$$2","_pixelRatio","getDevicePixelRatio","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","config","isCache","conf","padding","margin","border","background","position","top","setPixelRatio","previousRatio","setSize","setWidth","setHeight","toDataURL","mimeType","quality","err","message","_Canvas","_Canvas2","hitCanvas","DD","flag","_dragElements","elem","dragStatus","justDragged","Map","_drag","nodesToFireEvents","stage","getStage","setPointersPositions","pos","_changedPointerPositions","find","distance","max","startPointerPos","startDrag","_setDragPosition","fire","_endDragBefore","drawNodes","drawNode","getLayer","draw","_endDragAfter","delete","addEventListener","Validators","RGBComponent","alphaComponent","getNumberValidator","getNumberOrArrayOfNumbersValidator","getNumberOrAutoValidator","getStringValidator","getStringOrGradientValidator","getFunctionValidator","getNumberArrayValidator","getBooleanValidator","getComponentValidator","_formatValue","noOfElements","isNumber","isValidArray","isAuto","isString","isGradient","TypedArray","Int8Array","getPrototypeOf","item","isBool","components","Factory","Validators_1","GET","SET","addGetterSetter","validator","after","addGetter","addSetter","addOverloadedGetterSetter","overWriteSetter","_setAttr","addComponentsGetterSetter","capitalize","getter","setter","component","getAttr","basicValidator","oldVal","_fireChangeEvent","capitalizedAttr","addDeprecatedGetterSetter","backCompat","methods","oldMethodName","newMethodName","oldGetter","oldSetter","deprecated","afterSetFilter","_filterUpToDate","Node_1","Node","DragAndDrop_1","Factory_1","require$$3","require$$4","require$$5","ABSOLUTE_OPACITY","ALL_LISTENERS","ABSOLUTE_TRANSFORM","ABSOLUTE_SCALE","CANVAS","CHANGE","CHILDREN","KONVA","LISTENING","MOUSEENTER","MOUSELEAVE","POINTERENTER","POINTERLEAVE","TOUCHENTER","TOUCHLEAVE","NAME","SHAPE","SPACE","STAGE","TRANSFORM","UPPER_STAGE","VISIBLE","TRANSFORM_CHANGE_STR","idCounter","_id","eventListeners","_allEventListeners","parent","_cache","_attachedDepsListeners","_lastPos","_batchingTransformChange","_needClearTransformCache","_isUnderCache","_dragEventId","_shouldFireChangeEvents","setAttrs","hasChildren","_clearCache","_getCache","privateGetter","cache","isTransform","invalid","_calculate","deps","depsString","dep","_getCanvasCache","_clearSelfAndDescendantCache","clearCache","_this$_cache$get","scene","filter","hit","buffer","_requestDraw","getClientRect","skipTransform","relativeTo","getParent","ceil","drawBorder","hitCanvasPixelRatio","extraPaddingX","extraPaddingY","cachedSceneCanvas","cachedFilterCanvas","cachedHitCanvas","sceneContext","hitContext","bufferCanvas","bufferContext","imageSmoothingEnabled","drawScene","drawHit","isCached","_transformedRect","points","minX","Infinity","minY","maxX","maxY","trans","getAbsoluteTransform","transformed","_drawCachedSceneCanvas","canvasCache","cacheCanvas","_getCachedSceneCanvas","_drawCachedHitCanvas","filters","cachedCanvas","sceneCanvas","filterCanvas","filterContext","evtStr","handler","_delegate","baseEvent","t","_off","dispatchEvent","removeEventListener","stopNode","targets","findAncestors","currentTarget","remove","stopDrag","_remove","_clearCaches","children","splice","_setChildrenIndices","destroy","getAncestors","ancestors","getAttrs","_batchTransformChanges","isListening","_isListening","listening","isVisible","_isVisible","visible","shouldDrawHit","skipDragCheck","layer","layerUnderDrag","dragSkip","show","hide","getZIndex","getAbsoluteZIndex","depth","getDepth","nodes","child","addChildren","getChildren","setPosition","_this3","getPosition","getRelativePointerPosition","getPointerPosition","getAbsolutePosition","haveCachedParent","absoluteMatrix","absoluteTransform","setAbsolutePosition","_this$_clearTransform","_clearTransform","origTrans","_objectWithoutProperties","_excluded","it","_getAbsoluteTransform","_setTransform","offsetX","offsetY","move","change","changeX","changeY","_eachAncestorReverse","family","unshift","theta","moveToTop","moveUp","moveDown","moveToBottom","setZIndex","zIndex","_getAbsoluteOpacity","opacity","newContainer","add","toObject","defaultValue","nonPlainObject","className","toJSON","JSON","stringify","includeSelf","res","_isMatch","ancestor","isAncestorOf","findAncestor","selectorArr","sel","hasName","_getStage","eventType","bubble","_fireAndBubble","_fire","at","transformsEnabled","getTransform","getAbsoluteRotation","_getTransform","clone","allListeners","_toKonvaCanvas","box","toCanvas","toImage","_this4","Promise","resolve","reject","img","toBlob","_this5","blob","size","getSize","getType","getDragDistance","evtListeners","evtName","newVal","addName","oldName","newName","fullName","removeName","batchDraw","_setComponentAttr","compareShape","nonBubbling","shouldStop","stopBubble","cancelBubble","_getProtoListeners","hierarchyEvents","_toConsumableArray","topListeners","selfListeners","_createDragElement","ap","_getPointerById","bubbleEvent","newNodePos","dbf","dragBoundFunc","bounded","setDraggable","draggable","_dragChange","_listenDrag","_dragCleanup","_this6","shouldCheckButton","canDrag","hasDraggingChild","dragElement","isReady","isClientRectOnScreen","screenRect","data","container","parse","_createNode","no","Class","_attrsAffectingSize","rotateDeg","setRotationDeg","getRotationDeg","Container_1","Container","_Node_1$Node","filterFunc","removeChildren","destroyChildren","_validateAdd","_superPropGet","_generalFind","findOne","_descendants","valid","_iterator","_createForOfIteratorHelper","_step","done","getAllIntersections","intersects","can","caching","_drawChildren","drawMethod","clipWidth","clipHeight","clipFunc","hasClip","selfCache","clipArgs","clipX","clipY","hasComposition","selfRect","skipShadow","skipStroke","shapes","hasVisible","PointerEvents","getCapturedShape","createEvent","hasPointerCapture","setPointerCapture","releaseCapture","Captures","SUPPORT_POINTER_EVENTS","PointerEvent","content","Stage","stages","Global_2","require$$6","STRING","PX","MOUSEOUT","MOUSEOVER","MOUSEMOVE","MOUSEDOWN","MOUSEUP","POINTERMOVE","POINTERDOWN","POINTERUP","POINTERCANCEL","LOSTPOINTERCAPTURE","POINTEROUT","POINTEROVER","CONTEXTMENU","TOUCHSTART","TOUCHEND","TOUCHMOVE","TOUCHCANCEL","WHEEL","MAX_LAYERS_NUMBER","EVENTS","EVENTS_MAP","mouse","_defineProperty","touch","pointer","getEventType","getEventsMap","checkNoClip","NO_POINTERS_MESSAGE","_Container_1$Containe","_pointerPositions","_buildDOM","_bindContentEvents","_resizeDOM","_checkVisibility","isLayer","isFastLayer","display","setContainer","getElementsByClassName","getElementById","parentElement","removeChild","appendChild","layers","bufferHitCanvas","p","getPointersPositions","getContent","layerCanvas","getIntersection","rest","getLayers","_ref2","_slicedToArray","passive","_pointerenter","pointerenter","_pointerover","pointerover","_getTargetShape","evenType","_pointerleave","targetShape","eventsEnabled","pointerout","pointerleave","pointerPos","_pointerdown","triggeredOnShape","pointerdown","isTouch","preventDefault","cancelable","_pointermove","processedShapesIds","differentTarget","_objectSpread","pointermove","_pointerup","clickStartShape","clickEndShape","fireDblClick","clearTimeout","pointerup","pointerclick","pointerdblclick","_contextmenu","_wheel","_pointercancel","_lostpointercapture","contentPosition","_getContentPosition","clientX","clientY","_setPointerPosition","getBoundingClientRect","clientWidth","clientHeight","innerHTML","userSelect","setAttribute","Shape","HAS_SHADOW","SHADOW_RGBA","patternImage","linearGradient","radialGradient","dummyContext","getDummyContext","_clearHasShadowCache","_clearGetShadowRGBACache","_clearFillPatternCache","_clearLinearGradientCache","_clearRadialGradientCache","getSceneFunc","sceneFunc","getHitFunc","hitFunc","hasShadow","_hasShadow","shadowEnabled","shadowOpacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","__getFillPattern","fillPatternImage","ctx","pattern","fillPatternRepeat","fillPatternX","fillPatternY","fillPatternRotation","fillPatternScaleX","fillPatternScaleY","fillPatternOffsetX","fillPatternOffsetY","DOMMatrix","__getLinearGradient","fillLinearGradientColorStops","fillLinearGradientStartPoint","fillLinearGradientEndPoint","__getRadialGradient","fillRadialGradientColorStops","fillRadialGradientStartPoint","fillRadialGradientEndPoint","fillRadialGradientStartRadius","fillRadialGradientEndRadius","_getShadowRGBA","rgba","hasFill","strokeEnabled","strokeLinearGradientColorStops","_useBufferCanvas","forceFill","perfectDrawEnabled","isTransparent","strokeForShadow","shadowForStrokeEnabled","setStrokeHitEnabled","getStrokeHitEnabled","getSelfRect","_centroid","hasCachedParent","applyStroke","fillAndStrokeWidth","fillAndStrokeHeight","applyShadow","preWidth","preHeight","blurRadius","drawFunc","cachingSelf","bc","o","drawHitFromCache","alphaThreshold","hitWidth","hitHeight","hitImageData","hitData","rgbColorKey","alpha","dashArray","getDashArray","setDashArray","getDrawFunc","setDrawFunc","drawHitFunc","getDrawHitFunc","setDrawHitFunc","Layer_1","Layer","Shape_1","require$$7","BEFORE_DRAW","DRAW","INTERSECTION_OFFSETS","INTERSECTION_OFFSETS_LEN","_waitingForDraw","_setSmoothEnabled","createPNGStream","getNativeCanvasElement","getHitCanvas","insertBefore","moved","spiralSearchDistance","continueSearch","intersectionOffset","_getIntersection","antialiased","p3","clearBeforeDraw","enableHitGraph","hitGraphEnabled","disableHitGraph","setHitGraphEnabled","getHitGraphEnabled","toggleHitCanvas","added","FastLayer_1","FastLayer","_Layer_1$Layer","Group_1","Group","Animation_1","Animation","now","performance","Date","getTime","animIdCounter","frame","timeDiff","lastTime","frameRate","setLayers","lays","isArray","addLayer","isRunning","animations","stop","_addAnimation","_removeAnimation","_updateFrameObject","anim","_handleAnimation","_runFrames","layerHash","layersLen","needRedraw","_animationLoop","Anim","animRunning","Easings","Tween","blacklist","duration","easing","onFinish","yoyo","PAUSED","PLAYING","REVERSING","colorAttrs","TweenEngine","propFunc","begin","finish","_pos","_change","prevPos","_time","_position","_startTime","_finish","pause","setTime","reverse","play","update","state","getTimer","onEnterFrame","seek","nodeId","Linear","tween","_tweenFunc","_addListeners","tweens","_addAttr","onReset","onUpdate","diff","trueEnd","trueStart","endRGBA","tweenId","closed","startRGBA","onPlay","onReverse","onPause","thisId","keys","to","params","BackEaseIn","BackEaseOut","BackEaseInOut","ElasticEaseIn","asin","pow","ElasticEaseOut","ElasticEaseInOut","BounceEaseOut","BounceEaseIn","BounceEaseInOut","EaseIn","EaseOut","EaseInOut","StrongEaseIn","StrongEaseOut","StrongEaseInOut","Stage_1","require$$8","require$$9","require$$10","Tween_1","require$$11","require$$12","require$$13","default","_CoreInternals_1","enumerable","_CoreInternals_2","zeroPad","precision","formatTime","fractionSeconds","seconds","minutes","hours","roundUpToNearest","multiple","multiplier","roundedUp","clamp","objectHasProperty","object","field","extend","from","isInAscendingOrder","array","isValidTime","isArrayBuffer","includes","isNullOrUndefined","isFunction","isBoolean","isHTMLElement","HTMLElement","isLinearGradientColor","linearGradientStart","linearGradientEnd","linearGradientColorStops","getMarkerObject","isHeadless","navigator","userAgent","windowIsVisible","webdriver","visibilityState","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","msCancelAnimationFrame","eventTypes","forward","EVENT_TYPE_POINT","EVENT_TYPE_SEGMENT_ENTER","EVENT_TYPE_SEGMENT_EXIT","eventAttributes","getPointOrSegment","peaks","cue","getPoint","getSegment","CueEmitter","_cues","_peaks","_previousTime","_updateCues","bind","_onPlaying","_onSeeked","_onTimeUpdate","_onAnimationFrame","_rAFHandle","_activeSegments","_attachEventHandlers","getPoints","getSegments","segment","startTime","endTime","sort","player","getCurrentTime","_updateActiveSegments","_onUpdate","previousTime","isForward","step","marker","isPlaying","isSeeking","getSegmentIdComparator","compareSegmentIds","activeSegments","getSegmentsAtTime","_detachEventHandlers","pointOptions","invalidOptions","setDefaultPointOptions","options","peaksOptions","labelText","editable","pointMarkerColor","validatePointOptions","updating","RangeError","Point","pid","_pid","_setUserData","defineProperties","_labelText","_color","_editable","updatePointId","_setTime","WaveformPoints","_points","_pointsById","_pointsByPid","_pointIdCounter","_pointPid","_getNextPointId","_getNextPid","_addPoint","_createPoint","arrayArgs","newPointId","_findPoint","predicate","indexes","_removeIndexes","removed","itemRemoved","_removePoints","removeById","pointId","removeByTime","removeAll","segmentOptions","setDefaultSegmentOptions","globalSegmentOptions","overlay","overlayColor","waveformColor","borderColor","overlayBorderColor","markers","validateSegmentOptions","Segment","_endTime","_borderColor","_markers","_overlay","updateSegmentId","_setStartTime","_setEndTime","WaveformSegments","_segments","_segmentsById","_segmentsByPid","_segmentIdCounter","_segmentPid","_isInserting","_getNextSegmentId","_addSegment","_createSegment","_getSortedSegments","findPreviousSegment","sortedSegments","findIndex","findNextSegment","insert","newSegmentId","_findSegment","_removeSegments","segmentId","setInserting","isInserting","TAB","LEFT_ARROW","RIGHT_ARROW","KeyboardHandler","eventEmitter","_handleKeyEvent","handleKeyEvent","nodeName","keyCode","shiftKey","mediaElementHasSource","mediaElement","querySelector","MediaElementPlayer","_mediaElement","_addMediaListener","_listeners","init","_eventEmitter","_duration","getDuration","_interval","code","MediaError","MEDIA_ERR_SRC_NOT_SUPPORTED","eventHandler","readyState","HTMLMediaElement","HAVE_NOTHING","load","paused","seeking","currentTime","SetSourceHandler","_playerCanPlayHandler","_playerErrorHandler","setSource","_options","_callback","_resolve","_reject","mediaUrl","_reset","setSourceHandler","getAllPropertiesFrom","adapter","allProperties","getOwnPropertyNames","validateAdapter","publicAdapterMethods","Player","_playingSegment","_segment","_loop","_playSegmentTimerCallback","_adapter","_logger","playSegment","loop","_setSource","Line_1","Line","getControlPoints","d01","d12","fa","fb","p1x","p1y","p2x","p2y","expandPoints","tension","allPoints","cp","_Shape_1$Shape","_sceneFunc","bezier","tp","getTensionPoints","_getTensionPoints","_getTensionPointsClosed","firstControlPoints","lastControlPoints","middle","Rect_1","Rect","Text_1","Text","stringToArray","string","reduce","acc","char","nextChar","AUTO","CENTER","INHERIT","JUSTIFY","CHANGE_KONVA","CONTEXT_2D","DASH","LEFT","TEXT","TEXT_UPPER","TOP","BOTTOM","MIDDLE","NORMAL","PX_SPACE","RIGHT","RTL","WORD","CHAR","NONE","ELLIPSIS","ATTR_CHANGE_LIST","attrChangeListLen","normalizeFontFamily","fontFamily","trim","hasSpace","hasQuotes","_partialText","_partialTextX","_partialTextY","checkDefaultFill","_setTextData","textArr","textArrLen","fontSize","lineHeightPx","lineHeight","verticalAlign","direction","alignY","align","totalWidth","letterSpacing","textDecoration","shouldUnderline","shouldLineThrough","translateY","baseline","metrics","measureSize","fontBoundingBoxAscent","fontBoundingBoxDescent","_getContextFont","lineTranslateX","lineTranslateY","lastLine","lastInParagraph","yOffset","lineWidth","gradient","strokeStyle","spacesNumber","li","letter","_hitFunc","setText","getTextWidth","textWidth","getTextHeight","textHeight","_d","_e","_f","_g","_h","_j","_k","_l","font","scaleFactor","actualBoundingBoxAscent","actualBoundingBoxDescent","actualBoundingBoxLeft","actualBoundingBoxRight","alphabeticBaseline","emHeightAscent","emHeightDescent","hangingBaseline","ideographicBaseline","fontStyle","fontVariant","_addTextLine","_getTextWidth","lines","fixedWidth","fixedHeight","maxHeightPx","currentHeightPx","wrap","shouldWrap","wrapAtWord","shouldAddEllipsis","ellipsis","additionalWidth","low","high","matchWidth","mid","lineArray","substrWidth","shouldConsiderEllipsis","effectiveWidth","matchArray","nextIsSpaceOrDash","wrapIndex","lastSpaceIndex","lastIndexOf","lastDashIndex","trimRight","shouldHandleEllipsis","_shouldHandleEllipsis","_tryToAddEllipsisToLastLine","trimLeft","haveSpace","hasLine","DefaultPointMarker","_draggable","group","handleWidth","handleHeight","handleX","view","_label","textAlign","_handle","_line","fitToView","bindEventHandlers","setX","DefaultSegmentMarker","xPosition","startMarker","createSegmentMarker","createSegmentLabel","createPointMarker","HighlightLayer","_view","_offset","highlightOffset","highlightColor","_layer","_highlightRect","_strokeColor","highlightStrokeColor","_opacity","highlightOpacity","_cornerRadius","highlightCornerRadius","addToStage","showHighlight","_createHighlightRect","_update","startOffset","timeToPixels","endOffset","removeHighlight","updateHighlight","PointMarker","_point","_marker","_onDragStart","onDragStart","_onDragMove","onDragMove","_onDragEnd","onDragEnd","_dragBoundFunc","_onMouseEnter","onMouseEnter","_onMouseLeave","onMouseLeave","_group","_bindDefaultEventHandlers","addToLayer","getX","PointsLayer","enableEditing","_enableEditing","_pointMarkers","_onPointsDrag","_onPointMarkerDragStart","_onPointMarkerDragMove","_onPointMarkerDragEnd","_pointMarkerDragBoundFunc","_onPointMarkerMouseEnter","_onPointMarkerMouseLeave","_onPointsUpdate","_onPointsAdd","_onPointsRemove","_onPointsRemoveAll","setListening","enable","getPointMarker","frameStartTime","getStartTime","frameEndTime","getEndTime","pointMarker","_removePoint","_updatePoint","pointMarkerOffset","pointMarkerX","getFrameOffset","_createPointMarker","viewOptions","getViewOptions","getName","_addPointMarker","_dragPointMarker","markerX","pixelOffsetToTime","updatePoints","_removeInvisiblePoints","pointPid","setVisible","PlayheadLayer","_player","_playheadPixel","_playheadLineAnimation","_playheadVisible","_playheadColor","playheadColor","_playheadTextColor","playheadTextColor","_playheadBackgroundColor","playheadBackgroundColor","_playheadPadding","playheadPadding","_playheadWidth","playheadWidth","_playheadFontFamily","playheadFontFamily","_playheadFontSize","playheadFontSize","_playheadFontStyle","playheadFontStyle","_playheadLayer","_createPlayhead","showPlayheadTime","_createPlayheadText","zoomLevelChanged","pixelsPerSecond","_useAnimation","_start","_playheadLine","_playheadText","_playheadGroup","fillStyle","updatePlayheadTime","_syncPlayhead","pixelIndex","frameOffset","playheadX","playheadTextWidth","playheadPosChanged","lastPlayheadPosition","playheadPosition","getPlayheadPixel","updatePlayheadText","OverlaySegmentMarker","body","cursor","viewHeight","overlayOffset","overlayRectHeight","SegmentMarker","_segmentShape","segmentShape","_startMarker","_onClick","onClick","isStartMarker","WaveformShape","shapeOptions","startY","_height","endY","fillLinearGradientStartPointY","fillLinearGradientEndPointY","_shape","setSegment","setWaveformColor","_drawWaveform","getWaveformData","waveformData","startPixels","endPixels","limit","channels","waveformTop","waveformHeight","_drawChannel","channel","amplitude","amplitudeScale","getAmplitudeScale","lineX","lineY","min_sample","max_sample","SegmentShape","_endMarker","isSegmentDraggingEnabled","_dragging","_overlayOffset","_waveformShape","_onMouseDown","_onMouseUp","_onSegmentDragStart","_onSegmentDragMove","_onSegmentDragEnd","_onSegmentMarkerClick","_onSegmentMarkerDragStart","_onSegmentMarkerDragMove","_onSegmentMarkerDragEnd","_segmentMarkerDragBoundFunc","segmentStartOffset","timeToPixelOffset","segmentEndOffset","overlayBorderWidth","overlayOpacity","overlayCornerRadius","_overlayRect","_overlayText","overlayFontFamily","overlayFontSize","overlayFontStyle","overlayLabelColor","overlayLabelAlign","overlayLabelVerticalAlign","overlayLabelPadding","_createMarkers","createOverlayMarker","isEditingEnabled","endMarker","startMarkerColor","endMarkerColor","getStartMarker","getEndMarker","bordercolor","segmentClicked","eventName","_moveToTop","moveSegmentMarkersToTop","enableSegmentDragging","_setPreviousAndNextSegments","getSegmentDragMode","_nextSegment","_previousSegment","_dragStartX","_dragStartTime","_dragEndTime","timeOffset","pixelsToTime","segmentDuration","dragMode","minSegmentWidth","getMinSegmentDragWidth","minSegmentDuration","previousSegmentUpdated","nextSegmentUpdated","previousSegmentEndX","previousSegmentEndTime","minPreviousSegmentEndTime","nextSegmentStartX","nextSegmentStartTime","maxNextSegmentStartTime","moveMarkersToTop","segmentMarker","_startMarkerX","_endMarkerX","_segmentStartMarkerDragMove","_segmentEndMarkerDragMove","startMarkerX","endMarkerX","upperLimit","previousSegmentVisible","fixedPreviousSegment","compressPreviousSegment","previousSegmentDuration","lowerLimit","nextSegmentVisible","fixedNextSegment","compressNextSegment","nextSegmentDuration","SegmentsLayer","_segmentShapes","_onSegmentsUpdate","_onSegmentsAdd","_onSegmentsRemove","_onSegmentsRemoveAll","_onSegmentsDragged","segmentPid","getSegmentShape","_removeSegment","_updateSegment","_addSegmentShape","_createSegmentShape","updateSegments","_removeInvisibleSegments","WaveformAxis","_axisGridlineColor","axisGridlineColor","_axisLabelColor","axisLabelColor","_showAxisLabels","showAxisLabels","_axisTopMarkerHeight","axisTopMarkerHeight","_axisBottomMarkerHeight","axisBottomMarkerHeight","formatAxisTime","_formatAxisTime","_axisLabelFont","_buildFontString","_axisShape","_drawAxis","topMarkerHeight","bottomMarkerHeight","setAxisLabelColor","setAxisGridlineColor","_getAxisLabelScale","baseSecs","steps","minSpacing","secs","pixels","currentFrameStartTime","axisLabelIntervalSecs","firstAxisLabelSecs","axisLabelOffsetSecs","axisLabelOffsetPixels","label","labelWidth","labelX","labelY","WaveformView","_container","_viewOptions","_originalWaveformData","_data","_frameOffset","_width","_amplitudeScale","_waveformColor","_playedWaveformColor","playedWaveformColor","_timeLabelPrecision","timeLabelPrecision","formatPlayheadTime","_formatPlayheadTime","_enableSeek","initWaveformData","_stage","_createWaveform","enableSegments","_segmentsLayer","enablePoints","_pointsLayer","initHighlightLayer","_createAxisLabels","_onDblClick","_onContextMenu","setWaveformData","sample_rate","_getDuration","_waveformLayer","_createWaveformShapes","_playedWaveformShape","_playedSegment","_unplayedSegment","setPlayedWaveformColor","_destroyPlayedWaveformShape","_axisLayer","_axis","setTimeLabelPrecision","setAmplitudeScale","drawWaveformLayer","enableSeek","isSeekEnabled","_clickHandler","emitViewEvent","preventViewEvent","clickEvent","viewName","enableMarkerEditing","dragSeek","dragging","fitToContainer","updateWaveform","containerWidthChange","heightChanged","containerHeightChange","MouseDragHandler","_handlers","_mouseDown","_mouseUp","_mouseMove","_lastMouseClientX","button","onMouseDown","mouseDownPosX","_getMousePosX","capture","onMouseMove","mousePosX","onMouseUp","containerPos","getContainer","SeekMouseDragHandler","_firstMove","_onMouseMove","_mouseDragHandler","_seek","WaveformOverview","overview","_onPause","_onZoomviewUpdate","zoomview","views","getView","_highlightLayer","_resampleAndSetWaveformData","resample","removeHighlightRect","playheadTime","InsertSegmentMouseDragHandler","_insertSegment","_insertSegmentShape","_segmentIsDraggable","ScrollMouseDragHandler","_seeking","_initialFrameOffset","_mouseDownX","playheadOffset","getPlayheadOffset","getPlayheadClickTolerance","isAutoZoom","newFrameOffset","WaveformZoomView","_onKeyboardLeft","_onKeyboardRight","_onKeyboardShiftLeft","_onKeyboardShiftRight","_autoScroll","autoScroll","_autoScrollOffset","autoScrollOffset","_enableSegmentDragging","_segmentDragMode","_minSegmentDragWidth","_playheadClickTolerance","playheadClickTolerance","_zoomLevelAuto","_zoomLevelSeconds","_onWheel","_onWheelCaptureVerticalScroll","setWheelMode","wheelMode","_enableWaveformCache","waveformCache","_initWaveformCache","initialZoomLevel","zoom","getZoomLevel","_resampleData","_waveformData","_waveformScales","mode","_wheelMode","captureVerticalScroll","_captureVerticalScroll","wheelEvent","deltaY","deltaX","deltaMode","WheelEvent","DOM_DELTA_PAGE","_pixelLength","setWaveformDragMode","setSegmentDragMode","_keyboardScroll","large","increment","nudgeIncrement","scrollWaveform","endThreshold","_getScale","isAutoScale","setZoom","apexTime","playheadOffsetPixels","prevScale","_scale","apexPixel","currentZoom","previousZoom","sourceWaveform","setStartTime","getPixelLength","scrollAmount","forceUpdate","playheadPixel","enableAutoScroll","setMinSegmentDragWidth","resampleOptions","getSegmentsLayer","Scrollbar","scrollbar","_zoomview","_onScrollboxDragStart","_onScrollboxDragMove","_onScrollboxDragEnd","_onScrollbarClick","_scrollboxX","_minScrollboxWidth","minWidth","_offsetY","_scrollbox","_scrollboxRect","_setScrollboxWidth","_updateScrollbarWidthAndPosition","setZoomview","_scrollboxWidth","_getScrollbarRange","range","_updateWaveform","zoomviewRange","scrollBoxPos","ViewController","_overview","_scrollbar","createOverview","createZoomview","createScrollbar","destroyOverview","destroyZoomview","getScrollbar","ZoomController","zoomLevels","_zoomLevels","_zoomLevelIndex","setZoomLevels","zoomIn","zoomOut","zoomLevelIndex","getZoom","WaveformDataChannel","channelIndex","_channelIndex","_at","set_min_sample","sample","_set_at","set_max_sample","min_array","values","max_array","INT8_MAX","INT8_MIN","INT16_MAX","INT16_MIN","calculateWaveformDataLength","audio_sample_count","data_length","samples_remaining","generateWaveformData","amplitude_scale","split_channels","Float32Array","output_channels","header_size","bytes_per_sample","bits","total_size","ArrayBuffer","data_view","DataView","scale_counter","min_value","max_value","range_min","range_max","setInt32","setUint32","_channel","_channel2","_channel3","setInt8","setInt16","_channel4","Symbol","iterator","isJsonWaveformData","isBinaryWaveformData","isCompatible","getInt32","convertJsonToBinary","expected_length","array_buffer","data_object","samples_per_pixel","_i","decodeBase64","base64","enableUnicode","binaryString","atob","createURL","sourcemapArg","enableUnicodeArg","Blob","URL","createObjectURL","createBase64WorkerFactory","WorkerFactory","Worker","WaveformData","_version","_channels","defaultOptions","disable_worker","getOptions","opts","getChannelData","audio_buffer","numberOfChannels","createFromAudioBuffer","sampleRate","worker","onmessage","postMessage","createFromArrayBuffer","audioContext","audioData","errorCallback","DOMException","promise","decodeAudioData","catch","createFromAudio","audio_context","WaveformResampler","_inputData","_output_samples_per_pixel","_input_buffer_size","input_buffer_length_samples","output_buffer_length_samples","output_header_size","_output_data","output_dataview","_outputWaveformData","_input_index","_output_index","_min","_max","_min_value","_max_value","_where","_prev_where","_stop","_last_input_index","sample_at_pixel","next","count","total","_i2","_i3","getOutputData","_getResampleOptions","abortSignal","resampler","otherWaveforms","otherWaveform","combinedBuffer","_concatBuffers","headerSize","totalSize","totalDataLength","bufferCollection","w","dataSize","byteLength","totalBuffer","sourceHeader","totalBufferView","_i4","setUint8","getUint8","dataOfTotalBuffer","Uint8Array","_i5","_buffer","startIndex","endIndex","at_time","output_data","getUint32","Boolean","pixels_per_second","seconds_per_pixel","at_sample","getInt8","getInt16","set_at","waveform","toArrayBuffer","isXhr2","XMLHttpRequest","WaveformBuilder","dataUri","webAudio","_getRemoteWaveformData","_buildWaveformFromLocalData","audioBuffer","_buildWaveformDataFromAudioBuffer","_buildWaveformDataUsingWebAudio","hasValidContentRangeHeader","xhr","contentRange","getResponseHeader","matches","firstPos","lastPos","requestType","some","connector","_xhr","_createXHR","withCredentials","status","response","send","json","arraybuffer","createdWaveformData","AudioContext","webkitAudioContext","webAudioOptions","mediaSourceUrl","currentSrc","_requestAudioAndBuildWaveformData","webAudioBuilderOptions","multiChannel","abort","onLoad","onError","onAbort","open","responseType","onerror","Peaks","logger","defaultViewOptions","defaultZoomviewOptions","defaultOverviewOptions","defaultSegmentOptions","defaultScrollbarOptions","getOverviewOptions","overviewOptions","optNames","optName","getZoomviewOptions","zoomviewOptions","getScrollbarOptions","scrollbarOptions","extendOptions","addSegmentOptions","checkContainerElements","zoomviewContainer","overviewContainer","instance","_setOptions","scrollbarContainer","keyboard","_keyboardHandler","_waveformBuilder","then","emitCueEvents","_cueEmitter"],"mappings":"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","x_google_ignoreList":[0,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,30,31,32,56]}